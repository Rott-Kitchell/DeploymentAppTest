(this.webpackChunkmy_webpack_project=this.webpackChunkmy_webpack_project||[]).push([[510],{80657:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"],n=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...r],s=["null","undefined","string","number","bigint","boolean","symbol"];function o(e){return t=>typeof t===e}const{toString:i}=Object.prototype,a=e=>{const t=i.call(e).slice(8,-1);return/HTML\w+Element/.test(t)&&u.domElement(e)?"HTMLElement":(r=t,n.includes(r)?t:void 0);var r},c=e=>t=>a(t)===e;function u(e){if(null===e)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(u.observable(e))return"Observable";if(u.array(e))return"Array";if(u.buffer(e))return"Buffer";const t=a(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}u.undefined=o("undefined"),u.string=o("string");const l=o("number");u.number=e=>l(e)&&!u.nan(e),u.bigint=o("bigint"),u.function_=o("function"),u.null_=e=>null===e,u.class_=e=>u.function_(e)&&e.toString().startsWith("class "),u.boolean=e=>!0===e||!1===e,u.symbol=o("symbol"),u.numericString=e=>u.string(e)&&!u.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e)),u.array=(e,t)=>!!Array.isArray(e)&&(!u.function_(t)||e.every(t)),u.buffer=e=>{var t,r,n,s;return null!==(s=null===(n=null===(r=null===(t=e)||void 0===t?void 0:t.constructor)||void 0===r?void 0:r.isBuffer)||void 0===n?void 0:n.call(r,e))&&void 0!==s&&s},u.blob=e=>c("Blob")(e),u.nullOrUndefined=e=>u.null_(e)||u.undefined(e),u.object=e=>!u.null_(e)&&("object"==typeof e||u.function_(e)),u.iterable=e=>{var t;return u.function_(null===(t=e)||void 0===t?void 0:t[Symbol.iterator])},u.asyncIterable=e=>{var t;return u.function_(null===(t=e)||void 0===t?void 0:t[Symbol.asyncIterator])},u.generator=e=>{var t,r;return u.iterable(e)&&u.function_(null===(t=e)||void 0===t?void 0:t.next)&&u.function_(null===(r=e)||void 0===r?void 0:r.throw)},u.asyncGenerator=e=>u.asyncIterable(e)&&u.function_(e.next)&&u.function_(e.throw),u.nativePromise=e=>c("Promise")(e),u.promise=e=>u.nativePromise(e)||(e=>{var t,r;return u.function_(null===(t=e)||void 0===t?void 0:t.then)&&u.function_(null===(r=e)||void 0===r?void 0:r.catch)})(e),u.generatorFunction=c("GeneratorFunction"),u.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===a(e),u.asyncFunction=e=>"AsyncFunction"===a(e),u.boundFunction=e=>u.function_(e)&&!e.hasOwnProperty("prototype"),u.regExp=c("RegExp"),u.date=c("Date"),u.error=c("Error"),u.map=e=>c("Map")(e),u.set=e=>c("Set")(e),u.weakMap=e=>c("WeakMap")(e),u.weakSet=e=>c("WeakSet")(e),u.int8Array=c("Int8Array"),u.uint8Array=c("Uint8Array"),u.uint8ClampedArray=c("Uint8ClampedArray"),u.int16Array=c("Int16Array"),u.uint16Array=c("Uint16Array"),u.int32Array=c("Int32Array"),u.uint32Array=c("Uint32Array"),u.float32Array=c("Float32Array"),u.float64Array=c("Float64Array"),u.bigInt64Array=c("BigInt64Array"),u.bigUint64Array=c("BigUint64Array"),u.arrayBuffer=c("ArrayBuffer"),u.sharedArrayBuffer=c("SharedArrayBuffer"),u.dataView=c("DataView"),u.enumCase=(e,t)=>Object.values(t).includes(e),u.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype,u.urlInstance=e=>c("URL")(e),u.urlString=e=>{if(!u.string(e))return!1;try{return new URL(e),!0}catch(e){return!1}},u.truthy=e=>Boolean(e),u.falsy=e=>!e,u.nan=e=>Number.isNaN(e),u.primitive=e=>{return u.null_(e)||(t=typeof e,s.includes(t));var t},u.integer=e=>Number.isInteger(e),u.safeInteger=e=>Number.isSafeInteger(e),u.plainObject=e=>{if("[object Object]"!==i.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},u.typedArray=e=>{return t=a(e),r.includes(t);var t},u.arrayLike=e=>!u.nullOrUndefined(e)&&!u.function_(e)&&(e=>u.safeInteger(e)&&e>=0)(e.length),u.inRange=(e,t)=>{if(u.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(u.array(t)&&2===t.length)return e>=Math.min(...t)&&e<=Math.max(...t);throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)};const h=["innerHTML","ownerDocument","style","attributes","nodeValue"];u.domElement=e=>u.object(e)&&1===e.nodeType&&u.string(e.nodeName)&&!u.plainObject(e)&&h.every((t=>t in e)),u.observable=e=>{var t,r,n,s;return!!e&&(e===(null===(r=(t=e)[Symbol.observable])||void 0===r?void 0:r.call(t))||e===(null===(s=(n=e)["@@observable"])||void 0===s?void 0:s.call(n)))},u.nodeStream=e=>u.object(e)&&u.function_(e.pipe)&&!u.observable(e),u.infinite=e=>e===1/0||e===-1/0;const f=e=>t=>u.integer(t)&&Math.abs(t%2)===e;u.evenInteger=f(0),u.oddInteger=f(1),u.emptyArray=e=>u.array(e)&&0===e.length,u.nonEmptyArray=e=>u.array(e)&&e.length>0,u.emptyString=e=>u.string(e)&&0===e.length,u.emptyStringOrWhitespace=e=>u.emptyString(e)||(e=>u.string(e)&&!/\S/.test(e))(e),u.nonEmptyString=e=>u.string(e)&&e.length>0,u.nonEmptyStringAndNotWhitespace=e=>u.string(e)&&!u.emptyStringOrWhitespace(e),u.emptyObject=e=>u.object(e)&&!u.map(e)&&!u.set(e)&&0===Object.keys(e).length,u.nonEmptyObject=e=>u.object(e)&&!u.map(e)&&!u.set(e)&&Object.keys(e).length>0,u.emptySet=e=>u.set(e)&&0===e.size,u.nonEmptySet=e=>u.set(e)&&e.size>0,u.emptyMap=e=>u.map(e)&&0===e.size,u.nonEmptyMap=e=>u.map(e)&&e.size>0,u.propertyKey=e=>u.any([u.string,u.number,u.symbol],e),u.formData=e=>c("FormData")(e),u.urlSearchParams=e=>c("URLSearchParams")(e);const d=(e,t,r)=>{if(!u.function_(t))throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(0===r.length)throw new TypeError("Invalid number of values");return e.call(r,t)};u.any=(e,...t)=>(u.array(e)?e:[e]).some((e=>d(Array.prototype.some,e,t))),u.all=(e,...t)=>d(Array.prototype.every,e,t);const p=(e,t,r,n={})=>{if(!e){const{multipleValues:e}=n,s=e?`received values of types ${[...new Set(r.map((e=>`\`${u(e)}\``)))].join(", ")}`:`received value of type \`${u(r)}\``;throw new TypeError(`Expected value which is \`${t}\`, ${s}.`)}};t.assert={undefined:e=>p(u.undefined(e),"undefined",e),string:e=>p(u.string(e),"string",e),number:e=>p(u.number(e),"number",e),bigint:e=>p(u.bigint(e),"bigint",e),function_:e=>p(u.function_(e),"Function",e),null_:e=>p(u.null_(e),"null",e),class_:e=>p(u.class_(e),"Class",e),boolean:e=>p(u.boolean(e),"boolean",e),symbol:e=>p(u.symbol(e),"symbol",e),numericString:e=>p(u.numericString(e),"string with a number",e),array:(e,t)=>{p(u.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>p(u.buffer(e),"Buffer",e),blob:e=>p(u.blob(e),"Blob",e),nullOrUndefined:e=>p(u.nullOrUndefined(e),"null or undefined",e),object:e=>p(u.object(e),"Object",e),iterable:e=>p(u.iterable(e),"Iterable",e),asyncIterable:e=>p(u.asyncIterable(e),"AsyncIterable",e),generator:e=>p(u.generator(e),"Generator",e),asyncGenerator:e=>p(u.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>p(u.nativePromise(e),"native Promise",e),promise:e=>p(u.promise(e),"Promise",e),generatorFunction:e=>p(u.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>p(u.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>p(u.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>p(u.boundFunction(e),"Function",e),regExp:e=>p(u.regExp(e),"RegExp",e),date:e=>p(u.date(e),"Date",e),error:e=>p(u.error(e),"Error",e),map:e=>p(u.map(e),"Map",e),set:e=>p(u.set(e),"Set",e),weakMap:e=>p(u.weakMap(e),"WeakMap",e),weakSet:e=>p(u.weakSet(e),"WeakSet",e),int8Array:e=>p(u.int8Array(e),"Int8Array",e),uint8Array:e=>p(u.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>p(u.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>p(u.int16Array(e),"Int16Array",e),uint16Array:e=>p(u.uint16Array(e),"Uint16Array",e),int32Array:e=>p(u.int32Array(e),"Int32Array",e),uint32Array:e=>p(u.uint32Array(e),"Uint32Array",e),float32Array:e=>p(u.float32Array(e),"Float32Array",e),float64Array:e=>p(u.float64Array(e),"Float64Array",e),bigInt64Array:e=>p(u.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>p(u.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>p(u.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>p(u.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>p(u.dataView(e),"DataView",e),enumCase:(e,t)=>p(u.enumCase(e,t),"EnumCase",e),urlInstance:e=>p(u.urlInstance(e),"URL",e),urlString:e=>p(u.urlString(e),"string with a URL",e),truthy:e=>p(u.truthy(e),"truthy",e),falsy:e=>p(u.falsy(e),"falsy",e),nan:e=>p(u.nan(e),"NaN",e),primitive:e=>p(u.primitive(e),"primitive",e),integer:e=>p(u.integer(e),"integer",e),safeInteger:e=>p(u.safeInteger(e),"integer",e),plainObject:e=>p(u.plainObject(e),"plain object",e),typedArray:e=>p(u.typedArray(e),"TypedArray",e),arrayLike:e=>p(u.arrayLike(e),"array-like",e),domElement:e=>p(u.domElement(e),"HTMLElement",e),observable:e=>p(u.observable(e),"Observable",e),nodeStream:e=>p(u.nodeStream(e),"Node.js Stream",e),infinite:e=>p(u.infinite(e),"infinite number",e),emptyArray:e=>p(u.emptyArray(e),"empty array",e),nonEmptyArray:e=>p(u.nonEmptyArray(e),"non-empty array",e),emptyString:e=>p(u.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>p(u.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>p(u.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>p(u.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>p(u.emptyObject(e),"empty object",e),nonEmptyObject:e=>p(u.nonEmptyObject(e),"non-empty object",e),emptySet:e=>p(u.emptySet(e),"empty set",e),nonEmptySet:e=>p(u.nonEmptySet(e),"non-empty set",e),emptyMap:e=>p(u.emptyMap(e),"empty map",e),nonEmptyMap:e=>p(u.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>p(u.propertyKey(e),"PropertyKey",e),formData:e=>p(u.formData(e),"FormData",e),urlSearchParams:e=>p(u.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>p(u.evenInteger(e),"even integer",e),oddInteger:e=>p(u.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>p(u.directInstanceOf(e,t),"T",e),inRange:(e,t)=>p(u.inRange(e,t),"in range",e),any:(e,...t)=>p(u.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>p(u.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})},Object.defineProperties(u,{class:{value:u.class_},function:{value:u.function_},null:{value:u.null_}}),Object.defineProperties(t.assert,{class:{value:t.assert.class_},function:{value:t.assert.function_},null:{value:t.assert.null_}}),t.default=u,e.exports=u,e.exports.default=u,e.exports.assert=t.assert},60081:(e,t,r)=>{"use strict";var n=r(34155);Object.defineProperty(t,"__esModule",{value:!0});const s=r(1313),o=r(89539),i=Number(n.versions.node.split(".")[0]),a=e=>{if(e.timings)return e.timings;const t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;const r=e=>{const r=e.emit.bind(e);e.emit=(n,...s)=>("error"===n&&(t.error=Date.now(),t.phases.total=t.error-t.start,e.emit=r),r(n,...s))};r(e);const n=()=>{t.abort=Date.now(),(!t.response||i>=13)&&(t.phases.total=Date.now()-t.start)};e.prependOnceListener("abort",n);const a=e=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,o.types.isProxy(e))return;const r=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};e.prependOnceListener("lookup",r),s.default(e,{connect:()=>{t.connect=Date.now(),void 0===t.lookup&&(e.removeListener("lookup",r),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?a(e.socket):e.prependOnceListener("socket",a);const c=()=>{var e;t.upload=Date.now(),t.phases.request=t.upload-(null!==(e=t.secureConnect)&&void 0!==e?e:t.connect)};return("boolean"==typeof e.writableFinished?!e.writableFinished:!e.finished||0!==e.outputSize||e.socket&&0!==e.socket.writableLength)?e.prependOnceListener("finish",c):c(),e.prependOnceListener("response",(e=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,e.timings=t,r(e),e.prependOnceListener("end",(()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start})),e.prependOnceListener("aborted",n)})),t};t.default=a,e.exports=a,e.exports.default=a},73266:(e,t,r)=>{"use strict";const{V4MAPPED:n,ADDRCONFIG:s,ALL:o,promises:{Resolver:i},lookup:a}=r(19623),{promisify:c}=r(89539),u=r(97163),l=Symbol("cacheableLookupCreateConnection"),h=Symbol("cacheableLookupInstance"),f=Symbol("expires"),d="number"==typeof o,p=e=>{if(!e||"function"!=typeof e.createConnection)throw new Error("Expected an Agent instance as the first argument")},m=()=>{let e=!1,t=!1;for(const r of Object.values(u.networkInterfaces()))for(const n of r)if(!n.internal&&("IPv6"===n.family?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},y={ttl:!0},v={all:!0};class g{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:r=3600,errorTtl:n=.15,resolver:s=new i,lookup:o=a}={}){if(this.maxTtl=t,this.errorTtl=n,this._cache=e,this._resolver=s,this._dnsLookup=c(o),this._resolver instanceof i?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=c(this._resolver.resolve4.bind(this._resolver)),this._resolve6=c(this._resolver.resolve6.bind(this._resolver))),this._iface=m(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,r<1)this._fallback=!1;else{this._fallback=!0;const e=setInterval((()=>{this._hostnamesToFallback.clear()}),1e3*r);e.unref&&e.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if("function"==typeof t?(r=t,t={}):"number"==typeof t&&(t={family:t}),!r)throw new Error("Callback must be a function.");this.lookupAsync(e,t).then((e=>{t.all?r(null,e):r(null,e.address,e.family,e.expires,e.ttl)}),r)}async lookupAsync(e,t={}){"number"==typeof t&&(t={family:t});let r=await this.query(e);if(6===t.family){const e=r.filter((e=>6===e.family));t.hints&n&&(d&&t.hints&o||0===e.length)?(e=>{for(const t of e)6!==t.family&&(t.address=`::ffff:${t.address}`,t.family=6)})(r):r=e}else 4===t.family&&(r=r.filter((e=>4===e.family)));if(t.hints&s){const{_iface:e}=this;r=r.filter((t=>6===t.family?e.has6:e.has4))}if(0===r.length){const t=new Error(`cacheableLookup ENOTFOUND ${e}`);throw t.code="ENOTFOUND",t.hostname=e,t}return t.all?r:r[0]}async query(e){let t=await this._cache.get(e);if(!t){const r=this._pending[e];if(r)t=await r;else{const r=this.queryAndCache(e);this._pending[e]=r;try{t=await r}finally{delete this._pending[e]}}}return t=t.map((e=>({...e}))),t}async _resolve(e){const[t,r]=await Promise.all([this._resolve4(e,y),this._resolve6(e,y)].map((e=>(async e=>{try{return await e}catch(e){if("ENODATA"===e.code||"ENOTFOUND"===e.code)return[];throw e}})(e))));let n=0,s=0,o=0;const i=Date.now();for(const e of t)e.family=4,e.expires=i+1e3*e.ttl,n=Math.max(n,e.ttl);for(const e of r)e.family=6,e.expires=i+1e3*e.ttl,s=Math.max(s,e.ttl);return o=t.length>0?r.length>0?Math.min(n,s):n:s,{entries:[...t,...r],cacheTtl:o}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch(e){return{entries:[],cacheTtl:0}}}async _set(e,t,r){if(this.maxTtl>0&&r>0){r=1e3*Math.min(r,this.maxTtl),t[f]=Date.now()+r;try{await this._cache.set(e,t,r)}catch(e){this.lookupAsync=async()=>{const t=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw t.cause=e,t}}n=this._cache,Symbol.iterator in n&&this._tick(r)}var n}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,v);let t=await this._resolve(e);0===t.entries.length&&this._fallback&&(t=await this._lookup(e),0!==t.entries.length&&this._hostnamesToFallback.add(e));const r=0===t.entries.length?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,r),t.entries}_tick(e){const t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout((()=>{this._nextRemovalTime=!1;let e=1/0;const t=Date.now();for(const[r,n]of this._cache){const s=n[f];t>=s?this._cache.delete(r):s<e&&(e=s)}e!==1/0&&this._tick(e-t)}),e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(p(e),l in e)throw new Error("CacheableLookup has been already installed");e[l]=e.createConnection,e[h]=this,e.createConnection=(t,r)=>("lookup"in t||(t.lookup=this.lookup),e[l](t,r))}uninstall(e){if(p(e),e[l]){if(e[h]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[l],delete e[l],delete e[h]}}updateInterfaceInfo(){const{_iface:e}=this;this._iface=m(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){e?this._cache.delete(e):this._cache.clear()}}e.exports=g,e.exports.default=g},93481:(e,t,r)=>{"use strict";const n=r(17187),s=r(8575),o=r(40015),i=r(10031),a=r(26214),c=r(24259),u=r(25989),l=r(79715),h=r(64958);class f{constructor(e,t){if("function"!=typeof e)throw new TypeError("Parameter `request` must be a function");return this.cache=new h({uri:"string"==typeof t&&t,store:"string"!=typeof t&&t,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(t,r)=>{let h;if("string"==typeof t)h=p(s.parse(t)),t={};else if(t instanceof s.URL)h=p(s.parse(t.toString())),t={};else{const[e,...r]=(t.path||"").split("?"),n=r.length>0?`?${r.join("?")}`:"";h=p({...t,pathname:e,search:n})}(t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...d(h)}).headers=u(t.headers);const m=new n,y=o(s.format(h),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),v=`${t.method}:${y}`;let g=!1,b=!1;const w=t=>{b=!0;let n,s=!1;const o=new Promise((e=>{n=()=>{s||(s=!0,e())}})),u=e=>{if(g&&!t.forceRefresh){e.status=e.statusCode;const r=a.fromObject(g.cachePolicy).revalidatedPolicy(t,e);if(!r.modified){const t=r.policy.responseHeaders();(e=new c(g.statusCode,t,g.body,g.url)).cachePolicy=r.policy,e.fromCache=!0}}let n;e.fromCache||(e.cachePolicy=new a(t,e,t),e.fromCache=!1),t.cache&&e.cachePolicy.storable()?(n=l(e),(async()=>{try{const r=i.buffer(e);if(await Promise.race([o,new Promise((t=>e.once("end",t)))]),s)return;const n=await r,a={cachePolicy:e.cachePolicy.toObject(),url:e.url,statusCode:e.fromCache?g.statusCode:e.statusCode,body:n};let c=t.strictTtl?e.cachePolicy.timeToLive():void 0;t.maxTtl&&(c=c?Math.min(c,t.maxTtl):t.maxTtl),await this.cache.set(v,a,c)}catch(e){m.emit("error",new f.CacheError(e))}})()):t.cache&&g&&(async()=>{try{await this.cache.delete(v)}catch(e){m.emit("error",new f.CacheError(e))}})(),m.emit("response",n||e),"function"==typeof r&&r(n||e)};try{const r=e(t,u);r.once("error",n),r.once("abort",n),m.emit("request",r)}catch(e){m.emit("error",new f.RequestError(e))}};return(async()=>{const e=async e=>{await Promise.resolve();const t=e.cache?await this.cache.get(v):void 0;if(void 0===t)return w(e);const n=a.fromObject(t.cachePolicy);if(n.satisfiesWithoutRevalidation(e)&&!e.forceRefresh){const e=n.responseHeaders(),s=new c(t.statusCode,e,t.body,t.url);s.cachePolicy=n,s.fromCache=!0,m.emit("response",s),"function"==typeof r&&r(s)}else g=t,e.headers=n.revalidationHeaders(e),w(e)},n=e=>m.emit("error",new f.CacheError(e));this.cache.once("error",n),m.on("response",(()=>this.cache.removeListener("error",n)));try{await e(t)}catch(e){t.automaticFailover&&!b&&w(t),m.emit("error",new f.CacheError(e))}})(),m}}}function d(e){const t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}function p(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}f.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}},f.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}},e.exports=f},79715:(e,t,r)=>{"use strict";const n=r(42830).PassThrough,s=r(66344);e.exports=e=>{if(!e||!e.pipe)throw new TypeError("Parameter `response` must be a response stream.");const t=new n;return s(e,t),e.pipe(t)}},10346:(e,t,r)=>{"use strict";const{Transform:n,PassThrough:s}=r(42830),o=r(42635),i=r(91511);e.exports=e=>{const t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;const r="br"===t;if(r&&"function"!=typeof o.createBrotliDecompress)return e.destroy(new Error("Brotli is not supported on Node.js < 12")),e;let a=!0;const c=new n({transform(e,t,r){a=!1,r(null,e)},flush(e){e()}}),u=new s({autoDestroy:!1,destroy(t,r){e.destroy(),r(t)}}),l=r?o.createBrotliDecompress():o.createUnzip();return l.once("error",(t=>{!a||e.readable?u.destroy(t):u.end()})),i(e,u),e.pipe(c).pipe(l).pipe(u),u}},91511:e=>{"use strict";const t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,r)=>{if(r._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");const n=new Set(Object.keys(e).concat(t)),s={};for(const t of n)t in r||(s[t]={get(){const r=e[t];return"function"==typeof r?r.bind(e):r},set(r){e[t]=r},enumerable:!0,configurable:!1});return Object.defineProperties(r,s),e.once("aborted",(()=>{r.destroy(),r.emit("aborted")})),e.once("close",(()=>{e.complete&&r.readable?r.once("end",(()=>{r.emit("close")})):r.emit("close")})),r}},1313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=(e,t)=>{let r;r="function"==typeof t?{connect:t}:t;const n="function"==typeof r.connect,s="function"==typeof r.secureConnect,o="function"==typeof r.close,i=()=>{n&&r.connect(),function(e){return e.encrypted}(e)&&s&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),o&&e.once("close",r.close)};e.writable&&!e.connecting?i():e.connecting?e.once("connect",i):e.destroyed&&o&&r.close(e._hadError)};t.default=r,e.exports=r,e.exports.default=r},12840:(e,t,r)=>{var n=r(34155),s=r(30778),o=function(){},i=function(e,t,r){if("function"==typeof t)return i(e,null,t);t||(t={}),r=s(r||o);var a=e._writableState,c=e._readableState,u=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,h=!1,f=function(){e.writable||d()},d=function(){l=!1,u||r.call(e)},p=function(){u=!1,l||r.call(e)},m=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},y=function(t){r.call(e,t)},v=function(){n.nextTick(g)},g=function(){if(!h)return(!u||c&&c.ended&&!c.destroyed)&&(!l||a&&a.ended&&!a.destroyed)?void 0:r.call(e,new Error("premature close"))},b=function(){e.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",d),e.on("abort",v),e.req?b():e.on("request",b)):l&&!a&&(e.on("end",f),e.on("close",f)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",m),e.on("end",p),e.on("finish",d),!1!==t.error&&e.on("error",y),e.on("close",v),function(){h=!0,e.removeListener("complete",d),e.removeListener("abort",v),e.removeListener("request",b),e.req&&e.req.removeListener("finish",d),e.removeListener("end",f),e.removeListener("close",f),e.removeListener("finish",d),e.removeListener("exit",m),e.removeListener("end",p),e.removeListener("error",y),e.removeListener("close",v)}};e.exports=i},55105:(e,t,r)=>{"use strict";var n=r(23085).lW;const{PassThrough:s}=r(42830);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const o="buffer"===r;let i=!1;t?i=!(r||o):r=r||"utf8",o&&(r=null);const a=new s({objectMode:i});r&&a.setEncoding(r);let c=0;const u=[];return a.on("data",(e=>{u.push(e),i?c=u.length:c+=e.length})),a.getBufferedValue=()=>t?u:o?n.concat(u,c):u.join(""),a.getBufferedLength=()=>c,a}},10031:(e,t,r)=>{"use strict";const{constants:n}=r(48764),s=r(74286),o=r(55105);class i extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:r}=t;let a;return await new Promise(((c,u)=>{const l=e=>{e&&a.getBufferedLength()<=n.MAX_LENGTH&&(e.bufferedData=a.getBufferedValue()),u(e)};a=s(e,o(t),(e=>{e?l(e):c()})),a.on("data",(()=>{a.getBufferedLength()>r&&l(new i)}))})),a.getBufferedValue()}e.exports=a,e.exports.default=a,e.exports.buffer=(e,t)=>a(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>a(e,{...t,array:!0}),e.exports.MaxBufferError=i},36133:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(92337);t.default=function(e,...t){const r=(async()=>{if(e instanceof n.RequestError)try{for(const r of t)if(r)for(const t of r)e=await t(e)}catch(t){e=t}throw e})(),s=()=>r;return r.json=s,r.text=s,r.buffer=s,r.on=s,r}},9291:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});const o=r(17187),i=r(80657),a=r(80341),c=r(92337),u=r(28568),l=r(8178),h=r(94805),f=r(54992),d=r(38141),p=["request","response","redirect","uploadProgress","downloadProgress"];t.default=function e(t){let r,n;const s=new o.EventEmitter,m=new a(((o,a,y)=>{const v=g=>{const b=new l.default(void 0,t);b.retryCount=g,b._noPipe=!0,y((()=>b.destroy())),y.shouldReject=!1,y((()=>a(new c.CancelError(b)))),r=b,b.once("response",(async t=>{var r;if(t.retryCount=g,t.request.aborted)return;let s;try{s=await f.default(b),t.rawBody=s}catch(e){return}if(b._isAboutToError)return;const i=(null!==(r=t.headers["content-encoding"])&&void 0!==r?r:"").toLowerCase(),a=["gzip","deflate","br"].includes(i),{options:h}=b;if(a&&!h.decompress)t.body=s;else try{t.body=u.default(t,h.responseType,h.parseJson,h.encoding)}catch(e){if(t.body=s.toString(),d.isResponseOk(t))return void b._beforeError(e)}try{for(const[r,n]of h.hooks.afterResponse.entries())t=await n(t,(async t=>{const n=l.default.normalizeArguments(void 0,{...t,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},h);n.hooks.afterResponse=n.hooks.afterResponse.slice(0,r);for(const e of n.hooks.beforeRetry)await e(n);const s=e(n);return y((()=>{s.catch((()=>{})),s.cancel()})),s}))}catch(e){return void b._beforeError(new c.RequestError(e.message,e,b))}n=t,d.isResponseOk(t)?(b.destroy(),o(b.options.resolveBodyOnly?t.body:t)):b._beforeError(new c.HTTPError(t))}));const w=e=>{if(m.isCanceled)return;const{options:t}=b;if(e instanceof c.HTTPError&&!t.throwHttpErrors){const{response:t}=e;o(b.options.resolveBodyOnly?t.body:t)}else a(e)};b.once("error",w);const _=b.options.body;b.once("retry",((e,t)=>{var r,n;_===(null===(r=t.request)||void 0===r?void 0:r.options.body)&&i.default.nodeStream(null===(n=t.request)||void 0===n?void 0:n.options.body)?w(t):v(e)})),h.default(b,s,p)};v(0)}));m.on=(e,t)=>(s.on(e,t),m);const y=e=>{const t=(async()=>{await m;const{options:t}=n.request;return u.default(n,e,t.parseJson,t.encoding)})();return Object.defineProperties(t,Object.getOwnPropertyDescriptors(m)),t};return m.json=()=>{const{headers:e}=r.options;return r.writableFinished||void 0!==e.accept||(e.accept="application/json"),y("json")},m.buffer=()=>y("buffer"),m.text=()=>y("text"),m},s(r(92337),t)},37999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80657);t.default=(e,t)=>{if(n.default.null_(e.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");n.assert.any([n.default.string,n.default.undefined],e.encoding),n.assert.any([n.default.boolean,n.default.undefined],e.resolveBodyOnly),n.assert.any([n.default.boolean,n.default.undefined],e.methodRewriting),n.assert.any([n.default.boolean,n.default.undefined],e.isStream),n.assert.any([n.default.string,n.default.undefined],e.responseType),void 0===e.responseType&&(e.responseType="text");const{retry:r}=e;if(e.retry=t?{...t.retry}:{calculateDelay:e=>e.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},n.default.object(r)?(e.retry={...e.retry,...r},e.retry.methods=[...new Set(e.retry.methods.map((e=>e.toUpperCase())))],e.retry.statusCodes=[...new Set(e.retry.statusCodes)],e.retry.errorCodes=[...new Set(e.retry.errorCodes)]):n.default.number(r)&&(e.retry.limit=r),n.default.undefined(e.retry.maxRetryAfter)&&(e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter(n.default.number))),n.default.object(e.pagination)){t&&(e.pagination={...t.pagination,...e.pagination});const{pagination:r}=e;if(!n.default.function_(r.transform))throw new Error("`options.pagination.transform` must be implemented");if(!n.default.function_(r.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!n.default.function_(r.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!n.default.function_(r.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return"json"===e.responseType&&void 0===e.headers.accept&&(e.headers.accept="application/json"),e}},28568:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(92337);t.default=(e,t,r,s)=>{const{rawBody:o}=e;try{if("text"===t)return o.toString(s);if("json"===t)return 0===o.length?"":r(o.toString());if("buffer"===t)return o;throw new n.ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)}catch(t){throw new n.ParseError(t,e)}}},92337:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelError=t.ParseError=void 0;const o=r(8178);class i extends o.RequestError{constructor(e,t){const{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request),this.name="ParseError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_BODY_PARSE_FAILURE":this.code}}t.ParseError=i;class a extends o.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}}t.CancelError=a,s(r(8178),t)},76582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryAfterStatusCodes=void 0,t.retryAfterStatusCodes=new Set([413,429,503]),t.default=({attemptCount:e,retryOptions:t,error:r,retryAfter:n})=>{if(e>t.limit)return 0;const s=t.methods.includes(r.options.method),o=t.errorCodes.includes(r.code),i=r.response&&t.statusCodes.includes(r.response.statusCode);if(!s||!o&&!i)return 0;if(r.response){if(n)return void 0===t.maxRetryAfter||n>t.maxRetryAfter?0:n;if(413===r.response.statusCode)return 0}return 2**(e-1)*1e3+100*Math.random()}},8178:(e,t,r)=>{"use strict";var n=r(34155),s=r(23085).lW;Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedProtocolError=t.ReadError=t.TimeoutError=t.UploadError=t.CacheError=t.HTTPError=t.MaxRedirectsError=t.RequestError=t.setNonEnumerableProperties=t.knownHookEvents=t.withoutBody=t.kIsNormalizedAlready=void 0;const o=r(89539),i=r(42830),a=r(39067),c=r(8575),u=r(8501),l=r(8501),h=r(79267),f=r(60081),d=r(73266),p=r(93481),m=r(10346),y=r(69758),v=r(25989),g=r(80657),b=r(92425),w=r(16721),_=r(94805),E=r(14834),k=r(96959),S=r(30186),O=r(57440),A=r(54992),x=r(90354),T=r(38141),P=r(45241),C=r(37999),R=r(76582);let N;const L=Symbol("request"),I=Symbol("response"),j=Symbol("responseSize"),M=Symbol("downloadedSize"),B=Symbol("bodySize"),D=Symbol("uploadedSize"),U=Symbol("serverResponsesPiped"),q=Symbol("unproxyEvents"),H=Symbol("isFromCache"),$=Symbol("cancelTimeouts"),F=Symbol("startedReading"),W=Symbol("stopReading"),z=Symbol("triggerRead"),V=Symbol("body"),G=Symbol("jobs"),K=Symbol("originalResponse"),J=Symbol("retryTimeout");t.kIsNormalizedAlready=Symbol("isNormalizedAlready");const Q=g.default.string(n.versions.brotli);t.withoutBody=new Set(["GET","HEAD"]),t.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];const Y=new O.default,X=new Set([300,301,302,303,304,307,308]),Z=["context","body","json","form"];t.setNonEnumerableProperties=(e,t)=>{const r={};for(const t of e)if(t)for(const e of Z)e in t&&(r[e]={writable:!0,configurable:!0,enumerable:!1,value:t[e]});Object.defineProperties(t,r)};class ee extends Error{constructor(e,t,r){var n,s;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=null!==(n=t.code)&&void 0!==n?n:"ERR_GOT_REQUEST_ERROR",r instanceof ue?(Object.defineProperty(this,"request",{enumerable:!1,value:r}),Object.defineProperty(this,"response",{enumerable:!1,value:r[I]}),Object.defineProperty(this,"options",{enumerable:!1,value:r.options})):Object.defineProperty(this,"options",{enumerable:!1,value:r}),this.timings=null===(s=this.request)||void 0===s?void 0:s.timings,g.default.string(t.stack)&&g.default.string(this.stack)){const e=this.stack.indexOf(this.message)+this.message.length,r=this.stack.slice(e).split("\n").reverse(),n=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split("\n").reverse();for(;0!==n.length&&n[0]===r[0];)r.shift();this.stack=`${this.stack.slice(0,e)}${r.reverse().join("\n")}${n.reverse().join("\n")}`}}}t.RequestError=ee;class te extends ee{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}}t.MaxRedirectsError=te;class re extends ee{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}}t.HTTPError=re;class ne extends ee{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_CACHE_ACCESS":this.code}}t.CacheError=ne;class se extends ee{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_UPLOAD":this.code}}t.UploadError=se;class oe extends ee{constructor(e,t,r){super(e.message,e,r),this.name="TimeoutError",this.event=e.event,this.timings=t}}t.TimeoutError=oe;class ie extends ee{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_READING_RESPONSE_STREAM":this.code}}t.ReadError=ie;class ae extends ee{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}}t.UnsupportedProtocolError=ae;const ce=["socket","connect","continue","information","upgrade","timeout"];class ue extends i.Duplex{constructor(e,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[M]=0,this[D]=0,this.requestInitialized=!1,this[U]=new Set,this.redirects=[],this[W]=!1,this[z]=!1,this[G]=[],this.retryCount=0,this._progressCallbacks=[];const s=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",(e=>{e.prependListener("data",s),e.on("data",o),e.prependListener("end",s),e.on("end",o)})),this.on("unpipe",(e=>{e.off("data",s),e.off("data",o),e.off("end",s),e.off("end",o)})),this.on("pipe",(e=>{e instanceof l.IncomingMessage&&(this.options.headers={...e.headers,...this.options.headers})}));const{json:i,body:c,form:u}=r;if((i||c||u)&&this._lockWrite(),t.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,n)}catch(e){return g.default.nodeStream(r.body)&&r.body.destroy(),void this.destroy(e)}(async()=>{var e;try{this.options.body instanceof a.ReadStream&&await(async e=>new Promise(((t,r)=>{const n=e=>{r(e)};e.pending||t(),e.once("error",n),e.once("ready",(()=>{e.off("error",n),t()}))})))(this.options.body);const{url:t}=this.options;if(!t)throw new TypeError("Missing `url` property");if(this.requestUrl=t.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed)return void(null===(e=this[L])||void 0===e||e.destroy());for(const e of this[G])e();this[G].length=0,this.requestInitialized=!0}catch(e){if(e instanceof ee)return void this._beforeError(e);this.destroyed||this.destroy(e)}})()}static normalizeArguments(e,r,n){var s,i,a,u,l;const h=r;if(g.default.object(e)&&!g.default.urlInstance(e))r={...n,...e,...r};else{if(e&&r&&void 0!==r.url)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},void 0!==e&&(r.url=e),g.default.urlInstance(r.url)&&(r.url=new c.URL(r.url.toString()))}if(!1===r.cache&&(r.cache=void 0),!1===r.dnsCache&&(r.dnsCache=void 0),g.assert.any([g.default.string,g.default.undefined],r.method),g.assert.any([g.default.object,g.default.undefined],r.headers),g.assert.any([g.default.string,g.default.urlInstance,g.default.undefined],r.prefixUrl),g.assert.any([g.default.object,g.default.undefined],r.cookieJar),g.assert.any([g.default.object,g.default.string,g.default.undefined],r.searchParams),g.assert.any([g.default.object,g.default.string,g.default.undefined],r.cache),g.assert.any([g.default.object,g.default.number,g.default.undefined],r.timeout),g.assert.any([g.default.object,g.default.undefined],r.context),g.assert.any([g.default.object,g.default.undefined],r.hooks),g.assert.any([g.default.boolean,g.default.undefined],r.decompress),g.assert.any([g.default.boolean,g.default.undefined],r.ignoreInvalidCookies),g.assert.any([g.default.boolean,g.default.undefined],r.followRedirect),g.assert.any([g.default.number,g.default.undefined],r.maxRedirects),g.assert.any([g.default.boolean,g.default.undefined],r.throwHttpErrors),g.assert.any([g.default.boolean,g.default.undefined],r.http2),g.assert.any([g.default.boolean,g.default.undefined],r.allowGetBody),g.assert.any([g.default.string,g.default.undefined],r.localAddress),g.assert.any([x.isDnsLookupIpVersion,g.default.undefined],r.dnsLookupIpVersion),g.assert.any([g.default.object,g.default.undefined],r.https),g.assert.any([g.default.boolean,g.default.undefined],r.rejectUnauthorized),r.https&&(g.assert.any([g.default.boolean,g.default.undefined],r.https.rejectUnauthorized),g.assert.any([g.default.function_,g.default.undefined],r.https.checkServerIdentity),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.certificateAuthority),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.key),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.certificate),g.assert.any([g.default.string,g.default.undefined],r.https.passphrase),g.assert.any([g.default.string,g.default.buffer,g.default.array,g.default.undefined],r.https.pfx)),g.assert.any([g.default.object,g.default.undefined],r.cacheOptions),g.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===(null==n?void 0:n.headers)?r.headers={...r.headers}:r.headers=v({...null==n?void 0:n.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==(null==n?void 0:n.searchParams)){let e;if(g.default.string(r.searchParams)||r.searchParams instanceof c.URLSearchParams)e=new c.URLSearchParams(r.searchParams);else{!function(e){for(const t in e){const r=e[t];if(!(g.default.string(r)||g.default.number(r)||g.default.boolean(r)||g.default.null_(r)||g.default.undefined(r)))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}(r.searchParams),e=new c.URLSearchParams;for(const t in r.searchParams){const n=r.searchParams[t];null===n?e.append(t,""):void 0!==n&&e.append(t,n)}}null===(s=null==n?void 0:n.searchParams)||void 0===s||s.forEach(((t,r)=>{e.has(r)||e.append(r,t)})),r.searchParams=e}if(r.username=null!==(i=r.username)&&void 0!==i?i:"",r.password=null!==(a=r.password)&&void 0!==a?a:"",g.default.undefined(r.prefixUrl)?r.prefixUrl=null!==(u=null==n?void 0:n.prefixUrl)&&void 0!==u?u:"":(r.prefixUrl=r.prefixUrl.toString(),""===r.prefixUrl||r.prefixUrl.endsWith("/")||(r.prefixUrl+="/")),g.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=S.default(r.prefixUrl+r.url,r)}else(g.default.undefined(r.url)&&""!==r.prefixUrl||r.protocol)&&(r.url=S.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:e}=r;Object.defineProperty(r,"prefixUrl",{set:t=>{const n=r.url;if(!n.href.startsWith(t))throw new Error(`Cannot change \`prefixUrl\` from ${e} to ${t}: ${n.href}`);r.url=new c.URL(t+n.href.slice(e.length)),e=t},get:()=>e});let{protocol:t}=r.url;if("unix:"===t&&(t="http:",r.url=new c.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),"http:"!==t&&"https:"!==t)throw new ae(r);""===r.username?r.username=r.url.username:r.url.username=r.username,""===r.password?r.password=r.url.password:r.url.password=r.password}const{cookieJar:f}=r;if(f){let{setCookie:e,getCookieString:t}=f;g.assert.function_(e),g.assert.function_(t),4===e.length&&0===t.length&&(e=o.promisify(e.bind(r.cookieJar)),t=o.promisify(t.bind(r.cookieJar)),r.cookieJar={setCookie:e,getCookieString:t})}const{cache:m}=r;if(m&&(Y.has(m)||Y.set(m,new p(((e,t)=>{const r=e[L](e,t);return g.default.promise(r)&&(r.once=(e,t)=>{if("error"===e)r.catch(t);else{if("abort"!==e)throw new Error(`Unknown HTTP2 promise event: ${e}`);(async()=>{try{(await r).once("abort",t)}catch(e){}})()}return r}),r}),m))),r.cacheOptions={...r.cacheOptions},!0===r.dnsCache)N||(N=new d.default),r.dnsCache=N;else if(!g.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${g.default(r.dnsCache)}`);g.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});const y=r.hooks===(null==n?void 0:n.hooks);r.hooks={...r.hooks};for(const e of t.knownHookEvents)if(e in r.hooks){if(!g.default.array(r.hooks[e]))throw new TypeError(`Parameter \`${e}\` must be an Array, got ${g.default(r.hooks[e])}`);r.hooks[e]=[...r.hooks[e]]}else r.hooks[e]=[];if(n&&!y)for(const e of t.knownHookEvents)n.hooks[e].length>0&&(r.hooks[e]=[...n.hooks[e],...r.hooks[e]]);if("family"in r&&P.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),(null==n?void 0:n.https)&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&P.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&P.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&P.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&P.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&P.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&P.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&P.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent)for(const e in r.agent)if("http"!==e&&"https"!==e&&"http2"!==e)throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${e}\``);return r.maxRedirects=null!==(l=r.maxRedirects)&&void 0!==l?l:0,t.setNonEnumerableProperties([n,h],r),C.default(r,n)}_lockWrite(){const e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){const{options:e}=this,{headers:r}=e,n=!g.default.undefined(e.form),s=!g.default.undefined(e.json),o=!g.default.undefined(e.body),a=n||s||o,u=t.withoutBody.has(e.method)&&!("GET"===e.method&&e.allowGetBody);if(this._cannotHaveBody=u,a){if(u)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,s].filter((e=>e)).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof i.Readable)&&!g.default.string(e.body)&&!g.default.buffer(e.body)&&!w.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!g.default.object(e.form))throw new TypeError("The `form` option must be an Object");{const t=!g.default.string(r["content-type"]);o?(w.default(e.body)&&t&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[V]=e.body):n?(t&&(r["content-type"]="application/x-www-form-urlencoded"),this[V]=new c.URLSearchParams(e.form).toString()):(t&&(r["content-type"]="application/json"),this[V]=e.stringifyJson(e.json));const s=await b.default(this[V],e.headers);g.default.undefined(r["content-length"])&&g.default.undefined(r["transfer-encoding"])&&(u||g.default.undefined(s)||(r["content-length"]=String(s)))}}else u?this._lockWrite():this._unlockWrite();this[B]=Number(r["content-length"])||void 0}async _onResponseBase(e){const{options:t}=this,{url:r}=t;this[K]=e,t.decompress&&(e=m(e));const n=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:u.STATUS_CODES[n],o.url=t.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[H]=o.isFromCache,this[j]=Number(e.headers["content-length"])||void 0,this[I]=e,e.once("end",(()=>{this[j]=this[M],this.emit("downloadProgress",this.downloadProgress)})),e.once("error",(t=>{e.destroy(),this._beforeError(new ie(t,this))})),e.once("aborted",(()=>{this._beforeError(new ie({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))})),this.emit("downloadProgress",this.downloadProgress);const i=e.headers["set-cookie"];if(g.default.object(t.cookieJar)&&i){let a=i.map((async e=>t.cookieJar.setCookie(e,r.toString())));t.ignoreInvalidCookies&&(a=a.map((async e=>e.catch((()=>{})))));try{await Promise.all(a)}catch(l){return void this._beforeError(l)}}if(t.followRedirect&&e.headers.location&&X.has(n)){if(e.resume(),this[L]&&(this[$](),delete this[L],this[q]()),!(303===n&&"GET"!==t.method&&"HEAD"!==t.method)&&t.methodRewriting||(t.method="GET","body"in t&&delete t.body,"json"in t&&delete t.json,"form"in t&&delete t.form,this[V]=void 0,delete t.headers["content-length"]),this.redirects.length>=t.maxRedirects)return void this._beforeError(new te(this));try{const h=s.from(e.headers.location,"binary").toString(),f=new c.URL(h,r),d=f.toString();function p(e){return"unix:"===e.protocol||"unix"===e.hostname}if(decodeURI(d),!p(r)&&p(f))return void this._beforeError(new ee("Cannot redirect to UNIX socket",{},this));f.hostname!==r.hostname||f.port!==r.port?("host"in t.headers&&delete t.headers.host,"cookie"in t.headers&&delete t.headers.cookie,"authorization"in t.headers&&delete t.headers.authorization,(t.username||t.password)&&(t.username="",t.password="")):(f.username=t.username,f.password=t.password),this.redirects.push(d),t.url=f;for(const y of t.hooks.beforeRedirect)await y(t,o);this.emit("redirect",o,t),await this._makeRequest()}catch(v){return void this._beforeError(v)}}else if(t.isStream&&t.throwHttpErrors&&!T.isResponseOk(o))this._beforeError(new re(o));else{e.on("readable",(()=>{this[z]&&this._read()})),this.on("resume",(()=>{e.resume()})),this.on("pause",(()=>{e.pause()})),e.once("end",(()=>{this.push(null)})),this.emit("response",e);for(const b of this[U])if(!b.headersSent){for(const w in e.headers){const _=!t.decompress||"content-encoding"!==w,E=e.headers[w];_&&b.setHeader(w,E)}b.statusCode=n}}}async _onResponse(e){try{await this._onResponseBase(e)}catch(e){this._beforeError(e)}}_onRequest(e){const{options:t}=this,{timeout:r,url:n}=t;f.default(e),this[$]=E.default(e,r,n);const s=t.cache?"cacheableResponse":"response";e.once(s,(e=>{this._onResponse(e)})),e.once("error",(t=>{var r;e.destroy(),null===(r=e.res)||void 0===r||r.removeAllListeners("end"),t=t instanceof E.TimeoutError?new oe(t,this.timings,this):new ee(t.message,t,this),this._beforeError(t)})),this[q]=_.default(e,this,ce),this[L]=e,this.emit("uploadProgress",this.uploadProgress);const o=this[V],i=0===this.redirects.length?this:e;g.default.nodeStream(o)?(o.pipe(i),o.once("error",(e=>{this._beforeError(new se(e,this))}))):(this._unlockWrite(),g.default.undefined(o)?(this._cannotHaveBody||this._noPipe)&&(i.end(),this._lockWrite()):(this._writeRequest(o,void 0,(()=>{})),i.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,t){return new Promise(((r,n)=>{let s;Object.assign(t,k.default(e)),delete t.url;const o=Y.get(t.cache)(t,(async e=>{e._readableState.autoDestroy=!1,s&&(await s).emit("cacheableResponse",e),r(e)}));t.url=e,o.once("error",n),o.once("request",(async e=>{s=e,r(s)}))}))}async _makeRequest(){var e,t,r,n,s;const{options:o}=this,{headers:i}=o;for(const e in i)if(g.default.undefined(i[e]))delete i[e];else if(g.default.null_(i[e]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${e}\` header`);if(o.decompress&&g.default.undefined(i["accept-encoding"])&&(i["accept-encoding"]=Q?"gzip, deflate, br":"gzip, deflate"),o.cookieJar){const e=await o.cookieJar.getCookieString(o.url.toString());g.default.nonEmptyString(e)&&(o.headers.cookie=e)}for(const e of o.hooks.beforeRequest){const t=await e(o);if(!g.default.undefined(t)){o.request=()=>t;break}}o.body&&this[V]!==o.body&&(this[V]=o.body);const{agent:a,request:c,timeout:l,url:f}=o;if(o.dnsCache&&!("lookup"in o)&&(o.lookup=o.dnsCache.lookup),"unix"===f.hostname){const e=/(?<socketPath>.+?):(?<path>.+)/.exec(`${f.pathname}${f.search}`);if(null==e?void 0:e.groups){const{socketPath:t,path:r}=e.groups;Object.assign(o,{socketPath:t,path:r,host:""})}}const d="https:"===f.protocol;let m;m=o.http2?y.auto:d?h.request:u.request;const v=null!==(e=o.request)&&void 0!==e?e:m,b=o.cache?this._createCacheableRequest:v;a&&!o.http2&&(o.agent=a[d?"https":"http"]),o[L]=v,delete o.request,delete o.timeout;const w=o;if(w.shared=null===(t=o.cacheOptions)||void 0===t?void 0:t.shared,w.cacheHeuristic=null===(r=o.cacheOptions)||void 0===r?void 0:r.cacheHeuristic,w.immutableMinTimeToLive=null===(n=o.cacheOptions)||void 0===n?void 0:n.immutableMinTimeToLive,w.ignoreCargoCult=null===(s=o.cacheOptions)||void 0===s?void 0:s.ignoreCargoCult,void 0!==o.dnsLookupIpVersion)try{w.family=x.dnsLookupIpVersionToFamily(o.dnsLookupIpVersion)}catch(e){throw new Error("Invalid `dnsLookupIpVersion` option value")}o.https&&("rejectUnauthorized"in o.https&&(w.rejectUnauthorized=o.https.rejectUnauthorized),o.https.checkServerIdentity&&(w.checkServerIdentity=o.https.checkServerIdentity),o.https.certificateAuthority&&(w.ca=o.https.certificateAuthority),o.https.certificate&&(w.cert=o.https.certificate),o.https.key&&(w.key=o.https.key),o.https.passphrase&&(w.passphrase=o.https.passphrase),o.https.pfx&&(w.pfx=o.https.pfx));try{let e=await b(f,w);g.default.undefined(e)&&(e=m(f,w)),o.request=c,o.timeout=l,o.agent=a,o.https&&("rejectUnauthorized"in o.https&&delete w.rejectUnauthorized,o.https.checkServerIdentity&&delete w.checkServerIdentity,o.https.certificateAuthority&&delete w.ca,o.https.certificate&&delete w.cert,o.https.key&&delete w.key,o.https.passphrase&&delete w.passphrase,o.https.pfx&&delete w.pfx),_=e,g.default.object(_)&&!("statusCode"in _)?this._onRequest(e):this.writable?(this.once("finish",(()=>{this._onResponse(e)})),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(e)}catch(e){if(e instanceof p.CacheError)throw new ne(e,this);throw new ee(e.message,e,this)}var _}async _error(e){try{for(const t of this.options.hooks.beforeError)e=await t(e)}catch(t){e=new ee(t.message,t,this)}this.destroy(e)}_beforeError(e){if(this[W])return;const{options:t}=this,r=this.retryCount+1;this[W]=!0,e instanceof ee||(e=new ee(e.message,e,this));const n=e,{response:s}=n;(async()=>{if(s&&!s.body){s.setEncoding(this._readableState.encoding);try{s.rawBody=await A.default(s),s.body=s.rawBody.toString()}catch(e){}}if(0!==this.listenerCount("retry")){let o;try{let e;s&&"retry-after"in s.headers&&(e=Number(s.headers["retry-after"]),Number.isNaN(e)?(e=Date.parse(s.headers["retry-after"])-Date.now(),e<=0&&(e=1)):e*=1e3),o=await t.retry.calculateDelay({attemptCount:r,retryOptions:t.retry,error:n,retryAfter:e,computedValue:R.default({attemptCount:r,retryOptions:t.retry,error:n,retryAfter:e,computedValue:0})})}catch(e){return void this._error(new ee(e.message,e,this))}if(o){const t=async()=>{try{for(const e of this.options.hooks.beforeRetry)await e(this.options,n,r)}catch(t){return void this._error(new ee(t.message,e,this))}this.destroyed||(this.destroy(),this.emit("retry",r,e))};return void(this[J]=setTimeout(t,o))}}this._error(n)})()}_read(){this[z]=!0;const e=this[I];if(e&&!this[W]){let t;for(e.readableLength&&(this[z]=!1);null!==(t=e.read());){this[M]+=t.length,this[F]=!0;const e=this.downloadProgress;e.percent<1&&this.emit("downloadProgress",e),this.push(t)}}}_write(e,t,r){const n=()=>{this._writeRequest(e,t,r)};this.requestInitialized?n():this[G].push(n)}_writeRequest(e,t,r){this[L].destroyed||(this._progressCallbacks.push((()=>{this[D]+=s.byteLength(e,t);const r=this.uploadProgress;r.percent<1&&this.emit("uploadProgress",r)})),this[L].write(e,t,(e=>{!e&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),r(e)})))}_final(e){const t=()=>{for(;0!==this._progressCallbacks.length;)this._progressCallbacks.shift()();L in this?this[L].destroyed?e():this[L].end((t=>{t||(this[B]=this[D],this.emit("uploadProgress",this.uploadProgress),this[L].emit("upload-complete")),e(t)})):e()};this.requestInitialized?t():this[G].push(t)}_destroy(e,t){var r;this[W]=!0,clearTimeout(this[J]),L in this&&(this[$](),(null===(r=this[I])||void 0===r?void 0:r.complete)||this[L].destroy()),null===e||g.default.undefined(e)||e instanceof ee||(e=new ee(e.message,e,this)),t(e)}get _isAboutToError(){return this[W]}get ip(){var e;return null===(e=this.socket)||void 0===e?void 0:e.remoteAddress}get aborted(){var e,t,r;return(null!==(t=null===(e=this[L])||void 0===e?void 0:e.destroyed)&&void 0!==t?t:this.destroyed)&&!(null===(r=this[K])||void 0===r?void 0:r.complete)}get socket(){var e,t;return null!==(t=null===(e=this[L])||void 0===e?void 0:e.socket)&&void 0!==t?t:void 0}get downloadProgress(){let e;return e=this[j]?this[M]/this[j]:this[j]===this[M]?1:0,{percent:e,transferred:this[M],total:this[j]}}get uploadProgress(){let e;return e=this[B]?this[D]/this[B]:this[B]===this[D]?1:0,{percent:e,transferred:this[D],total:this[B]}}get timings(){var e;return null===(e=this[L])||void 0===e?void 0:e.timings}get isFromCache(){return this[H]}pipe(e,t){if(this[F])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof l.ServerResponse&&this[U].add(e),super.pipe(e,t)}unpipe(e){return e instanceof l.ServerResponse&&this[U].delete(e),super.unpipe(e),this}}t.default=ue},90354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dnsLookupIpVersionToFamily=t.isDnsLookupIpVersion=void 0;const r={auto:0,ipv4:4,ipv6:6};t.isDnsLookupIpVersion=e=>e in r,t.dnsLookupIpVersionToFamily=e=>{if(t.isDnsLookupIpVersion(e))return r[e];throw new Error("Invalid DNS lookup IP version")}},92425:(e,t,r)=>{"use strict";var n=r(23085).lW;Object.defineProperty(t,"__esModule",{value:!0});const s=r(7587),o=r(89539),i=r(80657),a=r(16721),c=o.promisify(s.stat);t.default=async(e,t)=>{if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(i.default.string(e))return n.byteLength(e);if(i.default.buffer(e))return e.length;if(a.default(e))return o.promisify(e.getLength.bind(e))();if(e instanceof s.ReadStream){const{size:t}=await c(e.path);if(0===t)return;return t}}},54992:(e,t,r)=>{"use strict";var n=r(23085).lW;Object.defineProperty(t,"__esModule",{value:!0}),t.default=async e=>{const t=[];let r=0;for await(const s of e)t.push(s),r+=n.byteLength(s);return n.isBuffer(t[0])?n.concat(t,r):n.from(t.join(""))}},16721:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80657);t.default=e=>n.default.nodeStream(e)&&n.default.function_(e.getBoundary)},38141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseOk=void 0,t.isResponseOk=e=>{const{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||304===t}},30186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8575),s=["protocol","host","hostname","port","pathname","search"];t.default=(e,t)=>{var r,o;if(t.path){if(t.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(t.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(t.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(t.search&&t.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!e){if(!t.protocol)throw new TypeError("No URL protocol specified");e=`${t.protocol}//${null!==(o=null!==(r=t.hostname)&&void 0!==r?r:t.host)&&void 0!==o?o:""}`}const i=new n.URL(e);if(t.path){const e=t.path.indexOf("?");-1===e?t.pathname=t.path:(t.pathname=t.path.slice(0,e),t.search=t.path.slice(e+1)),delete t.path}for(const e of s)t[e]&&(i[e]=t[e].toString());return i}},94805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){const n={};for(const s of r)n[s]=(...e)=>{t.emit(s,...e)},e.on(s,n[s]);return()=>{for(const t of r)e.off(t,n[t])}}},14834:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutError=void 0;const n=r(10528),s=r(28535),o=Symbol("reentry"),i=()=>{};class a extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),this.event=t,this.name="TimeoutError",this.code="ETIMEDOUT"}}t.TimeoutError=a,t.default=(e,t,r)=>{if(o in e)return i;e[o]=!0;const c=[],{once:u,unhandleAll:l}=s.default(),h=(e,t,r)=>{var n;const s=setTimeout(t,e,e,r);null===(n=s.unref)||void 0===n||n.call(s);const o=()=>{clearTimeout(s)};return c.push(o),o},{host:f,hostname:d}=r,p=(t,r)=>{e.destroy(new a(t,r))},m=()=>{for(const e of c)e();l()};if(e.once("error",(t=>{if(m(),0===e.listenerCount("error"))throw t})),e.once("close",m),u(e,"response",(e=>{u(e,"end",m)})),void 0!==t.request&&h(t.request,p,"request"),void 0!==t.socket){const r=()=>{p(t.socket,"socket")};e.setTimeout(t.socket,r),c.push((()=>{e.removeListener("timeout",r)}))}return u(e,"socket",(s=>{var o;const{socketPath:i}=e;if(s.connecting){const e=Boolean(null!=i?i:0!==n.isIP(null!==(o=null!=d?d:f)&&void 0!==o?o:""));if(void 0!==t.lookup&&!e&&void 0===s.address().address){const e=h(t.lookup,p,"lookup");u(s,"lookup",e)}if(void 0!==t.connect){const r=()=>h(t.connect,p,"connect");e?u(s,"connect",r()):u(s,"lookup",(e=>{null===e&&u(s,"connect",r())}))}void 0!==t.secureConnect&&"https:"===r.protocol&&u(s,"connect",(()=>{const e=h(t.secureConnect,p,"secureConnect");u(s,"secureConnect",e)}))}if(void 0!==t.send){const r=()=>h(t.send,p,"send");s.connecting?u(s,"connect",(()=>{u(e,"upload-complete",r())})):u(e,"upload-complete",r())}})),void 0!==t.response&&u(e,"upload-complete",(()=>{const r=h(t.response,p,"response");u(e,"response",r)})),m}},28535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{const e=[];return{once(t,r,n){t.once(r,n),e.push({origin:t,event:r,fn:n})},unhandleAll(){for(const t of e){const{origin:e,event:r,fn:n}=t;e.removeListener(r,n)}e.length=0}}}},96959:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80657);t.default=e=>{const t={protocol:e.protocol,hostname:n.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return n.default.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}},57440:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,t){"object"==typeof e?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return"object"==typeof e?this.weakMap.get(e):this.map.get(e)}has(e){return"object"==typeof e?this.weakMap.has(e):this.map.has(e)}}},46427:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=void 0;const o=r(80657),i=r(9291),a=r(36133),c=r(8178),u=r(64638),l={RequestError:i.RequestError,CacheError:i.CacheError,ReadError:i.ReadError,HTTPError:i.HTTPError,MaxRedirectsError:i.MaxRedirectsError,TimeoutError:i.TimeoutError,ParseError:i.ParseError,CancelError:i.CancelError,UnsupportedProtocolError:i.UnsupportedProtocolError,UploadError:i.UploadError},h=async e=>new Promise((t=>{setTimeout(t,e)})),{normalizeArguments:f}=c.default,d=(...e)=>{let t;for(const r of e)t=f(void 0,r,t);return t},p=e=>e.isStream?new c.default(void 0,e):i.default(e),m=e=>"defaults"in e&&"options"in e.defaults,y=["get","post","put","patch","head","delete"];t.defaultHandler=(e,t)=>t(e);const v=(e,t)=>{if(e)for(const r of e)r(t)},g=e=>{e._rawHandlers=e.handlers,e.handlers=e.handlers.map((e=>(t,r)=>{let n;const s=e(t,(e=>(n=r(e),n)));if(s!==n&&!t.isStream&&n){const e=s,{then:t,catch:r,finally:o}=e;Object.setPrototypeOf(e,Object.getPrototypeOf(n)),Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)),e.then=t,e.catch=r,e.finally=o}return s}));const r=(t,r={},n)=>{var s,u;let l=0;const h=t=>e.handlers[l++](t,l===e.handlers.length?p:h);if(o.default.plainObject(t)){const e={...t,...r};c.setNonEnumerableProperties([t,r],e),r=e,t=void 0}try{let o;try{v(e.options.hooks.init,r),v(null===(s=r.hooks)||void 0===s?void 0:s.init,r)}catch(e){o=e}const a=f(t,r,null!=n?n:e.options);if(a[c.kIsNormalizedAlready]=!0,o)throw new i.RequestError(o.message,o,a);return h(a)}catch(t){if(r.isStream)throw t;return a.default(t,e.options.hooks.beforeError,null===(u=r.hooks)||void 0===u?void 0:u.beforeError)}};r.extend=(...r)=>{const n=[e.options];let s,o=[...e._rawHandlers];for(const e of r)m(e)?(n.push(e.defaults.options),o.push(...e.defaults._rawHandlers),s=e.defaults.mutableDefaults):(n.push(e),"handlers"in e&&o.push(...e.handlers),s=e.mutableDefaults);return o=o.filter((e=>e!==t.defaultHandler)),0===o.length&&o.push(t.defaultHandler),g({options:d(...n),handlers:o,mutableDefaults:Boolean(s)})};const n=async function*(t,n){let s=f(t,n,e.options);s.resolveBodyOnly=!1;const i=s.pagination;if(!o.default.object(i))throw new TypeError("`options.pagination` must be implemented");const a=[];let{countLimit:c}=i,u=0;for(;u<i.requestLimit;){0!==u&&await h(i.backoff);const e=await r(void 0,void 0,s),t=await i.transform(e),n=[];for(const e of t)if(i.filter(e,a,n)){if(!i.shouldContinue(e,a,n))return;if(yield e,i.stackAllItems&&a.push(e),n.push(e),--c<=0)return}const o=i.paginate(e,a,n);if(!1===o)return;o===e.request.options?s=e.request.options:void 0!==o&&(s=f(void 0,o,s)),u++}};(r.paginate=n).all=async(e,t)=>{const r=[];for await(const s of n(e,t))r.push(s);return r},r.paginate.each=n,r.stream=(e,t)=>r(e,{...t,isStream:!0});for(const e of y)r[e]=(t,n)=>r(t,{...n,method:e}),r.stream[e]=(t,n)=>r(t,{...n,method:e,isStream:!0});return Object.assign(r,l),Object.defineProperty(r,"defaults",{value:e.mutableDefaults?e:u.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),r.mergeOptions=d,r};t.default=g,s(r(38317),t)},12210:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});const o=r(8575),i=r(46427),a={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:e=>"json"===e.request.options.responseType?e.body:JSON.parse(e.body),paginate:e=>{if(!Reflect.has(e.headers,"link"))return!1;const t=e.headers.link.split(",");let r;for(const e of t){const t=e.split(";");if(t[1].includes("next")){r=t[0].trimStart().trim(),r=r.slice(1,-1);break}}return!!r&&{url:new o.URL(r)}},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:e=>JSON.parse(e),stringifyJson:e=>JSON.stringify(e),cacheOptions:{}},handlers:[i.defaultHandler],mutableDefaults:!1},c=i.default(a);t.default=c,e.exports=c,e.exports.default=c,e.exports.__esModule=!0,s(r(46427),t),s(r(9291),t)},38317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},64638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(80657);t.default=function e(t){for(const r of Object.values(t))(n.default.plainObject(r)||n.default.array(r))&&e(r);return Object.freeze(t)}},45241:(e,t,r)=>{"use strict";var n=r(34155);Object.defineProperty(t,"__esModule",{value:!0});const s=new Set;t.default=e=>{s.has(e)||(s.add(e),n.emitWarning(`Got: ${e}`,{type:"DeprecationWarning"}))}},26214:e=>{"use strict";const t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),n=new Set([500,502,503,504]),s={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},o={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function i(e){const t=parseInt(e,10);return isFinite(t)?t:0}function a(e){const t={};if(!e)return t;const r=e.trim().split(/,/);for(const e of r){const[r,n]=e.split(/=/,2);t[r.trim()]=void 0===n||n.trim().replace(/^"|"$/g,"")}return t}function c(e){let t=[];for(const r in e){const n=e[r];t.push(!0===n?r:r+"="+n)}if(t.length)return t.join(", ")}e.exports=class{constructor(e,t,{shared:r,cacheHeuristic:n,immutableMinTimeToLive:s,ignoreCargoCult:o,_fromObject:i}={}){if(i)this._fromObject(i);else{if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=!1!==r,this._cacheHeuristic=void 0!==n?n:.1,this._immutableMinTtl=void 0!==s?s:864e5,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=a(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=a(e.headers["cache-control"]),o&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":c(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),null==t.headers["cache-control"]&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}}now(){return Date.now()}storable(){return!(this._reqcc["no-store"]||!("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())||!r.has(this._status)||this._rescc["no-store"]||this._isShared&&this._rescc.private||this._isShared&&!this._noAuthorization&&!this._allowsStoringAuthenticated()||!(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);const t=a(e.headers["cache-control"]);return!t["no-cache"]&&!/no-cache/.test(e.headers.pragma)&&(!(t["max-age"]&&this.age()>t["max-age"])&&(!(t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"])&&(!(this.stale()&&(!t["max-stale"]||this._rescc["must-revalidate"]||!(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))&&this._requestMatches(e,!1))))}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;const t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const r of t)if(e.headers[r]!==this._reqHeaders[r])return!1;return!0}_copyWithoutHopByHopHeaders(e){const t={};for(const r in e)s[r]||(t[r]=e[r]);if(e.connection){const r=e.connection.trim().split(/\s*,\s*/);for(const e of r)delete t[e]}if(t.warning){const e=t.warning.split(/,/).filter((e=>!/^\s*1[0-9][0-9]/.test(e)));e.length?t.warning=e.join(",").trim():delete t.warning}return t}responseHeaders(){const e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){const e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){return this._ageValue()+(this.now()-this._responseTime)/1e3}_ageValue(){return i(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"])return 0;if(this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)return 0;if("*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return i(this._rescc["s-maxage"])}if(this._rescc["max-age"])return i(this._rescc["max-age"]);const e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){const r=Date.parse(this._resHeaders.expires);return Number.isNaN(r)||r<t?0:Math.max(e,(r-t)/1e3)}if(this._resHeaders["last-modified"]){const r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r)return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}return e}timeToLive(){const e=this.maxAge()-this.age(),t=e+i(this._rescc["stale-if-error"]),r=e+i(this._rescc["stale-while-revalidate"]);return 1e3*Math.max(0,e,t,r)}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+i(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+i(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);const t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){const e=t["if-none-match"].split(/,/).filter((e=>!/^\s*W\//.test(e)));e.length?t["if-none-match"]=e.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&function(e){return!e||n.has(e.status)}(t))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let r=!1;if(void 0!==t.status&&304!=t.status?r=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?r=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?r=this._resHeaders["last-modified"]===t.headers["last-modified"]:this._resHeaders.etag||this._resHeaders["last-modified"]||t.headers.etag||t.headers["last-modified"]||(r=!0),!r)return{policy:new this.constructor(e,t),modified:304!=t.status,matches:!1};const s={};for(const e in this._resHeaders)s[e]=e in t.headers&&!o[e]?t.headers[e]:this._resHeaders[e];const i=Object.assign({},t,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(e,i,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}},24685:(e,t,r)=>{"use strict";const n=r(17187),s=r(3195),o=r(89613),i=r(61269),a=Symbol("currentStreamsCount"),c=Symbol("request"),u=Symbol("cachedOriginSet"),l=Symbol("gracefullyClosing"),h=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],f=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,d=(e,t)=>{for(const r of e)r[u].length<t[u].length&&r[u].every((e=>t[u].includes(e)))&&r[a]+t[a]<=t.remoteSettings.maxConcurrentStreams&&m(r)},p=({agent:e,isFree:t})=>{const r={};for(const n in e.sessions){const s=e.sessions[n].filter((e=>{const r=e[y.kCurrentStreamsCount]<e.remoteSettings.maxConcurrentStreams;return t?r:!r}));0!==s.length&&(r[n]=s)}return r},m=e=>{e[l]=!0,0===e[a]&&e.close()};class y extends n{constructor({timeout:e=6e4,maxSessions:t=1/0,maxFreeSessions:r=10,maxCachedTlsSessions:n=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=t,this.maxFreeSessions=r,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new i({maxSize:n})}static normalizeOrigin(e,t){return"string"==typeof e&&(e=new URL(e)),t&&e.hostname!==t&&(e.hostname=t),e.origin}normalizeOptions(e){let t="";if(e)for(const r of h)e[r]&&(t+=`:${e[r]}`);return t}_tryToCreateNewSession(e,t){if(!(e in this.queue)||!(t in this.queue[e]))return;const r=this.queue[e][t];this._sessionsCount<this.maxSessions&&!r.completed&&(r.completed=!0,r())}getSession(e,t,r){return new Promise(((n,s)=>{Array.isArray(r)?(r=[...r],n()):r=[{resolve:n,reject:s}];const i=this.normalizeOptions(t),h=y.normalizeOrigin(e,t&&t.servername);if(void 0===h){for(const{reject:e}of r)e(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(i in this.sessions){const e=this.sessions[i];let t,n=-1,s=-1;for(const r of e){const e=r.remoteSettings.maxConcurrentStreams;if(e<n)break;if(r[u].includes(h)){const o=r[a];if(o>=e||r[l]||r.destroyed)continue;t||(n=e),o>s&&(t=r,s=o)}}if(t){if(1!==r.length){for(const{reject:e}of r)e(new Error(`Expected the length of listeners to be 1, got ${r.length}.\nPlease report this to https://github.com/szmarczak/http2-wrapper/`));return}return void r[0].resolve(t)}}if(i in this.queue){if(h in this.queue[i])return this.queue[i][h].listeners.push(...r),void this._tryToCreateNewSession(i,h)}else this.queue[i]={};const p=()=>{i in this.queue&&this.queue[i][h]===v&&(delete this.queue[i][h],0===Object.keys(this.queue[i]).length&&delete this.queue[i])},v=()=>{const n=`${h}:${i}`;let s=!1;try{const y=o.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(n),...t});y[a]=0,y[l]=!1;const g=()=>y[a]<y.remoteSettings.maxConcurrentStreams;let b=!0;y.socket.once("session",(e=>{this.tlsSessionCache.set(n,e)})),y.once("error",(e=>{for(const{reject:t}of r)t(e);this.tlsSessionCache.delete(n)})),y.setTimeout(this.timeout,(()=>{y.destroy()})),y.once("close",(()=>{if(s){b&&this._freeSessionsCount--,this._sessionsCount--;const e=this.sessions[i];e.splice(e.indexOf(y),1),0===e.length&&delete this.sessions[i]}else{const e=new Error("Session closed without receiving a SETTINGS frame");e.code="HTTP2WRAPPER_NOSETTINGS";for(const{reject:t}of r)t(e);p()}this._tryToCreateNewSession(i,h)}));const w=()=>{if(i in this.queue&&g())for(const e of y[u])if(e in this.queue[i]){const{listeners:t}=this.queue[i][e];for(;0!==t.length&&g();)t.shift().resolve(y);const r=this.queue[i];if(0===r[e].listeners.length&&(delete r[e],0===Object.keys(r).length)){delete this.queue[i];break}if(!g())break}};y.on("origin",(()=>{y[u]=y.originSet,g()&&(w(),d(this.sessions[i],y))})),y.once("remoteSettings",(()=>{if(y.ref(),y.unref(),this._sessionsCount++,v.destroyed){const e=new Error("Agent has been destroyed");for(const t of r)t.reject(e);y.destroy()}else{y[u]=y.originSet;{const e=this.sessions;if(i in e){const t=e[i];t.splice(((e,t,r)=>{let n=0,s=e.length;for(;n<s;){const o=n+s>>>1;r(e[o],t)?n=o+1:s=o}return n})(t,y,f),0,y)}else e[i]=[y]}this._freeSessionsCount+=1,s=!0,this.emit("session",y),w(),p(),0===y[a]&&this._freeSessionsCount>this.maxFreeSessions&&y.close(),0!==r.length&&(this.getSession(h,t,r),r.length=0),y.on("remoteSettings",(()=>{w(),d(this.sessions[i],y)}))}})),y[c]=y.request,y.request=(e,t)=>{if(y[l])throw new Error("The session is gracefully closing. No new streams are allowed.");const r=y[c](e,t);return y.ref(),++y[a],y[a]===y.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,r.once("close",(()=>{if(b=g(),--y[a],!y.destroyed&&!y.closed&&(((e,t)=>{for(const r of e)t[u].length<r[u].length&&t[u].every((e=>r[u].includes(e)))&&t[a]+r[a]<=r.remoteSettings.maxConcurrentStreams&&m(t)})(this.sessions[i],y),g()&&!y.closed)){b||(this._freeSessionsCount++,b=!0);const e=0===y[a];e&&y.unref(),e&&(this._freeSessionsCount>this.maxFreeSessions||y[l])?y.close():(d(this.sessions[i],y),w())}})),r}}catch(e){for(const t of r)t.reject(e);p()}};v.listeners=r,v.completed=!1,v.destroyed=!1,this.queue[i][h]=v,this._tryToCreateNewSession(i,h)}))}request(e,t,r,n){return new Promise(((s,o)=>{this.getSession(e,t,[{reject:o,resolve:e=>{try{s(e.request(r,n))}catch(e){o(e)}}}])}))}createConnection(e,t){return y.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];const r=e.port||443,n=e.hostname||e.host;return void 0===t.servername&&(t.servername=n),s.connect(r,n,t)}closeFreeSessions(){for(const e of Object.values(this.sessions))for(const t of e)0===t[a]&&t.close()}destroy(e){for(const t of Object.values(this.sessions))for(const r of t)r.destroy(e);for(const e of Object.values(this.queue))for(const t of Object.values(e))t.destroyed=!0;this.queue={}}get freeSessions(){return p({agent:this,isFree:!0})}get busySessions(){return p({agent:this,isFree:!1})}}y.kCurrentStreamsCount=a,y.kGracefullyClosing=l,e.exports={Agent:y,globalAgent:new y}},86673:(e,t,r)=>{"use strict";const n=r(8501),s=r(79267),o=r(45322),i=r(61269),a=r(52287),c=r(4017),u=r(15978),l=new i({maxSize:100}),h=new Map,f=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};const n=()=>{e.emit("free",t,r)};t.on("free",n);const s=()=>{e.removeSocket(t,r)};t.on("close",s);const o=()=>{e.removeSocket(t,r),t.off("close",s),t.off("free",n),t.off("agentRemove",o)};t.on("agentRemove",o),e.emit("free",t,r)};e.exports=async(e,t,r)=>{if(("string"==typeof e||e instanceof URL)&&(e=u(new URL(e))),"function"==typeof t&&(r=t,t=void 0),t={ALPNProtocols:["h2","http/1.1"],...e,...t,resolveSocket:!0},!Array.isArray(t.ALPNProtocols)||0===t.ALPNProtocols.length)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";const i="https:"===t.protocol;t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||c(t),t.port=t.port||(i?443:80),t._defaultAgent=i?s.globalAgent:n.globalAgent;const d=t.agent;if(d){if(d.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");t.agent=d[i?"https":"http"]}if(i){const e=await(async e=>{const t=`${e.host}:${e.port}:${e.ALPNProtocols.sort()}`;if(!l.has(t)){if(h.has(t))return(await h.get(t)).alpnProtocol;const{path:r,agent:n}=e;e.path=e.socketPath;const i=o(e);h.set(t,i);try{const{socket:o,alpnProtocol:a}=await i;if(l.set(t,a),e.path=r,"h2"===a)o.destroy();else{const{globalAgent:t}=s,r=s.Agent.prototype.createConnection;n?n.createConnection===r?f(n,o,e):o.destroy():t.createConnection===r?f(t,o,e):o.destroy()}return h.delete(t),a}catch(e){throw h.delete(t),e}}return l.get(t)})(t);if("h2"===e)return d&&(t.agent=d.http2),new a(t,r)}return n.request(t,r)},e.exports.protocolCache=l},52287:(e,t,r)=>{"use strict";var n=r(23085).lW,s=r(34155);const o=r(89613),{Writable:i}=r(42830),{Agent:a,globalAgent:c}=r(24685),u=r(17138),l=r(15978),h=r(37306),f=r(48202),{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_PROTOCOL:p,ERR_HTTP_HEADERS_SENT:m,ERR_INVALID_HTTP_TOKEN:y,ERR_HTTP_INVALID_HEADER_VALUE:v,ERR_INVALID_CHAR:g}=r(23190),{HTTP2_HEADER_STATUS:b,HTTP2_HEADER_METHOD:w,HTTP2_HEADER_PATH:_,HTTP2_METHOD_CONNECT:E}=o.constants,k=Symbol("headers"),S=Symbol("origin"),O=Symbol("session"),A=Symbol("options"),x=Symbol("flushedHeaders"),T=Symbol("jobs"),P=/^[\^`\-\w!#$%&*+.|~]+$/,C=/[^\t\u0020-\u007E\u0080-\u00FF]/;e.exports=class extends i{constructor(e,t,r){super({autoDestroy:!1});const s="string"==typeof e||e instanceof URL;if(s&&(e=l(e instanceof URL?e:new URL(e))),"function"==typeof t||void 0===t?(r=t,t=s?e:{...e}):t={...e,...t},t.h2session)this[O]=t.h2session;else if(!1===t.agent)this.agent=new a({maxFreeSessions:0});else if(void 0===t.agent||null===t.agent)"function"==typeof t.createConnection?(this.agent=new a({maxFreeSessions:0}),this.agent.createConnection=t.createConnection):this.agent=c;else{if("function"!=typeof t.agent.request)throw new d("options.agent",["Agent-like Object","undefined","false"],t.agent);this.agent=t.agent}if(t.protocol&&"https:"!==t.protocol)throw new p(t.protocol,"https:");const o=t.port||t.defaultPort||this.agent&&this.agent.defaultPort||443,i=t.hostname||t.host||"localhost";delete t.hostname,delete t.host,delete t.port;const{timeout:u}=t;if(t.timeout=void 0,this[k]=Object.create(null),this[T]=[],this.socket=null,this.connection=null,this.method=t.method||"GET",this.path=t.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,t.headers)for(const[e,r]of Object.entries(t.headers))this.setHeader(e,r);t.auth&&!("authorization"in this[k])&&(this[k].authorization="Basic "+n.from(t.auth).toString("base64")),t.session=t.tlsSession,t.path=t.socketPath,this[A]=t,443===o?(this[S]=`https://${i}`,":authority"in this[k]||(this[k][":authority"]=i)):(this[S]=`https://${i}:${o}`,":authority"in this[k]||(this[k][":authority"]=`${i}:${o}`)),u&&this.setTimeout(u),r&&this.once("response",r),this[x]=!1}get method(){return this[k][w]}set method(e){e&&(this[k][w]=e.toUpperCase())}get path(){return this[k][_]}set path(e){e&&(this[k][_]=e)}get _mustNotHaveABody(){return"GET"===this.method||"HEAD"===this.method||"DELETE"===this.method}_write(e,t,r){if(this._mustNotHaveABody)return void r(new Error("The GET, HEAD and DELETE methods must NOT have a body"));this.flushHeaders();const n=()=>this._request.write(e,t,r);this._request?n():this[T].push(n)}_final(e){if(this.destroyed)return;this.flushHeaders();const t=()=>{this._mustNotHaveABody?e():this._request.end(e)};this._request?t():this[T].push(t)}abort(){this.res&&this.res.complete||(this.aborted||s.nextTick((()=>this.emit("abort"))),this.aborted=!0,this.destroy())}_destroy(e,t){this.res&&this.res._dump(),this._request&&this._request.destroy(),t(e)}async flushHeaders(){if(this[x]||this.destroyed)return;this[x]=!0;const e=this.method===E,t=t=>{if(this._request=t,this.destroyed)return void t.destroy();e||h(t,this,["timeout","continue","close","error"]);const r=e=>(...t)=>{this.writable||this.destroyed?this.once("finish",(()=>{e(...t)})):e(...t)};t.once("response",r(((r,s,o)=>{const i=new u(this.socket,t.readableHighWaterMark);this.res=i,i.req=this,i.statusCode=r[b],i.headers=r,i.rawHeaders=o,i.once("end",(()=>{this.aborted?(i.aborted=!0,i.emit("aborted")):(i.complete=!0,i.socket=null,i.connection=null)})),e?(i.upgrade=!0,this.emit("connect",i,t,n.alloc(0))?this.emit("close"):t.destroy()):(t.on("data",(e=>{i._dumped||i.push(e)||t.pause()})),t.once("end",(()=>{i.push(null)})),this.emit("response",i)||i._dump())}))),t.once("headers",r((e=>this.emit("information",{statusCode:e[b]})))),t.once("trailers",r(((e,t,r)=>{const{res:n}=this;n.trailers=e,n.rawTrailers=r})));const{socket:s}=t.session;this.socket=s,this.connection=s;for(const e of this[T])e();this.emit("socket",this.socket)};if(this[O])try{t(this[O].request(this[k]))}catch(e){this.emit("error",e)}else{this.reusedSocket=!0;try{t(await this.agent.request(this[S],this[A],this[k]))}catch(e){this.emit("error",e)}}}getHeader(e){if("string"!=typeof e)throw new d("name","string",e);return this[k][e.toLowerCase()]}get headersSent(){return this[x]}removeHeader(e){if("string"!=typeof e)throw new d("name","string",e);if(this.headersSent)throw new m("remove");delete this[k][e.toLowerCase()]}setHeader(e,t){if(this.headersSent)throw new m("set");if("string"!=typeof e||!P.test(e)&&!f(e))throw new y("Header name",e);if(void 0===t)throw new v(t,e);if(C.test(t))throw new g("header content",e);this[k][e.toLowerCase()]=t}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){const r=()=>this._request.setTimeout(e,t);return this._request?r():this[T].push(r),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}}},17138:(e,t,r)=>{"use strict";const{Readable:n}=r(42830);e.exports=class extends n{constructor(e,t){super({highWaterMark:t,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,t){return this.req.setTimeout(e,t),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}}},69758:(e,t,r)=>{"use strict";const n=r(89613),s=r(24685),o=r(52287),i=r(17138),a=r(86673);e.exports={...n,ClientRequest:o,IncomingMessage:i,...s,request:(e,t,r)=>new o(e,t,r),get:(e,t,r)=>{const n=new o(e,t,r);return n.end(),n},auto:a}},4017:(e,t,r)=>{"use strict";const n=r(62027);e.exports=e=>{let t=e.host;const r=e.headers&&e.headers.host;return r&&(t=r.startsWith("[")?-1===r.indexOf("]")?r:r.slice(1,-1):r.split(":",1)[0]),n.isIP(t)?"":t}},23190:e=>{"use strict";const t=(t,r,n)=>{e.exports[r]=class extends t{constructor(...e){super("string"==typeof n?n:n(e)),this.name=`${super.name} [${r}]`,this.code=r}}};t(TypeError,"ERR_INVALID_ARG_TYPE",(e=>{const t=e[0].includes(".")?"property":"argument";let r=e[1];const n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${n?"one of":"of"} type ${r}. Received ${typeof e[2]}`})),t(TypeError,"ERR_INVALID_PROTOCOL",(e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`)),t(Error,"ERR_HTTP_HEADERS_SENT",(e=>`Cannot ${e[0]} headers after they are sent to the client`)),t(TypeError,"ERR_INVALID_HTTP_TOKEN",(e=>`${e[0]} must be a valid HTTP token [${e[1]}]`)),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(e=>`Invalid value "${e[0]} for header "${e[1]}"`)),t(TypeError,"ERR_INVALID_CHAR",(e=>`Invalid character in ${e[0]} [${e[1]}]`))},48202:e=>{"use strict";e.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}},37306:e=>{"use strict";e.exports=(e,t,r)=>{for(const n of r)e.on(n,((...e)=>t.emit(n,...e)))}},15978:e=>{"use strict";e.exports=e=>{const t={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return"string"==typeof e.port&&0!==e.port.length&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}},79267:(e,t,r)=>{var n=r(8501),s=r(8575),o=e.exports;for(var i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);function a(e){if("string"==typeof e&&(e=s.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},11085:(e,t,r)=>{var n=r(23085).lW;t.stringify=function e(t){if(void 0===t)return t;if(t&&n.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&"object"==typeof t){var r="",s=Array.isArray(t);r=s?"[":"{";var o=!0;for(var i in t){var a="function"==typeof t[i]||!s&&void 0===t[i];Object.hasOwnProperty.call(t,i)&&!a&&(o||(r+=","),o=!1,s?null==t[i]?r+="null":r+=e(t[i]):void 0!==t[i]&&(r+=e(i)+":"+e(t[i])))}return r+(s?"]":"}")}return"string"==typeof t?JSON.stringify(/^:/.test(t)?":"+t:t):void 0===t?"null":JSON.stringify(t)},t.parse=function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t?/^:base64:/.test(t)?n.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t}))}},64958:(e,t,r)=>{"use strict";const n=r(17187),s=r(11085),o=["sqlite","postgres","mysql","mongo","redis","tiered"];e.exports=class extends n{constructor(e,{emitErrors:t=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:s.stringify,deserialize:s.parse,..."string"==typeof e?{uri:e}:e,...n},!this.opts.store){const e={...this.opts};this.opts.store=(e=>{const t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){const n=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(r(3196)(t[n]))(e)}return new Map})(e)}if(this.opts.compression){const e=this.opts.compression;this.opts.serialize=e.serialize.bind(e),this.opts.deserialize=e.deserialize.bind(e)}"function"==typeof this.opts.store.on&&t&&this.opts.store.on("error",(e=>this.emit("error",e))),this.opts.store.namespace=this.opts.namespace;const o=e=>async function*(){for await(const[t,r]of"function"==typeof e?e(this.opts.store.namespace):e){const e=this.opts.deserialize(r);this.opts.store.namespace&&!t.includes(this.opts.store.namespace)||("number"==typeof e.expires&&Date.now()>e.expires?this.delete(t):yield[this._getKeyUnprefix(t),e.value])}};"function"==typeof this.opts.store[Symbol.iterator]&&this.opts.store instanceof Map?this.iterator=o(this.opts.store):"function"==typeof this.opts.store.iterator&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=o(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return o.includes(this.opts.store.opts.dialect)||o.findIndex((e=>this.opts.store.opts.url.includes(e)))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map((e=>`${this.opts.namespace}:${e}`))}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){const{store:r}=this.opts,n=Array.isArray(e),s=n?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(n&&void 0===r.getMany){const e=[];for(const n of s)e.push(Promise.resolve().then((()=>r.get(n))).then((e=>"string"==typeof e||this.opts.compression?this.opts.deserialize(e):e)).then((e=>{if(null!=e)return"number"==typeof e.expires&&Date.now()>e.expires?this.delete(n).then((()=>{})):t&&t.raw?e:e.value})));return Promise.allSettled(e).then((e=>{const t=[];for(const r of e)t.push(r.value);return t}))}return Promise.resolve().then((()=>n?r.getMany(s):r.get(s))).then((e=>"string"==typeof e||this.opts.compression?this.opts.deserialize(e):e)).then((r=>{if(null!=r){if(n){const n=[];for(let s of r)"string"==typeof s&&(s=this.opts.deserialize(s)),null!=s?"number"==typeof s.expires&&Date.now()>s.expires?(this.delete(e).then((()=>{})),n.push(void 0)):n.push(t&&t.raw?s:s.value):n.push(void 0);return n}return"number"==typeof r.expires&&Date.now()>r.expires?this.delete(e).then((()=>{})):t&&t.raw?r:r.value}}))}set(e,t,r){const n=this._getKeyPrefix(e);void 0===r&&(r=this.opts.ttl),0===r&&(r=void 0);const{store:s}=this.opts;return Promise.resolve().then((()=>{const e="number"==typeof r?Date.now()+r:null;return"symbol"==typeof t&&this.emit("error","symbol cannot be serialized"),t={value:t,expires:e},this.opts.serialize(t)})).then((e=>s.set(n,e,r))).then((()=>!0))}delete(e){const{store:t}=this.opts;if(Array.isArray(e)){const r=this._getKeyPrefixArray(e);if(void 0===t.deleteMany){const e=[];for(const n of r)e.push(t.delete(n));return Promise.allSettled(e).then((e=>e.every((e=>!0===e.value))))}return Promise.resolve().then((()=>t.deleteMany(r)))}const r=this._getKeyPrefix(e);return Promise.resolve().then((()=>t.delete(r)))}clear(){const{store:e}=this.opts;return Promise.resolve().then((()=>e.clear()))}has(e){const t=this._getKeyPrefix(e),{store:r}=this.opts;return Promise.resolve().then((async()=>"function"==typeof r.has?r.has(t):void 0!==await r.get(t)))}disconnect(){const{store:e}=this.opts;if("function"==typeof e.disconnect)return e.disconnect()}}},83465:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",s=9007199254740991,o="[object Arguments]",i="[object Boolean]",a="[object Date]",c="[object Function]",u="[object GeneratorFunction]",l="[object Map]",h="[object Number]",f="[object Object]",d="[object Promise]",p="[object RegExp]",m="[object Set]",y="[object String]",v="[object Symbol]",g="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",E="[object Float64Array]",k="[object Int8Array]",S="[object Int16Array]",O="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",T="[object Uint16Array]",P="[object Uint32Array]",C=/\w*$/,R=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,L={};L[o]=L["[object Array]"]=L[b]=L[w]=L[i]=L[a]=L[_]=L[E]=L[k]=L[S]=L[O]=L[l]=L[h]=L[f]=L[p]=L[m]=L[y]=L[v]=L[A]=L[x]=L[T]=L[P]=!0,L["[object Error]"]=L[c]=L[g]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,j="object"==typeof self&&self&&self.Object===Object&&self,M=I||j||Function("return this")(),B=t&&!t.nodeType&&t,D=B&&e&&!e.nodeType&&e,U=D&&D.exports===B;function q(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function $(e,t,r,n){var s=-1,o=e?e.length:0;for(n&&o&&(r=e[++s]);++s<o;)r=t(r,e[s],s,e);return r}function F(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function W(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function z(e,t){return function(r){return e(t(r))}}function V(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var G,K=Array.prototype,J=Function.prototype,Q=Object.prototype,Y=M["__core-js_shared__"],X=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Z=J.toString,ee=Q.hasOwnProperty,te=Q.toString,re=RegExp("^"+Z.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=U?M.Buffer:void 0,se=M.Symbol,oe=M.Uint8Array,ie=z(Object.getPrototypeOf,Object),ae=Object.create,ce=Q.propertyIsEnumerable,ue=K.splice,le=Object.getOwnPropertySymbols,he=ne?ne.isBuffer:void 0,fe=z(Object.keys,Object),de=Me(M,"DataView"),pe=Me(M,"Map"),me=Me(M,"Promise"),ye=Me(M,"Set"),ve=Me(M,"WeakMap"),ge=Me(Object,"create"),be=He(de),we=He(pe),_e=He(me),Ee=He(ye),ke=He(ve),Se=se?se.prototype:void 0,Oe=Se?Se.valueOf:void 0;function Ae(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Pe(e){this.__data__=new xe(e)}function Ce(e,t,r){var n=e[t];ee.call(e,t)&&$e(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function Re(e,t){for(var r=e.length;r--;)if($e(e[r][0],t))return r;return-1}function Ne(e,t,r,n,s,d,g){var R;if(n&&(R=d?n(e,s,d,g):n(e)),void 0!==R)return R;if(!Ge(e))return e;var N=Fe(e);if(N){if(R=function(e){var t=e.length,r=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!t)return function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(e,R)}else{var I=De(e),j=I==c||I==u;if(ze(e))return function(e,t){if(t)return e.slice();var r=new e.constructor(e.length);return e.copy(r),r}(e,t);if(I==f||I==o||j&&!d){if(F(e))return d?e:{};if(R=function(e){return"function"!=typeof e.constructor||qe(e)?{}:Ge(t=ie(e))?ae(t):{};var t}(j?{}:e),!t)return function(e,t){return Ie(e,Be(e),t)}(e,function(e,t){return e&&Ie(t,Ke(t),e)}(R,e))}else{if(!L[I])return d?e:{};R=function(e,t,r,n){var s,o=e.constructor;switch(t){case b:return Le(e);case i:case a:return new o(+e);case w:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,n);case _:case E:case k:case S:case O:case A:case x:case T:case P:return function(e,t){var r=t?Le(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,n);case l:return function(e,t,r){return $(t?r(W(e),!0):W(e),q,new e.constructor)}(e,n,r);case h:case y:return new o(e);case p:return function(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,r){return $(t?r(V(e),!0):V(e),H,new e.constructor)}(e,n,r);case v:return s=e,Oe?Object(Oe.call(s)):{}}}(e,I,Ne,t)}}g||(g=new Pe);var M=g.get(e);if(M)return M;if(g.set(e,R),!N)var B=r?function(e){return function(e,t,r){var n=t(e);return Fe(e)?n:function(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}(n,r(e))}(e,Ke,Be)}(e):Ke(e);return function(e,t){for(var r=-1,n=e?e.length:0;++r<n&&!1!==t(e[r],r););}(B||e,(function(s,o){B&&(s=e[o=s]),Ce(R,o,Ne(s,t,r,n,o,e,g))})),R}function Le(e){var t=new e.constructor(e.byteLength);return new oe(t).set(new oe(e)),t}function Ie(e,t,r,n){r||(r={});for(var s=-1,o=t.length;++s<o;){var i=t[s],a=n?n(r[i],e[i],i,r,e):void 0;Ce(r,i,void 0===a?e[i]:a)}return r}function je(e,t){var r,n,s=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?s["string"==typeof t?"string":"hash"]:s.map}function Me(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ge(e)||(t=e,X&&X in t))&&(Ve(e)||F(e)?re:R).test(He(e));var t}(r)?r:void 0}Ae.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ae.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ae.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return ee.call(t,e)?t[e]:void 0},Ae.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:ee.call(t,e)},Ae.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?n:t,this},xe.prototype.clear=function(){this.__data__=[]},xe.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0||(r==t.length-1?t.pop():ue.call(t,r,1),0))},xe.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},xe.prototype.has=function(e){return Re(this.__data__,e)>-1},xe.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Te.prototype.clear=function(){this.__data__={hash:new Ae,map:new(pe||xe),string:new Ae}},Te.prototype.delete=function(e){return je(this,e).delete(e)},Te.prototype.get=function(e){return je(this,e).get(e)},Te.prototype.has=function(e){return je(this,e).has(e)},Te.prototype.set=function(e,t){return je(this,e).set(e,t),this},Pe.prototype.clear=function(){this.__data__=new xe},Pe.prototype.delete=function(e){return this.__data__.delete(e)},Pe.prototype.get=function(e){return this.__data__.get(e)},Pe.prototype.has=function(e){return this.__data__.has(e)},Pe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof xe){var n=r.__data__;if(!pe||n.length<199)return n.push([e,t]),this;r=this.__data__=new Te(n)}return r.set(e,t),this};var Be=le?z(le,Object):function(){return[]},De=function(e){return te.call(e)};function Ue(e,t){return!!(t=null==t?s:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Q)}function He(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(de&&De(new de(new ArrayBuffer(1)))!=w||pe&&De(new pe)!=l||me&&De(me.resolve())!=d||ye&&De(new ye)!=m||ve&&De(new ve)!=g)&&(De=function(e){var t=te.call(e),r=t==f?e.constructor:void 0,n=r?He(r):void 0;if(n)switch(n){case be:return w;case we:return l;case _e:return d;case Ee:return m;case ke:return g}return t});var Fe=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=s}(e.length)&&!Ve(e)}var ze=he||function(){return!1};function Ve(e){var t=Ge(e)?te.call(e):"";return t==c||t==u}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ke(e){return We(e)?function(e,t){var r=Fe(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&ee.call(e,"callee")&&(!ce.call(e,"callee")||te.call(e)==o)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,s=!!n;for(var i in e)!t&&!ee.call(e,i)||s&&("length"==i||Ue(i,n))||r.push(i);return r}(e):function(e){if(!qe(e))return fe(e);var t=[];for(var r in Object(e))ee.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}e.exports=function(e){return Ne(e,!0,!0)}},25989:e=>{"use strict";e.exports=e=>{const t={};for(const[r,n]of Object.entries(e))t[r.toLowerCase()]=n;return t}},66344:e=>{"use strict";const t=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];e.exports=(e,r)=>{const n=new Set(Object.keys(e).concat(t));for(const t of n)t in r||(r[t]="function"==typeof e[t]?e[t].bind(e):e[t])}},52510:(e,t,r)=>{const{NgrokClient:n,NgrokClientError:s}=r(6848),o=r(21614),{getProcess:i,killProcess:a,setAuthtoken:c,getVersion:u}=r(3837),{defaults:l,validate:h,isRetriable:f}=r(99700);let d=null,p=null;async function m(e,t=0){e.name=String(e.name||o.v4());try{return(await p.startTunnel(e)).public_url}catch(r){if(!f(r)||t>=100)throw r;return await new Promise((e=>setTimeout(e,200))),m(e,++t)}}e.exports={connect:async function(e){return e=l(e),h(e),e.authtoken&&await c(e),d=await i(e),p=new n(d),m(e)},disconnect:async function e(t){if(!p)return;const r=(await p.listTunnels()).tunnels;if(!t){const t=r.map((t=>e(t.public_url)));return Promise.all(t)}const n=r.find((e=>e.public_url===t));if(!n)throw new Error(`there is no tunnel with url: ${t}`);return p.stopTunnel(n.name)},authtoken:c,kill:async function(){p&&(await a(),p=null)},getUrl:function(){return d},getApi:function(){return p},getVersion:u,NgrokClient:n,NgrokClientError:s}},6848:(e,t,r)=>{const n=r(12210);class s extends Error{constructor(e,t,r){super(e),this.name="NgrokClientError",this.response=t,this.body=r}}e.exports={NgrokClient:class{constructor(e){this.internalApi=n.extend({prefixUrl:e,retry:0})}async request(e,t,r={}){try{return"get"===e?await this.internalApi.get(t,{searchParams:r}).json():await this.internalApi[e](t,{json:r}).json()}catch(e){let t;try{const r=JSON.parse(e.response.body);t=new s(r.msg,e.response,r)}catch(r){t=new s(e.response.body,e.response,e.response.body)}throw t}}async booleanRequest(e,t,r={}){try{return await this.internalApi[e](t,{json:r}).then((e=>204===e.statusCode))}catch(e){const t=JSON.parse(e.response.body);throw new s(t.msg,e.response,t)}}listTunnels(){return this.request("get","api/tunnels")}startTunnel(e={}){return this.request("post","api/tunnels",e)}tunnelDetail(e){return this.request("get",`api/tunnels/${e}`)}stopTunnel(e){if(void 0===e||0===e.length)throw new Error("To stop a tunnel, please provide a name.");return this.booleanRequest("delete",`api/tunnels/${e}`)}listRequests(e){return this.request("get","api/requests/http",e)}replayRequest(e,t){return this.booleanRequest("post","api/requests/http",{id:e,tunnelName:t})}deleteAllRequests(){return this.booleanRequest("delete","api/requests/http")}requestDetail(e){if(void 0===e||0===e.length)throw new Error("To get the details of a request, please provide an id.");return this.request("get",`api/requests/http/${e}`)}},NgrokClientError:s}},3837:(e,t,r)=>{var n=r(34155);const{promisify:s}=r(89539),{spawn:o,exec:i}=r(34276),a=s(i),c=r(26552).platform(),{join:u}=r(87421),l=u("/","..","bin"),h="win32"===c?"ngrok.exe":"ngrok",f=/starting web service.*addr=(\d+\.\d+\.\d+\.\d+:\d+)/,d=/address already in use/;let p,m;n.on("exit",(()=>{m&&m.kill()})),e.exports={getProcess:async function(e){if(p)return p;try{return p=async function(e){let t=l;const r=["start","--none","--log=stdout"];e.region&&r.push("--region="+e.region),e.configPath&&r.push("--config="+e.configPath),e.binPath&&(t=e.binPath(t));const n=o(u(t,h),r,{windowsHide:!0});let s,i;const a=new Promise(((e,t)=>{s=e,i=t}));n.stdout.on("data",(t=>{const r=t.toString().trim();e.onLogEvent&&e.onLogEvent(r),e.onStatusChange&&(r.match("client session established")?e.onStatusChange("connected"):r.match("session closed, starting reconnect loop")&&e.onStatusChange("closed")),r.split(/\n/).forEach((e=>{const t=function(e){if("{"===e[0])return JSON.parse(e).addr;{const t=e.match(f);if(t)return t[1]}}(e);t?s(`http://${t}`):e.match(d)&&i(new Error(e.substring(0,1e4)))}))})),n.stderr.on("data",(e=>{const t=e.toString().substring(0,1e4);i(new Error(t))})),n.on("exit",(()=>{p=null,m=null,e.onTerminated&&e.onTerminated()}));try{const e=await a;return m=n,e}catch(e){throw n.kill(),e}finally{e.onLogEvent||e.onStatusChange||n.stdout.removeAllListeners("data"),n.stderr.removeAllListeners("data")}}(e),await p}catch(e){throw p=null,e}},killProcess:function(){return m?new Promise((e=>{m.on("exit",(()=>e())),m.kill()})):Promise.resolve()},setAuthtoken:async function(e){const t="string"!=typeof e,r=t?e:{},n=["authtoken",t?r.authtoken:e];r.configPath&&n.push("--config="+r.configPath);let s=l;r.binPath&&(s=r.binPath(s));const i=o(u(s,h),n,{windowsHide:!0}),a=new Promise(((e,t)=>{i.stdout.once("data",(()=>e())),i.stderr.once("data",(()=>t(new Error("cant set authtoken"))))}));try{return await a}finally{i.kill()}},getVersion:async function(e={}){let t=l;e.binPath&&(t=e.binPath(t));const{stdout:r}=await a(`${u(t,h)} --version`);return r.replace("ngrok version","").trim()}}},99700:(e,t,r)=>{const{homedir:n}=r(26552),{join:s}=r(87421),{parse:o}=r(55006),{readFileSync:i}=r(32760),a=r(83465);e.exports={defaults:function(e){if((e=a(e)||{proto:"http",addr:80}).name){const t=e.configPath||s(n(),".ngrok2","ngrok.yml"),r=o(i(t,"utf8"));r.tunnels&&r.tunnels[e.name]&&(e=Object.assign(e,r.tunnels[e.name]))}return"function"==typeof e&&(e={proto:"http",addr:80}),"object"!=typeof e&&(e={proto:"http",addr:e}),e.proto||(e.proto="http"),e.addr||(e.addr=e.port||e.host||80),e.httpauth&&(e.auth=e.httpauth),e},validate:function(e){if(!1===e.web_addr||"false"===e.web_addr)throw new Error("web_addr:false is not supported, module depends on internal ngrok api")},isRetriable:function(e){if(!e.response)return!1;const t=e.response.statusCode,r=e.body,n=500===t&&/panic/.test(r),s=502===t&&r.details&&"tunnel session not ready yet"===r.details.err,o=503===t&&r.details&&"a successful ngrok tunnel session has not yet been established"===r.details.err;return n||s||o}}},40015:e=>{"use strict";const t=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));e.exports=(e,r)=>{if(r={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...r},e=e.trim(),/^data:/i.test(e))return((e,{stripHash:t})=>{const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:s,hash:o}=r.groups;const i=n.split(";");o=t?"":o;let a=!1;"base64"===i[i.length-1]&&(i.pop(),a=!0);const c=(i.shift()||"").toLowerCase(),u=[...i.map((e=>{let[t,r=""]=e.split("=").map((e=>e.trim()));return"charset"===t&&(r=r.toLowerCase(),"us-ascii"===r)?"":`${t}${r?`=${r}`:""}`})).filter(Boolean)];return a&&u.push("base64"),(0!==u.length||c&&"text/plain"!==c)&&u.unshift(c),`data:${u.join(";")},${a?s.trim():s}${o?`#${o}`:""}`})(e,r);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");const n=e.startsWith("//");!n&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,r.defaultProtocol));const s=new URL(e);if(r.forceHttp&&r.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(r.forceHttp&&"https:"===s.protocol&&(s.protocol="http:"),r.forceHttps&&"http:"===s.protocol&&(s.protocol="https:"),r.stripAuthentication&&(s.username="",s.password=""),r.stripHash?s.hash="":r.stripTextFragment&&(s.hash=s.hash.replace(/#?:~:text.*?$/i,"")),s.pathname&&(s.pathname=s.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),s.pathname)try{s.pathname=decodeURI(s.pathname)}catch(e){}if(!0===r.removeDirectoryIndex&&(r.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(r.removeDirectoryIndex)&&r.removeDirectoryIndex.length>0){let e=s.pathname.split("/");const n=e[e.length-1];t(n,r.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),s.pathname=e.slice(1).join("/")+"/")}if(s.hostname&&(s.hostname=s.hostname.replace(/\.$/,""),r.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(s.hostname)&&(s.hostname=s.hostname.replace(/^www\./,""))),Array.isArray(r.removeQueryParameters))for(const e of[...s.searchParams.keys()])t(e,r.removeQueryParameters)&&s.searchParams.delete(e);!0===r.removeQueryParameters&&(s.search=""),r.sortQueryParameters&&s.searchParams.sort(),r.removeTrailingSlash&&(s.pathname=s.pathname.replace(/\/$/,""));const o=e;return e=s.toString(),r.removeSingleSlash||"/"!==s.pathname||o.endsWith("/")||""!==s.hash||(e=e.replace(/\/$/,"")),(r.removeTrailingSlash||"/"===s.pathname)&&""===s.hash&&r.removeSingleSlash&&(e=e.replace(/\/$/,"")),n&&!r.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),r.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}},30778:(e,t,r)=>{var n=r(52479);function s(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(s),e.exports.strict=n(o),s.proto=s((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return s(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},80341:e=>{"use strict";class t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(e){return(...t)=>new r(((r,n,s)=>{t.push(s),e(...t).then(r,n)}))}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(((t,r)=>{this._reject=r;const n=e=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e((e=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,t(e))}),(e=>{this._isPending=!1,r(e)}),n)}))}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const e of this._cancelHandlers)e()}catch(e){return void this._reject(e)}this._rejectOnCancel&&this._reject(new t(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),e.exports=r,e.exports.CancelError=t},74286:(e,t,r)=>{var n=r(34155),s=r(30778),o=r(12840),i=r(71156),a=function(){},c=/^v?\.0/.test(n.version),u=function(e){return"function"==typeof e},l=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=u(t[t.length-1]||a)&&t.pop()||a;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var n=t.map((function(h,f){var d=f<t.length-1;return function(e,t,r,n){n=s(n);var l=!1;e.on("close",(function(){l=!0})),o(e,{readable:t,writable:r},(function(e){if(e)return n(e);l=!0,n()}));var h=!1;return function(t){if(!l&&!h)return h=!0,function(e){return!!c&&!!i&&(e instanceof(i.ReadStream||a)||e instanceof(i.WriteStream||a))&&u(e.close)}(e)?e.close(a):function(e){return e.setHeader&&u(e.abort)}(e)?e.abort():u(e.destroy)?e.destroy():void n(t||new Error("stream was destroyed"))}}(h,d,f>0,(function(t){e||(e=t),t&&n.forEach(l),d||(n.forEach(l),r(e))}))}));return t.reduce(h)}},61269:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(const[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){const t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache)yield e;for(const e of this.oldCache){const[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},45322:(e,t,r)=>{"use strict";const n=r(18791);e.exports=(e={},t=n.connect)=>new Promise(((r,n)=>{let s,o=!1;const i=async()=>{await c,s.off("timeout",a),s.off("error",n),e.resolveSocket?(r({alpnProtocol:s.alpnProtocol,socket:s,timeout:o}),o&&(await Promise.resolve(),s.emit("timeout"))):(s.destroy(),r({alpnProtocol:s.alpnProtocol,timeout:o}))},a=async()=>{o=!0,i()},c=(async()=>{try{s=await t(e,i),s.on("error",n),s.once("timeout",a)}catch(e){n(e)}})()}))},24259:(e,t,r)=>{"use strict";var n=r(23085).lW;const s=r(42830).Readable,o=r(25989);e.exports=class extends s{constructor(e,t,r,s){if("number"!=typeof e)throw new TypeError("Argument `statusCode` should be a number");if("object"!=typeof t)throw new TypeError("Argument `headers` should be an object");if(!(r instanceof n))throw new TypeError("Argument `body` should be a buffer");if("string"!=typeof s)throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=o(t),this.body=r,this.url=s}_read(){this.push(this.body),this.push(null)}}},21614:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{NIL:()=>C,parse:()=>y,stringify:()=>l,v1:()=>m,v3:()=>O,v4:()=>A,v5:()=>P,validate:()=>a,version:()=>R});var s=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(s)}const i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,a=function(e){return"string"==typeof e&&i.test(e)};for(var c=[],u=0;u<256;++u)c.push((u+256).toString(16).substr(1));const l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};var h,f,d=0,p=0;const m=function(e,t,r){var n=t&&r||0,s=t||new Array(16),i=(e=e||{}).node||h,a=void 0!==e.clockseq?e.clockseq:f;if(null==i||null==a){var c=e.random||(e.rng||o)();null==i&&(i=h=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==a&&(a=f=16383&(c[6]<<8|c[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:p+1,y=u-d+(m-p)/1e4;if(y<0&&void 0===e.clockseq&&(a=a+1&16383),(y<0||u>d)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=u,p=m,f=a;var v=(1e4*(268435455&(u+=122192928e5))+m)%4294967296;s[n++]=v>>>24&255,s[n++]=v>>>16&255,s[n++]=v>>>8&255,s[n++]=255&v;var g=u/4294967296*1e4&268435455;s[n++]=g>>>8&255,s[n++]=255&g,s[n++]=g>>>24&15|16,s[n++]=g>>>16&255,s[n++]=a>>>8|128,s[n++]=255&a;for(var b=0;b<6;++b)s[n+b]=i[b];return t||l(s)},y=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function v(e,t,r){function n(e,n,s,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var i=new Uint8Array(16+e.length);if(i.set(n),i.set(e,n.length),(i=r(i))[6]=15&i[6]|t,i[8]=63&i[8]|128,s){o=o||0;for(var a=0;a<16;++a)s[o+a]=i[a];return s}return l(i)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function g(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function w(e,t,r,n,s,o){return b((i=b(b(t,e),b(n,o)))<<(a=s)|i>>>32-a,r);var i,a}function _(e,t,r,n,s,o,i){return w(t&r|~t&n,e,t,s,o,i)}function E(e,t,r,n,s,o,i){return w(t&n|r&~n,e,t,s,o,i)}function k(e,t,r,n,s,o,i){return w(t^r^n,e,t,s,o,i)}function S(e,t,r,n,s,o,i){return w(r^(t|~n),e,t,s,o,i)}const O=v("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){for(var t=[],r=32*e.length,n="0123456789abcdef",s=0;s<r;s+=8){var o=e[s>>5]>>>s%32&255,i=parseInt(n.charAt(o>>>4&15)+n.charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[g(t)-1]=t;for(var r=1732584193,n=-271733879,s=-1732584194,o=271733878,i=0;i<e.length;i+=16){var a=r,c=n,u=s,l=o;r=_(r,n,s,o,e[i],7,-680876936),o=_(o,r,n,s,e[i+1],12,-389564586),s=_(s,o,r,n,e[i+2],17,606105819),n=_(n,s,o,r,e[i+3],22,-1044525330),r=_(r,n,s,o,e[i+4],7,-176418897),o=_(o,r,n,s,e[i+5],12,1200080426),s=_(s,o,r,n,e[i+6],17,-1473231341),n=_(n,s,o,r,e[i+7],22,-45705983),r=_(r,n,s,o,e[i+8],7,1770035416),o=_(o,r,n,s,e[i+9],12,-1958414417),s=_(s,o,r,n,e[i+10],17,-42063),n=_(n,s,o,r,e[i+11],22,-1990404162),r=_(r,n,s,o,e[i+12],7,1804603682),o=_(o,r,n,s,e[i+13],12,-40341101),s=_(s,o,r,n,e[i+14],17,-1502002290),r=E(r,n=_(n,s,o,r,e[i+15],22,1236535329),s,o,e[i+1],5,-165796510),o=E(o,r,n,s,e[i+6],9,-1069501632),s=E(s,o,r,n,e[i+11],14,643717713),n=E(n,s,o,r,e[i],20,-373897302),r=E(r,n,s,o,e[i+5],5,-701558691),o=E(o,r,n,s,e[i+10],9,38016083),s=E(s,o,r,n,e[i+15],14,-660478335),n=E(n,s,o,r,e[i+4],20,-405537848),r=E(r,n,s,o,e[i+9],5,568446438),o=E(o,r,n,s,e[i+14],9,-1019803690),s=E(s,o,r,n,e[i+3],14,-187363961),n=E(n,s,o,r,e[i+8],20,1163531501),r=E(r,n,s,o,e[i+13],5,-1444681467),o=E(o,r,n,s,e[i+2],9,-51403784),s=E(s,o,r,n,e[i+7],14,1735328473),r=k(r,n=E(n,s,o,r,e[i+12],20,-1926607734),s,o,e[i+5],4,-378558),o=k(o,r,n,s,e[i+8],11,-2022574463),s=k(s,o,r,n,e[i+11],16,1839030562),n=k(n,s,o,r,e[i+14],23,-35309556),r=k(r,n,s,o,e[i+1],4,-1530992060),o=k(o,r,n,s,e[i+4],11,1272893353),s=k(s,o,r,n,e[i+7],16,-155497632),n=k(n,s,o,r,e[i+10],23,-1094730640),r=k(r,n,s,o,e[i+13],4,681279174),o=k(o,r,n,s,e[i],11,-358537222),s=k(s,o,r,n,e[i+3],16,-722521979),n=k(n,s,o,r,e[i+6],23,76029189),r=k(r,n,s,o,e[i+9],4,-640364487),o=k(o,r,n,s,e[i+12],11,-421815835),s=k(s,o,r,n,e[i+15],16,530742520),r=S(r,n=k(n,s,o,r,e[i+2],23,-995338651),s,o,e[i],6,-198630844),o=S(o,r,n,s,e[i+7],10,1126891415),s=S(s,o,r,n,e[i+14],15,-1416354905),n=S(n,s,o,r,e[i+5],21,-57434055),r=S(r,n,s,o,e[i+12],6,1700485571),o=S(o,r,n,s,e[i+3],10,-1894986606),s=S(s,o,r,n,e[i+10],15,-1051523),n=S(n,s,o,r,e[i+1],21,-2054922799),r=S(r,n,s,o,e[i+8],6,1873313359),o=S(o,r,n,s,e[i+15],10,-30611744),s=S(s,o,r,n,e[i+6],15,-1560198380),n=S(n,s,o,r,e[i+13],21,1309151649),r=S(r,n,s,o,e[i+4],6,-145523070),o=S(o,r,n,s,e[i+11],10,-1120210379),s=S(s,o,r,n,e[i+2],15,718787259),n=S(n,s,o,r,e[i+9],21,-343485551),r=b(r,a),n=b(n,c),s=b(s,u),o=b(o,l)}return[r,n,s,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(g(t)),n=0;n<t;n+=8)r[n>>5]|=(255&e[n/8])<<n%32;return r}(e),8*e.length))})),A=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var s=0;s<16;++s)t[r+s]=n[s];return t}return l(n)};function x(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function T(e,t){return e<<t|e>>>32-t}const P=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var n=unescape(encodeURIComponent(e));e=[];for(var s=0;s<n.length;++s)e.push(n.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,i=Math.ceil(o/16),a=new Array(i),c=0;c<i;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[64*c+4*l]<<24|e[64*c+4*l+1]<<16|e[64*c+4*l+2]<<8|e[64*c+4*l+3];a[c]=u}a[i-1][14]=8*(e.length-1)/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<i;++h){for(var f=new Uint32Array(80),d=0;d<16;++d)f[d]=a[h][d];for(var p=16;p<80;++p)f[p]=T(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=r[0],y=r[1],v=r[2],g=r[3],b=r[4],w=0;w<80;++w){var _=Math.floor(w/20),E=T(m,5)+x(_,y,v,g)+b+t[_]+f[w]>>>0;b=g,g=v,v=T(y,30)>>>0,y=m,m=E}r[0]=r[0]+m>>>0,r[1]=r[1]+y>>>0,r[2]=r[2]+v>>>0,r[3]=r[3]+g>>>0,r[4]=r[4]+b>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),C="00000000-0000-0000-0000-000000000000",R=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},52479:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var n=t.apply(this,e),s=e[e.length-1];return"function"==typeof n&&n!==s&&Object.keys(s).forEach((function(e){n[e]=s[e]})),n}}},55006:(e,t,r)=>{e.exports=r(68657).YAML},68657:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,t,r){return f=h()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var s=new(Function.bind.apply(e,n));return r&&l(s,r.prototype),s},f.apply(null,arguments)}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},d(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?p(e):t}function y(e){var t=h();return function(){var r,n=u(e);if(t){var s=u(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return m(this,r)}}function v(e,t,r){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(n){var s=Object.getOwnPropertyDescriptor(n,t);return s.get?s.get.call(r):s.value}},v(e,t,r||e)}function g(e,t){return w(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,s=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){s=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return r}}(e,t)||_(e,t)||k()}function b(e){return w(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||_(e)||k()}function w(e){if(Array.isArray(e))return e}function _(e,t){if(e){if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,s=function(){};return{s,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}r.d(t,{YAML:()=>Zt});var O={ANCHOR:"&",COMMENT:"#",TAG:"!",DIRECTIVES_END:"-",DOCUMENT_END:"."},A={ALIAS:"ALIAS",BLANK_LINE:"BLANK_LINE",BLOCK_FOLDED:"BLOCK_FOLDED",BLOCK_LITERAL:"BLOCK_LITERAL",COMMENT:"COMMENT",DIRECTIVE:"DIRECTIVE",DOCUMENT:"DOCUMENT",FLOW_MAP:"FLOW_MAP",FLOW_SEQ:"FLOW_SEQ",MAP:"MAP",MAP_KEY:"MAP_KEY",MAP_VALUE:"MAP_VALUE",PLAIN:"PLAIN",QUOTE_DOUBLE:"QUOTE_DOUBLE",QUOTE_SINGLE:"QUOTE_SINGLE",SEQ:"SEQ",SEQ_ITEM:"SEQ_ITEM"},x="tag:yaml.org,2002:",T={MAP:"tag:yaml.org,2002:map",SEQ:"tag:yaml.org,2002:seq",STR:"tag:yaml.org,2002:str"};function P(e){for(var t=[0],r=e.indexOf("\n");-1!==r;)r+=1,t.push(r),r=e.indexOf("\n",r);return t}function C(e){var t,r;return"string"==typeof e?(t=P(e),r=e):(Array.isArray(e)&&(e=e[0]),e&&e.context&&(e.lineStarts||(e.lineStarts=P(e.context.src)),t=e.lineStarts,r=e.context.src)),{lineStarts:t,src:r}}function R(e,t){if("number"!=typeof e||e<0)return null;var r=C(t),n=r.lineStarts,s=r.src;if(!n||!s||e>s.length)return null;for(var o=0;o<n.length;++o){var i=n[o];if(e<i)return{line:o,col:e-n[o-1]+1};if(e===i)return{line:o+1,col:1}}var a=n.length;return{line:a,col:e-n[a-1]+1}}var N=function(){function e(t,r){s(this,e),this.start=t,this.end=r||t}return i(e,[{key:"isEmpty",value:function(){return"number"!=typeof this.start||!this.end||this.end<=this.start}},{key:"setOrigRange",value:function(e,t){var r=this.start,n=this.end;if(0===e.length||n<=e[0])return this.origStart=r,this.origEnd=n,t;for(var s=t;s<e.length&&!(e[s]>r);)++s;this.origStart=r+s;for(var o=s;s<e.length&&!(e[s]>=n);)++s;return this.origEnd=n+s,o}}],[{key:"copy",value:function(t){return new e(t.start,t.end)}}]),e}(),L=function(){function e(t,r,n){s(this,e),Object.defineProperty(this,"context",{value:n||null,writable:!0}),this.error=null,this.range=null,this.valueRange=null,this.props=r||[],this.type=t,this.value=null}return i(e,[{key:"getPropValue",value:function(e,t,r){if(!this.context)return null;var n=this.context.src,s=this.props[e];return s&&n[s.start]===t?n.slice(s.start+(r?1:0),s.end):null}},{key:"anchor",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,O.ANCHOR,!0);if(null!=t)return t}return null}},{key:"comment",get:function(){for(var e=[],t=0;t<this.props.length;++t){var r=this.getPropValue(t,O.COMMENT,!0);null!=r&&e.push(r)}return e.length>0?e.join("\n"):null}},{key:"commentHasRequiredWhitespace",value:function(t){var r=this.context.src;if(this.header&&t===this.header.end)return!1;if(!this.valueRange)return!1;var n=this.valueRange.end;return t!==n||e.atBlank(r,n-1)}},{key:"hasComment",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]===O.COMMENT)return!0;return!1}},{key:"hasProps",get:function(){if(this.context)for(var e=this.context.src,t=0;t<this.props.length;++t)if(e[this.props[t].start]!==O.COMMENT)return!0;return!1}},{key:"includesTrailingLines",get:function(){return!1}},{key:"jsonLike",get:function(){return-1!==[A.FLOW_MAP,A.FLOW_SEQ,A.QUOTE_DOUBLE,A.QUOTE_SINGLE].indexOf(this.type)}},{key:"rangeAsLinePos",get:function(){if(this.range&&this.context){var e=R(this.range.start,this.context.root);if(e)return{start:e,end:R(this.range.end,this.context.root)}}}},{key:"rawValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,r=e.end;return this.context.src.slice(t,r)}},{key:"tag",get:function(){for(var e=0;e<this.props.length;++e){var t=this.getPropValue(e,O.TAG,!1);if(null!=t){if("<"===t[1])return{verbatim:t.slice(2,-1)};var r=g(t.match(/^(.*!)([^!]*)$/),3);return r[0],{handle:r[1],suffix:r[2]}}}return null}},{key:"valueRangeContainsNewline",get:function(){if(!this.valueRange||!this.context)return!1;for(var e=this.valueRange,t=e.start,r=e.end,n=this.context.src,s=t;s<r;++s)if("\n"===n[s])return!0;return!1}},{key:"parseComment",value:function(t){var r=this.context.src;if(r[t]===O.COMMENT){var n=e.endOfLine(r,t+1),s=new N(t,n);return this.props.push(s),n}return t}},{key:"setOrigRanges",value:function(e,t){return this.range&&(t=this.range.setOrigRange(e,t)),this.valueRange&&this.valueRange.setOrigRange(e,t),this.props.forEach((function(r){return r.setOrigRange(e,t)})),t}},{key:"toString",value:function(){var t=this.context.src,r=this.range,n=this.value;if(null!=n)return n;var s=t.slice(r.start,r.end);return e.addStringTerminator(t,r.end,s)}}],[{key:"addStringTerminator",value:function(t,r,n){if("\n"===n[n.length-1])return n;var s=e.endOfWhiteSpace(t,r);return s>=t.length||"\n"===t[s]?n+"\n":n}},{key:"atDocumentBoundary",value:function(e,t,r){var n=e[t];if(!n)return!0;var s=e[t-1];if(s&&"\n"!==s)return!1;if(r){if(n!==r)return!1}else if(n!==O.DIRECTIVES_END&&n!==O.DOCUMENT_END)return!1;var o=e[t+1],i=e[t+2];if(o!==n||i!==n)return!1;var a=e[t+3];return!a||"\n"===a||"\t"===a||" "===a}},{key:"endOfIdentifier",value:function(e,t){for(var r=e[t],n="<"===r,s=n?["\n","\t"," ",">"]:["\n","\t"," ","[","]","{","}",","];r&&-1===s.indexOf(r);)r=e[t+=1];return n&&">"===r&&(t+=1),t}},{key:"endOfIndent",value:function(e,t){for(var r=e[t];" "===r;)r=e[t+=1];return t}},{key:"endOfLine",value:function(e,t){for(var r=e[t];r&&"\n"!==r;)r=e[t+=1];return t}},{key:"endOfWhiteSpace",value:function(e,t){for(var r=e[t];"\t"===r||" "===r;)r=e[t+=1];return t}},{key:"startOfLine",value:function(e,t){var r=e[t-1];if("\n"===r)return t;for(;r&&"\n"!==r;)r=e[t-=1];return t+1}},{key:"endOfBlockIndent",value:function(t,r,n){var s=e.endOfIndent(t,n);if(s>n+r)return s;var o=e.endOfWhiteSpace(t,s),i=t[o];return i&&"\n"!==i?null:o}},{key:"atBlank",value:function(e,t,r){var n=e[t];return"\n"===n||"\t"===n||" "===n||r&&!n}},{key:"nextNodeIsIndented",value:function(e,t,r){return!(!e||t<0)&&(t>0||r&&"-"===e)}},{key:"normalizeOffset",value:function(t,r){var n=t[r];return n?"\n"!==n&&"\n"===t[r-1]?r-1:e.endOfWhiteSpace(t,r):r}},{key:"foldNewline",value:function(t,r,n){for(var s=0,o=!1,i="",a=t[r+1];" "===a||"\t"===a||"\n"===a;){switch(a){case"\n":s=0,r+=1,i+="\n";break;case"\t":s<=n&&(o=!0),r=e.endOfWhiteSpace(t,r+2)-1;break;case" ":s+=1,r+=1}a=t[r+1]}return i||(i=" "),a&&s<=n&&(o=!0),{fold:i,offset:r,error:o}}}]),e}(),I=function(e){c(r,e);var t=y(r);function r(e,n,o){var i;if(s(this,r),!(o&&n instanceof L))throw new Error("Invalid arguments for new ".concat(e));return(i=t.call(this)).name=e,i.message=o,i.source=n,i}return i(r,[{key:"makePretty",value:function(){if(this.source){this.nodeType=this.source.type;var e=this.source.context&&this.source.context.root;if("number"==typeof this.offset){this.range=new N(this.offset,this.offset+1);var t=e&&R(this.offset,e);if(t){var r={line:t.line,col:t.col+1};this.linePos={start:t,end:r}}delete this.offset}else this.range=this.source.range,this.linePos=this.source.rangeAsLinePos;if(this.linePos){var n=this.linePos.start,s=n.line,o=n.col;this.message+=" at line ".concat(s,", column ").concat(o);var i=e&&function(e,t){var r=e.start,n=e.end,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80,o=function(e,t){var r=C(t),n=r.lineStarts,s=r.src;if(!n||!(e>=1)||e>n.length)return null;for(var o=n[e-1],i=n[e];i&&i>o&&"\n"===s[i-1];)--i;return s.slice(o,i)}(r.line,t);if(!o)return null;var i=r.col;if(o.length>s)if(i<=s-10)o=o.substr(0,s-1)+"";else{var a=Math.round(s/2);o.length>i+a&&(o=o.substr(0,i+a-1)+""),i-=o.length-s,o=""+o.substr(1-s)}var c=1,u="";n&&(n.line===r.line&&i+(n.col-r.col)<=s+1?c=n.col-r.col:(c=Math.min(o.length+1,s)-i,u=""));var l=i>1?" ".repeat(i-1):"",h="^".repeat(c);return"".concat(o,"\n").concat(l).concat(h).concat(u)}(this.linePos,e);i&&(this.message+=":\n\n".concat(i,"\n"))}delete this.source}}}]),r}(d(Error)),j=function(e){c(r,e);var t=y(r);function r(e,n){return s(this,r),t.call(this,"YAMLReferenceError",e,n)}return r}(I),M=function(e){c(r,e);var t=y(r);function r(e,n){return s(this,r),t.call(this,"YAMLSemanticError",e,n)}return r}(I),B=function(e){c(r,e);var t=y(r);function r(e,n){return s(this,r),t.call(this,"YAMLSyntaxError",e,n)}return r}(I),D=function(e){c(r,e);var t=y(r);function r(e,n){return s(this,r),t.call(this,"YAMLWarning",e,n)}return r}(I),U=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;for(var e=this.valueRange,t=e.start,r=e.end,n=this.context.src,s=n[r-1];t<r&&("\n"===s||"\t"===s||" "===s);)s=n[--r-1];for(var o="",i=t;i<r;++i){var a=n[i];if("\n"===a){var c=L.foldNewline(n,i,-1);o+=c.fold,i=c.offset}else if(" "===a||"\t"===a){for(var u=i,l=n[i+1];i<r&&(" "===l||"\t"===l);)l=n[(i+=1)+1];"\n"!==l&&(o+=i>u?n.slice(u,i+1):a)}else o+=a}var h=n[t];switch(h){case"\t":return{errors:[new M(this,"Plain value cannot start with a tab character")],str:o};case"@":case"`":var f="Plain value cannot start with reserved character ".concat(h);return{errors:[new M(this,f)],str:o};default:return o}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,n=t.indent,s=t.inFlow,o=t.src,i=e,a=e,c=o[i];"\n"===c&&!L.atDocumentBoundary(o,i+1);c=o[i]){var u=L.endOfBlockIndent(o,n,i+1);if(null===u||"#"===o[u])break;i="\n"===o[u]?u:a=r.endOfLine(o,u,s)}return this.valueRange.isEmpty()&&(this.valueRange.start=e),this.valueRange.end=a,a}},{key:"parse",value:function(e,t){this.context=e;var n=e.inFlow,s=e.src,o=t,i=s[o];return i&&"#"!==i&&"\n"!==i&&(o=r.endOfLine(s,t,n)),this.valueRange=new N(t,o),o=L.endOfWhiteSpace(s,o),o=this.parseComment(o),this.hasComment&&!this.valueRange.isEmpty()||(o=this.parseBlockValue(o)),o}}],[{key:"endOfLine",value:function(e,t,r){for(var n=e[t],s=t;n&&"\n"!==n&&(!r||"["!==n&&"]"!==n&&"{"!==n&&"}"!==n&&","!==n);){var o=e[s+1];if(":"===n&&(!o||"\n"===o||"\t"===o||" "===o||r&&","===o))break;if((" "===n||"\t"===n)&&"#"===o)break;s+=1,n=o}return s}}]),r}(L),q=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.call(this,A.BLANK_LINE)}return i(r,[{key:"includesTrailingLines",get:function(){return!0}},{key:"parse",value:function(e,t){return this.context=e,this.range=new N(t,t+1),t+1}}]),r}(L),H=function(e){c(r,e);var t=y(r);function r(e,n){var o;return s(this,r),(o=t.call(this,e,n)).node=null,o}return i(r,[{key:"includesTrailingLines",get:function(){return!!this.node&&this.node.includesTrailingLines}},{key:"parse",value:function(e,t){this.context=e;var r=e.parseNode,n=e.src,s=e.atLineStart,o=e.lineStart;s||this.type!==A.SEQ_ITEM||(this.error=new M(this,"Sequence items must not have preceding content on the same line"));for(var i=s?t-o:e.indent,a=L.endOfWhiteSpace(n,t+1),c=n[a],u="#"===c,l=[],h=null;"\n"===c||"#"===c;){if("#"===c){var f=L.endOfLine(n,a+1);l.push(new N(a,f)),a=f}else s=!0,o=a+1,"\n"===n[L.endOfWhiteSpace(n,o)]&&0===l.length&&(o=(h=new q).parse({src:n},o)),a=L.endOfIndent(n,o);c=n[a]}if(L.nextNodeIsIndented(c,a-(o+i),this.type!==A.SEQ_ITEM)?this.node=r({atLineStart:s,inCollection:!1,indent:i,lineStart:o,parent:this},a):c&&o>t+1&&(a=o-1),this.node){if(h){var d=e.parent.items||e.parent.contents;d&&d.push(h)}l.length&&Array.prototype.push.apply(this.props,l),a=this.node.range.end}else if(u){var p=l[0];this.props.push(p),a=p.end}else a=L.endOfLine(n,t+1);var m=this.node?this.node.valueRange.end:a;return this.valueRange=new N(t,m),a}},{key:"setOrigRanges",value:function(e,t){return t=v(u(r.prototype),"setOrigRanges",this).call(this,e,t),this.node?this.node.setOrigRanges(e,t):t}},{key:"toString",value:function(){var e=this.context.src,t=this.node,r=this.range,n=this.value;if(null!=n)return n;var s=t?e.slice(r.start,t.range.start)+String(t):e.slice(r.start,r.end);return L.addStringTerminator(e,r.end,s)}}]),r}(L),$=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.call(this,A.COMMENT)}return i(r,[{key:"parse",value:function(e,t){this.context=e;var r=this.parseComment(t);return this.range=new N(t,r),r}}]),r}(L);function F(e){for(var t=e;t instanceof H;)t=t.node;if(!(t instanceof W))return null;for(var r=t.items.length,n=-1,s=r-1;s>=0;--s){var o=t.items[s];if(o.type===A.COMMENT){var i=o.context,a=i.indent,c=i.lineStart;if(a>0&&o.range.start>=c+a)break;n=s}else{if(o.type!==A.BLANK_LINE)break;n=s}}if(-1===n)return null;for(var u=t.items.splice(n,r-n),l=u[0].range.start;t.range.end=l,t.valueRange&&t.valueRange.end>l&&(t.valueRange.end=l),t!==e;)t=t.context.parent;return u}var W=function(e){c(r,e);var t=y(r);function r(e){var n;s(this,r),n=t.call(this,e.type===A.SEQ_ITEM?A.SEQ:A.MAP);for(var o=e.props.length-1;o>=0;--o)if(e.props[o].start<e.context.lineStart){n.props=e.props.slice(0,o+1),e.props=e.props.slice(o+1);var i=e.props[0]||e.valueRange;e.range.start=i.start;break}n.items=[e];var a=F(e);return a&&Array.prototype.push.apply(n.items,a),n}return i(r,[{key:"includesTrailingLines",get:function(){return this.items.length>0}},{key:"parse",value:function(e,t){this.context=e;var n=e.parseNode,s=e.src,o=L.startOfLine(s,t),i=this.items[0];i.context.parent=this,this.valueRange=N.copy(i.valueRange);for(var a=i.range.start-i.context.lineStart,c=t,u=s[c=L.normalizeOffset(s,c)],l=L.endOfWhiteSpace(s,o)===c,h=!1;u;){for(;"\n"===u||"#"===u;){if(l&&"\n"===u&&!h){var f=new q;if(c=f.parse({src:s},c),this.valueRange.end=c,c>=s.length){u=null;break}this.items.push(f),c-=1}else if("#"===u){if(c<o+a&&!r.nextContentHasIndent(s,c,a))return c;var d=new $;if(c=d.parse({indent:a,lineStart:o,src:s},c),this.items.push(d),this.valueRange.end=c,c>=s.length){u=null;break}}if(o=c+1,c=L.endOfIndent(s,o),L.atBlank(s,c)){var p=L.endOfWhiteSpace(s,c),m=s[p];m&&"\n"!==m&&"#"!==m||(c=p)}u=s[c],l=!0}if(!u)break;if(c!==o+a&&(l||":"!==u)){if(c<o+a){o>t&&(c=o);break}this.error||(this.error=new B(this,"All collection items must start at the same column"))}if(i.type===A.SEQ_ITEM){if("-"!==u){o>t&&(c=o);break}}else if("-"===u&&!this.error){var y=s[c+1];y&&"\n"!==y&&"\t"!==y&&" "!==y||(this.error=new B(this,"A collection cannot be both a mapping and a sequence"))}var v=n({atLineStart:l,inCollection:!0,indent:a,lineStart:o,parent:this},c);if(!v)return c;if(this.items.push(v),this.valueRange.end=v.valueRange.end,u=s[c=L.normalizeOffset(s,v.range.end)],l=!1,h=v.includesTrailingLines,u){for(var g=c-1,b=s[g];" "===b||"\t"===b;)b=s[--g];"\n"===b&&(o=g+1,l=!0)}var w=F(v);w&&Array.prototype.push.apply(this.items,w)}return c}},{key:"setOrigRanges",value:function(e,t){return t=v(u(r.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(r){t=r.setOrigRanges(e,t)})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,r=this.range,n=this.value;if(null!=n)return n;for(var s=e.slice(r.start,t[0].range.start)+String(t[0]),o=1;o<t.length;++o){var i=t[o],a=i.context,c=a.atLineStart,u=a.indent;if(c)for(var l=0;l<u;++l)s+=" ";s+=String(i)}return L.addStringTerminator(e,r.end,s)}}],[{key:"nextContentHasIndent",value:function(e,t,n){var s=L.endOfLine(e,t)+1,o=e[t=L.endOfWhiteSpace(e,s)];return!!o&&(t>=s+n||("#"===o||"\n"===o)&&r.nextContentHasIndent(e,t,n))}}]),r}(L),z=function(e){c(r,e);var t=y(r);function r(){var e;return s(this,r),(e=t.call(this,A.DIRECTIVE)).name=null,e}return i(r,[{key:"parameters",get:function(){var e=this.rawValue;return e?e.trim().split(/[ \t]+/):[]}},{key:"parseName",value:function(e){for(var t=this.context.src,r=e,n=t[r];n&&"\n"!==n&&"\t"!==n&&" "!==n;)n=t[r+=1];return this.name=t.slice(e,r),r}},{key:"parseParameters",value:function(e){for(var t=this.context.src,r=e,n=t[r];n&&"\n"!==n&&"#"!==n;)n=t[r+=1];return this.valueRange=new N(e,r),r}},{key:"parse",value:function(e,t){this.context=e;var r=this.parseName(t+1);return r=this.parseParameters(r),r=this.parseComment(r),this.range=new N(t,r),r}}]),r}(L),V=function(e){c(r,e);var t=y(r);function r(){var e;return s(this,r),(e=t.call(this,A.DOCUMENT)).directives=null,e.contents=null,e.directivesEndMarker=null,e.documentEndMarker=null,e}return i(r,[{key:"parseDirectives",value:function(e){var t=this.context.src;this.directives=[];for(var n=!0,s=!1,o=e;!L.atDocumentBoundary(t,o,O.DIRECTIVES_END);)switch(t[o=r.startCommentOrEndBlankLine(t,o)]){case"\n":if(n){var i=new q;(o=i.parse({src:t},o))<t.length&&this.directives.push(i)}else o+=1,n=!0;break;case"#":var a=new $;o=a.parse({src:t},o),this.directives.push(a),n=!1;break;case"%":var c=new z;o=c.parse({parent:this,src:t},o),this.directives.push(c),s=!0,n=!1;break;default:return s?this.error=new M(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o}return t[o]?(this.directivesEndMarker=new N(o,o+3),o+3):(s?this.error=new M(this,"Missing directives-end indicator line"):this.directives.length>0&&(this.contents=this.directives,this.directives=[]),o)}},{key:"parseContents",value:function(e){var t=this.context,n=t.parseNode,s=t.src;this.contents||(this.contents=[]);for(var o=e;"-"===s[o-1];)o-=1;var i=L.endOfWhiteSpace(s,e),a=o===e;for(this.valueRange=new N(i);!L.atDocumentBoundary(s,i,O.DOCUMENT_END);){switch(s[i]){case"\n":if(a){var c=new q;(i=c.parse({src:s},i))<s.length&&this.contents.push(c)}else i+=1,a=!0;o=i;break;case"#":var u=new $;i=u.parse({src:s},i),this.contents.push(u),a=!1;break;default:var l=L.endOfIndent(s,i),h=n({atLineStart:a,indent:-1,inFlow:!1,inCollection:!1,lineStart:o,parent:this},l);if(!h)return this.valueRange.end=l;this.contents.push(h),i=h.range.end,a=!1;var f=F(h);f&&Array.prototype.push.apply(this.contents,f)}i=r.startCommentOrEndBlankLine(s,i)}if(this.valueRange.end=i,s[i]&&(this.documentEndMarker=new N(i,i+3),s[i+=3])){if("#"===s[i=L.endOfWhiteSpace(s,i)]){var d=new $;i=d.parse({src:s},i),this.contents.push(d)}switch(s[i]){case"\n":i+=1;break;case void 0:break;default:this.error=new B(this,"Document end marker line cannot have a non-comment suffix")}}return i}},{key:"parse",value:function(e,t){e.root=this,this.context=e;var r=65279===e.src.charCodeAt(t)?t+1:t;return r=this.parseDirectives(r),this.parseContents(r)}},{key:"setOrigRanges",value:function(e,t){return t=v(u(r.prototype),"setOrigRanges",this).call(this,e,t),this.directives.forEach((function(r){t=r.setOrigRanges(e,t)})),this.directivesEndMarker&&(t=this.directivesEndMarker.setOrigRange(e,t)),this.contents.forEach((function(r){t=r.setOrigRanges(e,t)})),this.documentEndMarker&&(t=this.documentEndMarker.setOrigRange(e,t)),t}},{key:"toString",value:function(){var e=this.contents,t=this.directives,r=this.value;if(null!=r)return r;var n=t.join("");return e.length>0&&((t.length>0||e[0].type===A.COMMENT)&&(n+="---\n"),n+=e.join("")),"\n"!==n[n.length-1]&&(n+="\n"),n}}],[{key:"startCommentOrEndBlankLine",value:function(e,t){var r=L.endOfWhiteSpace(e,t),n=e[r];return"#"===n||"\n"===n?r:t}}]),r}(L),G=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"parse",value:function(e,t){this.context=e;var r=e.src,n=L.endOfIdentifier(r,t+1);return this.valueRange=new N(t+1,n),n=L.endOfWhiteSpace(r,n),this.parseComment(n)}}]),r}(L),K="KEEP",J="STRIP",Q=function(e){c(r,e);var t=y(r);function r(e,n){var o;return s(this,r),(o=t.call(this,e,n)).blockIndent=null,o.chomping="CLIP",o.header=null,o}return i(r,[{key:"includesTrailingLines",get:function(){return this.chomping===K}},{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=this.valueRange,t=e.start,r=e.end,n=this.context,s=n.indent,o=n.src;if(this.valueRange.isEmpty())return"";for(var i=null,a=o[r-1];"\n"===a||"\t"===a||" "===a;){if((r-=1)<=t){if(this.chomping===K)break;return""}"\n"===a&&(i=r),a=o[r-1]}var c=r+1;i&&(this.chomping===K?(c=i,r=this.valueRange.end):r=i);for(var u=s+this.blockIndent,l=this.type===A.BLOCK_FOLDED,h=!0,f="",d="",p=!1,m=t;m<r;++m){for(var y=0;y<u&&" "===o[m];++y)m+=1;var v=o[m];if("\n"===v)"\n"===d?f+="\n":d="\n";else{var g=L.endOfLine(o,m),b=o.slice(m,g);m=g,l&&(" "===v||"\t"===v)&&m<c?(" "===d?d="\n":p||h||"\n"!==d||(d="\n\n"),f+=d+b,d=g<r&&o[g]||"",p=!0):(f+=d+b,d=l&&m<c?" ":"\n",p=!1),h&&""!==b&&(h=!1)}}return this.chomping===J?f:f+"\n"}},{key:"parseBlockHeader",value:function(e){for(var t=this.context.src,r=e+1,n="";;){var s=t[r];switch(s){case"-":this.chomping=J;break;case"+":this.chomping=K;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n+=s;break;default:return this.blockIndent=Number(n)||null,this.header=new N(e,r),r}r+=1}}},{key:"parseBlockValue",value:function(e){for(var t=this.context,r=t.indent,n=t.src,s=!!this.blockIndent,o=e,i=e,a=1,c=n[o];"\n"===c&&(o+=1,!L.atDocumentBoundary(n,o));c=n[o]){var u=L.endOfBlockIndent(n,r,o);if(null===u)break;var l=n[u],h=u-(o+r);if(this.blockIndent){if(l&&"\n"!==l&&h<this.blockIndent){if("#"===n[u])break;if(!this.error){var f="Block scalars must not be less indented than their ".concat(s?"explicit indentation indicator":"first line");this.error=new M(this,f)}}}else"\n"!==n[u]?(h<a&&(this.error=new M(this,"Block scalars with more-indented leading empty lines must use an explicit indentation indicator")),this.blockIndent=h):h>a&&(a=h);o="\n"===n[u]?u:i=L.endOfLine(n,u)}return this.chomping!==K&&(o=n[i]?i+1:i),this.valueRange=new N(e+1,o),o}},{key:"parse",value:function(e,t){this.context=e;var r=e.src,n=this.parseBlockHeader(t);return n=L.endOfWhiteSpace(r,n),n=this.parseComment(n),this.parseBlockValue(n)}},{key:"setOrigRanges",value:function(e,t){return t=v(u(r.prototype),"setOrigRanges",this).call(this,e,t),this.header?this.header.setOrigRange(e,t):t}}]),r}(L),Y=function(e){c(r,e);var t=y(r);function r(e,n){var o;return s(this,r),(o=t.call(this,e,n)).items=null,o}return i(r,[{key:"prevNodeIsJsonLike",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.items.length,t=this.items[e-1];return!!t&&(t.jsonLike||t.type===A.COMMENT&&this.prevNodeIsJsonLike(e-1))}},{key:"parse",value:function(e,t){this.context=e;var r=e.parseNode,n=e.src,s=e.indent,o=e.lineStart,i=n[t];this.items=[{char:i,offset:t}];var a=L.endOfWhiteSpace(n,t+1);for(i=n[a];i&&"]"!==i&&"}"!==i;){switch(i){case"\n":if(o=a+1,"\n"===n[L.endOfWhiteSpace(n,o)]){var c=new q;o=c.parse({src:n},o),this.items.push(c)}(a=L.endOfIndent(n,o))<=o+s&&(i=n[a],a<o+s||"]"!==i&&"}"!==i)&&(this.error=new M(this,"Insufficient indentation in flow collection"));break;case",":this.items.push({char:i,offset:a}),a+=1;break;case"#":var u=new $;a=u.parse({src:n},a),this.items.push(u);break;case"?":case":":var l=n[a+1];if("\n"===l||"\t"===l||" "===l||","===l||":"===i&&this.prevNodeIsJsonLike()){this.items.push({char:i,offset:a}),a+=1;break}default:var h=r({atLineStart:!1,inCollection:!1,inFlow:!0,indent:-1,lineStart:o,parent:this},a);if(!h)return this.valueRange=new N(t,a),a;this.items.push(h),a=L.normalizeOffset(n,h.range.end)}i=n[a=L.endOfWhiteSpace(n,a)]}return this.valueRange=new N(t,a+1),i&&(this.items.push({char:i,offset:a}),a=L.endOfWhiteSpace(n,a+1),a=this.parseComment(a)),a}},{key:"setOrigRanges",value:function(e,t){return t=v(u(r.prototype),"setOrigRanges",this).call(this,e,t),this.items.forEach((function(r){if(r instanceof L)t=r.setOrigRanges(e,t);else if(0===e.length)r.origOffset=r.offset;else{for(var n=t;n<e.length&&!(e[n]>r.offset);)++n;r.origOffset=r.offset+n,t=n}})),t}},{key:"toString",value:function(){var e=this.context.src,t=this.items,r=this.range,n=this.value;if(null!=n)return n;var s=t.filter((function(e){return e instanceof L})),o="",i=r.start;return s.forEach((function(t){var r=e.slice(i,t.range.start);i=t.range.end,"\n"===(o+=r+String(t))[o.length-1]&&"\n"!==e[i-1]&&"\n"===e[i]&&(i+=1)})),o+=e.slice(i,r.end),L.addStringTerminator(e,r.end,o)}}]),r}(L),X=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,r=t.start,n=t.end,s=this.context,o=s.indent,i=s.src;'"'!==i[n-1]&&e.push(new B(this,'Missing closing "quote'));for(var a="",c=r+1;c<n-1;++c){var u=i[c];if("\n"===u){L.atDocumentBoundary(i,c+1)&&e.push(new M(this,"Document boundary indicators are not allowed within string values"));var l=L.foldNewline(i,c,o);a+=l.fold,c=l.offset,l.error&&e.push(new M(this,"Multi-line double-quoted string needs to be sufficiently indented"))}else if("\\"===u)switch(i[c+=1]){case"0":a+="\0";break;case"a":a+="";break;case"b":a+="\b";break;case"e":a+="";break;case"f":a+="\f";break;case"n":a+="\n";break;case"r":a+="\r";break;case"t":case"\t":a+="\t";break;case"v":a+="\v";break;case"N":a+="";break;case"_":a+="";break;case"L":a+="\u2028";break;case"P":a+="\u2029";break;case" ":a+=" ";break;case'"':a+='"';break;case"/":a+="/";break;case"\\":a+="\\";break;case"x":a+=this.parseCharCode(c+1,2,e),c+=2;break;case"u":a+=this.parseCharCode(c+1,4,e),c+=4;break;case"U":a+=this.parseCharCode(c+1,8,e),c+=8;break;case"\n":for(;" "===i[c+1]||"\t"===i[c+1];)c+=1;break;default:e.push(new B(this,"Invalid escape sequence ".concat(i.substr(c-1,2)))),a+="\\"+i[c]}else if(" "===u||"\t"===u){for(var h=c,f=i[c+1];" "===f||"\t"===f;)f=i[(c+=1)+1];"\n"!==f&&(a+=c>h?i.slice(h,c+1):u)}else a+=u}return e.length>0?{errors:e,str:a}:a}},{key:"parseCharCode",value:function(e,t,r){var n=this.context.src,s=n.substr(e,t),o=s.length===t&&/^[0-9a-fA-F]+$/.test(s)?parseInt(s,16):NaN;return isNaN(o)?(r.push(new B(this,"Invalid escape sequence ".concat(n.substr(e-2,t+2)))),n.substr(e-2,t+2)):String.fromCodePoint(o)}},{key:"parse",value:function(e,t){this.context=e;var n=e.src,s=r.endOfQuote(n,t+1);return this.valueRange=new N(t,s),s=L.endOfWhiteSpace(n,s),this.parseComment(s)}}],[{key:"endOfQuote",value:function(e,t){for(var r=e[t];r&&'"'!==r;)r=e[t+="\\"===r?2:1];return t+1}}]),r}(L),Z=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"strValue",get:function(){if(!this.valueRange||!this.context)return null;var e=[],t=this.valueRange,r=t.start,n=t.end,s=this.context,o=s.indent,i=s.src;"'"!==i[n-1]&&e.push(new B(this,"Missing closing 'quote"));for(var a="",c=r+1;c<n-1;++c){var u=i[c];if("\n"===u){L.atDocumentBoundary(i,c+1)&&e.push(new M(this,"Document boundary indicators are not allowed within string values"));var l=L.foldNewline(i,c,o);a+=l.fold,c=l.offset,l.error&&e.push(new M(this,"Multi-line single-quoted string needs to be sufficiently indented"))}else if("'"===u)a+=u,"'"!==i[c+=1]&&e.push(new B(this,"Unescaped single quote? This should not happen."));else if(" "===u||"\t"===u){for(var h=c,f=i[c+1];" "===f||"\t"===f;)f=i[(c+=1)+1];"\n"!==f&&(a+=c>h?i.slice(h,c+1):u)}else a+=u}return e.length>0?{errors:e,str:a}:a}},{key:"parse",value:function(e,t){this.context=e;var n=e.src,s=r.endOfQuote(n,t+1);return this.valueRange=new N(t,s),s=L.endOfWhiteSpace(n,s),this.parseComment(s)}}],[{key:"endOfQuote",value:function(e,t){for(var r=e[t];r;)if("'"===r){if("'"!==e[t+1])break;r=e[t+=2]}else r=e[t+=1];return t+1}}]),r}(L),ee=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.atLineStart,i=n.inCollection,c=n.inFlow,u=n.indent,l=n.lineStart,h=n.parent;s(this,e),a(this,"parseNode",(function(r,n){if(L.atDocumentBoundary(t.src,n))return null;var s=new e(t,r),o=s.parseProps(n),i=o.props,a=o.type,c=o.valueStart,u=function(e,t){switch(e){case A.ALIAS:return new G(e,t);case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:return new Q(e,t);case A.FLOW_MAP:case A.FLOW_SEQ:return new Y(e,t);case A.MAP_KEY:case A.MAP_VALUE:case A.SEQ_ITEM:return new H(e,t);case A.COMMENT:case A.PLAIN:return new U(e,t);case A.QUOTE_DOUBLE:return new X(e,t);case A.QUOTE_SINGLE:return new Z(e,t);default:return null}}(a,i),l=u.parse(s,c);if(u.range=new N(n,l),l<=n&&(u.error=new Error("Node#parse consumed no characters"),u.error.parseEnd=l,u.error.source=u,u.range.end=n+1),s.nodeStartsCollection(u)){u.error||s.atLineStart||s.parent.type!==A.DOCUMENT||(u.error=new B(u,"Block collection must not have preceding content here (e.g. directives-end indicator)"));var h=new W(u);return l=h.parse(new e(s),l),h.range=new N(n,l),h}return u})),this.atLineStart=null!=o?o:r.atLineStart||!1,this.inCollection=null!=i?i:r.inCollection||!1,this.inFlow=null!=c?c:r.inFlow||!1,this.indent=null!=u?u:r.indent,this.lineStart=null!=l?l:r.lineStart,this.parent=null!=h?h:r.parent||{},this.root=r.root,this.src=r.src}return i(e,[{key:"nodeStartsCollection",value:function(e){var t=this.inCollection,r=this.inFlow,n=this.src;if(t||r)return!1;if(e instanceof H)return!0;var s=e.range.end;return"\n"!==n[s]&&"\n"!==n[s-1]&&":"===n[s=L.endOfWhiteSpace(n,s)]}},{key:"parseProps",value:function(t){for(var r=this.inFlow,n=this.parent,s=this.src,o=[],i=!1,a=s[t=this.atLineStart?L.endOfIndent(s,t):L.endOfWhiteSpace(s,t)];a===O.ANCHOR||a===O.COMMENT||a===O.TAG||"\n"===a;){if("\n"===a){var c=t,u=void 0;do{u=c+1,c=L.endOfIndent(s,u)}while("\n"===s[c]);var l=c-(u+this.indent),h=n.type===A.SEQ_ITEM&&n.context.atLineStart;if("#"!==s[c]&&!L.nextNodeIsIndented(s[c],l,!h))break;this.atLineStart=!0,this.lineStart=u,i=!1,t=c}else if(a===O.COMMENT){var f=L.endOfLine(s,t+1);o.push(new N(t,f)),t=f}else{var d=L.endOfIdentifier(s,t+1);a===O.TAG&&","===s[d]&&/^[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+,\d\d\d\d(-\d\d){0,2}\/\S/.test(s.slice(t+1,d+13))&&(d=L.endOfIdentifier(s,d+5)),o.push(new N(t,d)),i=!0,t=L.endOfWhiteSpace(s,d)}a=s[t]}return i&&":"===a&&L.atBlank(s,t+1,!0)&&(t-=1),{props:o,type:e.parseType(s,t,r),valueStart:t}}}],[{key:"parseType",value:function(e,t,r){switch(e[t]){case"*":return A.ALIAS;case">":return A.BLOCK_FOLDED;case"|":return A.BLOCK_LITERAL;case"{":return A.FLOW_MAP;case"[":return A.FLOW_SEQ;case"?":return!r&&L.atBlank(e,t+1,!0)?A.MAP_KEY:A.PLAIN;case":":return!r&&L.atBlank(e,t+1,!0)?A.MAP_VALUE:A.PLAIN;case"-":return!r&&L.atBlank(e,t+1,!0)?A.SEQ_ITEM:A.PLAIN;case'"':return A.QUOTE_DOUBLE;case"'":return A.QUOTE_SINGLE;default:return A.PLAIN}}}]),e}();function te(e){var t=[];-1!==e.indexOf("\r")&&(e=e.replace(/\r\n?/g,(function(e,r){return e.length>1&&t.push(r),"\n"})));var r=[],n=0;do{var s=new V,o=new ee({src:e});n=s.parse(o,n),r.push(s)}while(n<e.length);return r.setOrigRanges=function(){if(0===t.length)return!1;for(var e=1;e<t.length;++e)t[e]-=e;for(var n=0,s=0;s<r.length;++s)n=r[s].setOrigRanges(t,n);return t.splice(0,t.length),!0},r.toString=function(){return r.join("...\n")},r}function re(e,t,r){return r?-1===r.indexOf("\n")?"".concat(e," #").concat(r):"".concat(e,"\n")+r.replace(/^/gm,"".concat(t||"","#")):e}var ne=function e(){s(this,e)};function se(e,t,r){if(Array.isArray(e))return e.map((function(e,t){return se(e,String(t),r)}));if(e&&"function"==typeof e.toJSON){var n=r&&r.anchors&&r.anchors.get(e);n&&(r.onCreate=function(e){n.res=e,delete r.onCreate});var s=e.toJSON(t,r);return n&&r.onCreate&&r.onCreate(s),s}return r&&r.keep||"bigint"!=typeof e?e:Number(e)}var oe=function(e){c(r,e);var t=y(r);function r(e){var n;return s(this,r),(n=t.call(this)).value=e,n}return i(r,[{key:"toJSON",value:function(e,t){return t&&t.keep?this.value:se(this.value,e,t)}},{key:"toString",value:function(){return String(this.value)}}]),r}(ne);function ie(e,t,r){for(var n=r,s=t.length-1;s>=0;--s){var o=t[s];if(Number.isInteger(o)&&o>=0){var i=[];i[o]=n,n=i}else{var a={};Object.defineProperty(a,o,{value:n,writable:!0,enumerable:!0,configurable:!0}),n=a}}return e.createNode(n,!1)}var ae=function(e){return null==e||"object"===n(e)&&e[Symbol.iterator]().next().done},ce=function(e){c(r,e);var t=y(r);function r(e){var n;return s(this,r),a(p(n=t.call(this)),"items",[]),n.schema=e,n}return i(r,[{key:"addIn",value:function(e,t){if(ae(e))this.add(t);else{var n=b(e),s=n[0],o=n.slice(1),i=this.get(s,!0);if(i instanceof r)i.addIn(o,t);else{if(void 0!==i||!this.schema)throw new Error("Expected YAML collection at ".concat(s,". Remaining path: ").concat(o));this.set(s,ie(this.schema,o,t))}}}},{key:"deleteIn",value:function(e){var t=b(e),n=t[0],s=t.slice(1);if(0===s.length)return this.delete(n);var o=this.get(n,!0);if(o instanceof r)return o.deleteIn(s);throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(s))}},{key:"getIn",value:function(e,t){var n=b(e),s=n[0],o=n.slice(1),i=this.get(s,!0);return 0===o.length?!t&&i instanceof oe?i.value:i:i instanceof r?i.getIn(o,t):void 0}},{key:"hasAllNullValues",value:function(){return this.items.every((function(e){if(!e||"PAIR"!==e.type)return!1;var t=e.value;return null==t||t instanceof oe&&null==t.value&&!t.commentBefore&&!t.comment&&!t.tag}))}},{key:"hasIn",value:function(e){var t=b(e),n=t[0],s=t.slice(1);if(0===s.length)return this.has(n);var o=this.get(n,!0);return o instanceof r&&o.hasIn(s)}},{key:"setIn",value:function(e,t){var n=b(e),s=n[0],o=n.slice(1);if(0===o.length)this.set(s,t);else{var i=this.get(s,!0);if(i instanceof r)i.setIn(o,t);else{if(void 0!==i||!this.schema)throw new Error("Expected YAML collection at ".concat(s,". Remaining path: ").concat(o));this.set(s,ie(this.schema,o,t))}}}},{key:"toJSON",value:function(){return null}},{key:"toString",value:function(e,t,n,s){var o=this,i=t.blockItem,a=t.flowChars,c=t.isMap,u=t.itemIndent,l=e,h=l.indent,f=l.indentStep,d=l.stringify,p=this.type===A.FLOW_MAP||this.type===A.FLOW_SEQ||e.inFlow;p&&(u+=f);var m=c&&this.hasAllNullValues();e=Object.assign({},e,{allNullValues:m,indent:u,inFlow:p,type:null});var y,v=!1,g=!1,b=this.items.reduce((function(t,r,n){var s;r&&(!v&&r.spaceBefore&&t.push({type:"comment",str:""}),r.commentBefore&&r.commentBefore.match(/^.*$/gm).forEach((function(e){t.push({type:"comment",str:"#".concat(e)})})),r.comment&&(s=r.comment),p&&(!v&&r.spaceBefore||r.commentBefore||r.comment||r.key&&(r.key.commentBefore||r.key.comment)||r.value&&(r.value.commentBefore||r.value.comment))&&(g=!0)),v=!1;var i=d(r,e,(function(){return s=null}),(function(){return v=!0}));return p&&!g&&i.includes("\n")&&(g=!0),p&&n<o.items.length-1&&(i+=","),i=re(i,u,s),v&&(s||p)&&(v=!1),t.push({type:"item",str:i}),t}),[]);if(0===b.length)y=a.start+a.end;else if(p){var w=a.start,_=a.end,E=b.map((function(e){return e.str}));if(g||E.reduce((function(e,t){return e+t.length+2}),2)>r.maxFlowStringSingleLineLength){y=w;var k,O=S(E);try{for(O.s();!(k=O.n()).done;){var x=k.value;y+=x?"\n".concat(f).concat(h).concat(x):"\n"}}catch(e){O.e(e)}finally{O.f()}y+="\n".concat(h).concat(_)}else y="".concat(w," ").concat(E.join(" ")," ").concat(_)}else{var T=b.map(i);y=T.shift();var P,C=S(T);try{for(C.s();!(P=C.n()).done;){var R=P.value;y+=R?"\n".concat(h).concat(R):"\n"}}catch(e){C.e(e)}finally{C.f()}}return this.comment?(y+="\n"+this.comment.replace(/^/gm,"".concat(h,"#")),n&&n()):v&&s&&s(),y}}]),r}(ne);function ue(e){var t=e instanceof oe?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),Number.isInteger(t)&&t>=0?t:null}a(ce,"maxFlowStringSingleLineLength",60);var le=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"add",value:function(e){this.items.push(e)}},{key:"delete",value:function(e){var t=ue(e);return"number"==typeof t&&this.items.splice(t,1).length>0}},{key:"get",value:function(e,t){var r=ue(e);if("number"==typeof r){var n=this.items[r];return!t&&n instanceof oe?n.value:n}}},{key:"has",value:function(e){var t=ue(e);return"number"==typeof t&&t<this.items.length}},{key:"set",value:function(e,t){var r=ue(e);if("number"!=typeof r)throw new Error("Expected a valid index, not ".concat(e,"."));this.items[r]=t}},{key:"toJSON",value:function(e,t){var r=[];t&&t.onCreate&&t.onCreate(r);var n,s=0,o=S(this.items);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push(se(i,String(s++),t))}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"toString",value:function(e,t,n){return e?v(u(r.prototype),"toString",this).call(this,e,{blockItem:function(e){return"comment"===e.type?e.str:"- ".concat(e.str)},flowChars:{start:"[",end:"]"},isMap:!1,itemIndent:(e.indent||"")+"  "},t,n):JSON.stringify(this)}}]),r}(ce),he=function(e){c(r,e);var t=y(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return s(this,r),(n=t.call(this)).key=e,n.value=o,n.type=r.Type.PAIR,n}return i(r,[{key:"commentBefore",get:function(){return this.key instanceof ne?this.key.commentBefore:void 0},set:function(e){if(null==this.key&&(this.key=new oe(null)),!(this.key instanceof ne))throw new Error("Pair.commentBefore is an alias for Pair.key.commentBefore. To set it, the key must be a Node.");this.key.commentBefore=e}},{key:"addToJSMap",value:function(e,t){var r=se(this.key,"",e);if(t instanceof Map){var s=se(this.value,r,e);t.set(r,s)}else if(t instanceof Set)t.add(r);else{var o=function(e,t,r){return null===t?"":"object"!==n(t)?String(t):e instanceof ne&&r&&r.doc?e.toString({anchors:Object.create(null),doc:r.doc,indent:"",indentStep:r.indentStep,inFlow:!0,inStringifyKey:!0,stringify:r.stringify}):JSON.stringify(t)}(this.key,r,e),i=se(this.value,o,e);o in t?Object.defineProperty(t,o,{value:i,writable:!0,enumerable:!0,configurable:!0}):t[o]=i}return t}},{key:"toJSON",value:function(e,t){var r=t&&t.mapAsMap?new Map:{};return this.addToJSMap(t,r)}},{key:"toString",value:function(e,t,r){if(!e||!e.doc)return JSON.stringify(this);var s=e.doc.options,o=s.indent,i=s.indentSeq,a=s.simpleKeys,c=this.key,u=this.value,l=c instanceof ne&&c.comment;if(a){if(l)throw new Error("With simple keys, key nodes cannot have comments");if(c instanceof ce)throw new Error("With simple keys, collection cannot be used as a key value")}var h=!a&&(!c||l||(c instanceof ne?c instanceof ce||c.type===A.BLOCK_FOLDED||c.type===A.BLOCK_LITERAL:"object"===n(c))),f=e,d=f.doc,p=f.indent,m=f.indentStep,y=f.stringify;e=Object.assign({},e,{implicitKey:!h,indent:p+m});var v=!1,g=y(c,e,(function(){return l=null}),(function(){return v=!0}));if(g=re(g,e.indent,l),!h&&g.length>1024){if(a)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");h=!0}if(e.allNullValues&&!a)return this.comment?(g=re(g,e.indent,this.comment),t&&t()):v&&!l&&r&&r(),e.inFlow&&!h?g:"? ".concat(g);g=h?"? ".concat(g,"\n").concat(p,":"):"".concat(g,":"),this.comment&&(g=re(g,e.indent,this.comment),t&&t());var b="",w=null;if(u instanceof ne){if(u.spaceBefore&&(b="\n"),u.commentBefore){var _=u.commentBefore.replace(/^/gm,"".concat(e.indent,"#"));b+="\n".concat(_)}w=u.comment}else u&&"object"===n(u)&&(u=d.schema.createNode(u,!0));e.implicitKey=!1,!h&&!this.comment&&u instanceof oe&&(e.indentAtStart=g.length+1),v=!1,!i&&o>=2&&!e.inFlow&&!h&&u instanceof le&&u.type!==A.FLOW_SEQ&&!u.tag&&!d.anchors.getName(u)&&(e.indent=e.indent.substr(2));var E=y(u,e,(function(){return w=null}),(function(){return v=!0})),k=" ";return b||this.comment?k="".concat(b,"\n").concat(e.indent):!h&&u instanceof ce?("["===E[0]||"{"===E[0])&&!E.includes("\n")||(k="\n".concat(e.indent)):"\n"===E[0]&&(k=""),v&&!w&&r&&r(),re(g+k+E,e.indent,w)}}]),r}(ne);a(he,"Type",{PAIR:"PAIR",MERGE_PAIR:"MERGE_PAIR"});var fe=function e(t,r){if(t instanceof de){var n=r.get(t.source);return n.count*n.aliasCount}if(t instanceof ce){var s,o=0,i=S(t.items);try{for(i.s();!(s=i.n()).done;){var a=e(s.value,r);a>o&&(o=a)}}catch(e){i.e(e)}finally{i.f()}return o}if(t instanceof he){var c=e(t.key,r),u=e(t.value,r);return Math.max(c,u)}return 1},de=function(e){c(r,e);var t=y(r);function r(e){var n;return s(this,r),(n=t.call(this)).source=e,n.type=A.ALIAS,n}return i(r,[{key:"tag",set:function(e){throw new Error("Alias nodes cannot have tags")}},{key:"toJSON",value:function(e,t){if(!t)return se(this.source,e,t);var r=t.anchors,n=t.maxAliasCount,s=r.get(this.source);if(!s||void 0===s.res){var o="This should not happen: Alias anchor was not resolved?";throw this.cstNode?new j(this.cstNode,o):new ReferenceError(o)}if(n>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=fe(this.source,r)),s.count*s.aliasCount>n)){var i="Excessive alias count indicates a resource exhaustion attack";throw this.cstNode?new j(this.cstNode,i):new ReferenceError(i)}return s.res}},{key:"toString",value:function(e){return r.stringify(this,e)}}],[{key:"stringify",value:function(e,t){var r=e.range,n=e.source,s=t.anchors,o=t.doc,i=t.implicitKey,a=t.inStringifyKey,c=Object.keys(s).find((function(e){return s[e]===n}));if(!c&&a&&(c=o.anchors.getName(n)||o.anchors.newName()),c)return"*".concat(c).concat(i?" ":"");var u=o.anchors.getName(n)?"Alias node must be after source node":"Source node not found for alias node";throw new Error("".concat(u," [").concat(r,"]"))}}]),r}(ne);function pe(e,t){var r,n=t instanceof oe?t.value:t,s=S(e);try{for(s.s();!(r=s.n()).done;){var o=r.value;if(o instanceof he){if(o.key===t||o.key===n)return o;if(o.key&&o.key.value===n)return o}}}catch(e){s.e(e)}finally{s.f()}}a(de,"default",!0);var me=function(e){c(r,e);var t=y(r);function r(){return s(this,r),t.apply(this,arguments)}return i(r,[{key:"add",value:function(e,t){e?e instanceof he||(e=new he(e.key||e,e.value)):e=new he(e);var r=pe(this.items,e.key),n=this.schema&&this.schema.sortMapEntries;if(r){if(!t)throw new Error("Key ".concat(e.key," already set"));r.value=e.value}else if(n){var s=this.items.findIndex((function(t){return n(e,t)<0}));-1===s?this.items.push(e):this.items.splice(s,0,e)}else this.items.push(e)}},{key:"delete",value:function(e){var t=pe(this.items,e);return!!t&&this.items.splice(this.items.indexOf(t),1).length>0}},{key:"get",value:function(e,t){var r=pe(this.items,e),n=r&&r.value;return!t&&n instanceof oe?n.value:n}},{key:"has",value:function(e){return!!pe(this.items,e)}},{key:"set",value:function(e,t){this.add(new he(e,t),!0)}},{key:"toJSON",value:function(e,t,r){var n=r?new r:t&&t.mapAsMap?new Map:{};t&&t.onCreate&&t.onCreate(n);var s,o=S(this.items);try{for(o.s();!(s=o.n()).done;)s.value.addToJSMap(t,n)}catch(e){o.e(e)}finally{o.f()}return n}},{key:"toString",value:function(e,t,n){if(!e)return JSON.stringify(this);var s,o=S(this.items);try{for(o.s();!(s=o.n()).done;){var i=s.value;if(!(i instanceof he))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(i)," instead"))}}catch(e){o.e(e)}finally{o.f()}return v(u(r.prototype),"toString",this).call(this,e,{blockItem:function(e){return e.str},flowChars:{start:"{",end:"}"},isMap:!0,itemIndent:e.indent||""},t,n)}}]),r}(ce),ye=function(e){c(r,e);var t=y(r);function r(e){var n;if(s(this,r),e instanceof he){var o=e.value;o instanceof le||((o=new le).items.push(e.value),o.range=e.value.range),(n=t.call(this,e.key,o)).range=e.range}else n=t.call(this,new oe("<<"),new le);return n.type=he.Type.MERGE_PAIR,m(n)}return i(r,[{key:"addToJSMap",value:function(e,t){var r,n=S(this.value.items);try{for(n.s();!(r=n.n()).done;){var s=r.value.source;if(!(s instanceof me))throw new Error("Merge sources must be maps");var o,i=S(s.toJSON(null,e,Map));try{for(i.s();!(o=i.n()).done;){var a=g(o.value,2),c=a[0],u=a[1];t instanceof Map?t.has(c)||t.set(c,u):t instanceof Set?t.add(c):Object.prototype.hasOwnProperty.call(t,c)||Object.defineProperty(t,c,{value:u,writable:!0,enumerable:!0,configurable:!0})}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"toString",value:function(e,t){var n=this.value;if(n.items.length>1)return v(u(r.prototype),"toString",this).call(this,e,t);this.value=n.items[0];var s=v(u(r.prototype),"toString",this).call(this,e,t);return this.value=n,s}}]),r}(he),ve={defaultType:A.BLOCK_LITERAL,lineWidth:76},ge={trueStr:"true",falseStr:"false"},be={asBigInt:!1},we={nullStr:"null"},_e={defaultType:A.PLAIN,doubleQuoted:{jsonEncoding:!1,minMultiLineLength:40},fold:{lineWidth:80,minContentWidth:20}};function Ee(e,t,r){var n,s=S(t);try{for(s.s();!(n=s.n()).done;){var o=n.value,i=o.format,a=o.test,c=o.resolve;if(a){var u=e.match(a);if(u){var l=c.apply(null,u);return l instanceof oe||(l=new oe(l)),i&&(l.format=i),l}}}}catch(e){s.e(e)}finally{s.f()}return r&&(e=r(e)),new oe(e)}var ke="flow",Se="block",Oe="quoted",Ae=function(e,t){for(var r=e[t+1];" "===r||"\t"===r;){do{r=e[t+=1]}while(r&&"\n"!==r);r=e[t+1]}return t};function xe(e,t,r,n){var s=n.indentAtStart,o=n.lineWidth,i=void 0===o?80:o,a=n.minContentWidth,c=void 0===a?20:a,u=n.onFold,l=n.onOverflow;if(!i||i<0)return e;var h=Math.max(1+c,1+i-t.length);if(e.length<=h)return e;var f=[],d={},p=i-t.length;"number"==typeof s&&(s>i-Math.max(2,c)?f.push(0):p=i-s);var m,y=void 0,v=void 0,g=!1,b=-1,w=-1,_=-1;for(r===Se&&-1!==(b=Ae(e,b))&&(p=b+h);m=e[b+=1];){if(r===Oe&&"\\"===m){switch(w=b,e[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1}_=b}if("\n"===m)r===Se&&(b=Ae(e,b)),p=b+h,y=void 0;else{if(" "===m&&v&&" "!==v&&"\n"!==v&&"\t"!==v){var E=e[b+1];E&&" "!==E&&"\n"!==E&&"\t"!==E&&(y=b)}if(b>=p)if(y)f.push(y),p=y+h,y=void 0;else if(r===Oe){for(;" "===v||"\t"===v;)v=m,m=e[b+=1],g=!0;var k=b>_+1?b-2:w-1;if(d[k])return e;f.push(k),d[k]=!0,p=k+h,y=void 0}else g=!0}v=m}if(g&&l&&l(),0===f.length)return e;u&&u();for(var S=e.slice(0,f[0]),O=0;O<f.length;++O){var A=f[O],x=f[O+1]||e.length;0===A?S="\n".concat(t).concat(e.slice(0,x)):(r===Oe&&d[A]&&(S+="".concat(e[A],"\\")),S+="\n".concat(t).concat(e.slice(A+1,x)))}return S}var Te=function(e){var t=e.indentAtStart;return t?Object.assign({indentAtStart:t},_e.fold):_e.fold},Pe=function(e){return/^(%|---|\.\.\.)/m.test(e)};function Ce(e,t){var r=t.implicitKey,n=_e.doubleQuoted,s=n.jsonEncoding,o=n.minMultiLineLength,i=JSON.stringify(e);if(s)return i;for(var a=t.indent||(Pe(e)?"  ":""),c="",u=0,l=0,h=i[l];h;h=i[++l])if(" "===h&&"\\"===i[l+1]&&"n"===i[l+2]&&(c+=i.slice(u,l)+"\\ ",u=l+=1,h="\\"),"\\"===h)switch(i[l+1]){case"u":c+=i.slice(u,l);var f=i.substr(l+2,4);switch(f){case"0000":c+="\\0";break;case"0007":c+="\\a";break;case"000b":c+="\\v";break;case"001b":c+="\\e";break;case"0085":c+="\\N";break;case"00a0":c+="\\_";break;case"2028":c+="\\L";break;case"2029":c+="\\P";break;default:"00"===f.substr(0,2)?c+="\\x"+f.substr(2):c+=i.substr(l,6)}u=(l+=5)+1;break;case"n":if(r||'"'===i[l+2]||i.length<o)l+=1;else{for(c+=i.slice(u,l)+"\n\n";"\\"===i[l+2]&&"n"===i[l+3]&&'"'!==i[l+4];)c+="\n",l+=2;c+=a," "===i[l+2]&&(c+="\\"),u=(l+=1)+1}break;default:l+=1}return c=u?c+i.slice(u):i,r?c:xe(c,a,Oe,Te(t))}function Re(e,t){if(t.implicitKey){if(/\n/.test(e))return Ce(e,t)}else if(/[ \t]\n|\n[ \t]/.test(e))return Ce(e,t);var r=t.indent||(Pe(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(r))+"'";return t.implicitKey?n:xe(n,r,ke,Te(t))}function Ne(e,t,r,n){var s=e.comment,o=e.type,i=e.value;if(/\n[\t ]+$/.test(i)||/^\s*$/.test(i))return Ce(i,t);var a=t.indent||(t.forceBlockIndent||Pe(i)?"  ":""),c=a?"2":"1",u=o!==A.BLOCK_FOLDED&&(o===A.BLOCK_LITERAL||!function(e,t,r){if(!t||t<0)return!1;var n=t-r,s=e.length;if(s<=n)return!1;for(var o=0,i=0;o<s;++o)if("\n"===e[o]){if(o-i>n)return!0;if(s-(i=o+1)<=n)return!1}return!0}(i,_e.fold.lineWidth,a.length)),l=u?"|":">";if(!i)return l+"\n";var h="",f="";if(i=i.replace(/[\n\t ]*$/,(function(e){var t=e.indexOf("\n");return-1===t?l+="-":i!==e&&t===e.length-1||(l+="+",n&&n()),f=e.replace(/\n$/,""),""})).replace(/^[\n ]*/,(function(e){-1!==e.indexOf(" ")&&(l+=c);var t=e.match(/ +$/);return t?(h=e.slice(0,-t[0].length),t[0]):(h=e,"")})),f&&(f=f.replace(/\n+(?!\n|$)/g,"$&".concat(a))),h&&(h=h.replace(/\n+/g,"$&".concat(a))),s&&(l+=" #"+s.replace(/ ?[\r\n]+/g," "),r&&r()),!i)return"".concat(l).concat(c,"\n").concat(a).concat(f);if(u)return i=i.replace(/\n+/g,"$&".concat(a)),"".concat(l,"\n").concat(a).concat(h).concat(i).concat(f);i=i.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(a));var d=xe("".concat(h).concat(i).concat(f),a,Se,_e.fold);return"".concat(l,"\n").concat(a).concat(d)}function Le(e,t,r,n){var s=_e.defaultType,o=t.implicitKey,i=t.inFlow,a=e,c=a.type,u=a.value;"string"!=typeof u&&(u=String(u),e=Object.assign({},e,{value:u}));var l=function(s){switch(s){case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:return Ne(e,t,r,n);case A.QUOTE_DOUBLE:return Ce(u,t);case A.QUOTE_SINGLE:return Re(u,t);case A.PLAIN:return function(e,t,r,n){var s=e.comment,o=e.type,i=e.value,a=t.actualString,c=t.implicitKey,u=t.indent,l=t.inFlow;if(c&&/[\n[\]{},]/.test(i)||l&&/[[\]{},]/.test(i))return Ce(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return c||l||-1===i.indexOf("\n")?-1!==i.indexOf('"')&&-1===i.indexOf("'")?Re(i,t):Ce(i,t):Ne(e,t,r,n);if(!c&&!l&&o!==A.PLAIN&&-1!==i.indexOf("\n"))return Ne(e,t,r,n);if(""===u&&Pe(i))return t.forceBlockIndent=!0,Ne(e,t,r,n);var h=i.replace(/\n+/g,"$&\n".concat(u));if(a){var f=t.doc.schema.tags;if("string"!=typeof Ee(h,f,f.scalarFallback).value)return Ce(i,t)}var d=c?h:xe(h,u,ke,Te(t));return!s||l||-1===d.indexOf("\n")&&-1===s.indexOf("\n")?d:(r&&r(),function(e,t,r){if(!r)return e;var n=r.replace(/[\s\S]^/gm,"$&".concat(t,"#"));return"#".concat(n,"\n").concat(t).concat(e)}(d,u,s))}(e,t,r,n);default:return null}};c!==A.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f]/.test(u)?c=A.QUOTE_DOUBLE:!o&&!i||c!==A.BLOCK_FOLDED&&c!==A.BLOCK_LITERAL||(c=A.QUOTE_DOUBLE);var h=l(c);if(null===h&&null===(h=l(s)))throw new Error("Unsupported default string type ".concat(s));return h}function Ie(e){var t=e.format,r=e.minFractionDigits,n=e.tag,s=e.value;if("bigint"==typeof s)return String(s);if(!isFinite(s))return isNaN(s)?".nan":s<0?"-.inf":".inf";var o=JSON.stringify(s);if(!t&&r&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(o)){var i=o.indexOf(".");i<0&&(i=o.length,o+=".");for(var a=r-(o.length-i-1);a-- >0;)o+="0"}return o}function je(e,t){var r,n,s;switch(t.type){case A.FLOW_MAP:r="}",n="flow map";break;case A.FLOW_SEQ:r="]",n="flow sequence";break;default:return void e.push(new M(t,"Not a flow collection!?"))}for(var o=t.items.length-1;o>=0;--o){var i=t.items[o];if(!i||i.type!==A.COMMENT){s=i;break}}if(s&&s.char!==r){var a,c="Expected ".concat(n," to end with ").concat(r);"number"==typeof s.offset?(a=new M(t,c)).offset=s.offset+1:(a=new M(s,c),s.range&&s.range.end&&(a.offset=s.range.end-s.range.start)),e.push(a)}}function Me(e,t){var r=t.context.src[t.range.start-1];"\n"!==r&&"\t"!==r&&" "!==r&&e.push(new M(t,"Comments must be separated from other tokens by white space characters"))}function Be(e,t){var r=String(t),n=r.substr(0,8)+"..."+r.substr(-8);return new M(e,'The "'.concat(n,'" key is too long'))}function De(e,t){var r,n=S(t);try{for(n.s();!(r=n.n()).done;){var s=r.value,o=s.afterKey,i=s.before,a=s.comment,c=e.items[i];c?(o&&c.value&&(c=c.value),void 0===a?!o&&c.commentBefore||(c.spaceBefore=!0):c.commentBefore?c.commentBefore+="\n"+a:c.commentBefore=a):void 0!==a&&(e.comment?e.comment+="\n"+a:e.comment=a)}}catch(e){n.e(e)}finally{n.f()}}function Ue(e,t){var r=t.strValue;return r?"string"==typeof r?r:(r.errors.forEach((function(r){r.source||(r.source=t),e.errors.push(r)})),r.str):""}function qe(e,t,r){var n,s=e.schema.tags,o=[],i=S(s);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.tag===r){if(!a.test){var c=a.resolve(e,t);return c instanceof ce?c:new oe(c)}o.push(a)}}}catch(e){i.e(e)}finally{i.f()}var u=Ue(e,t);return"string"==typeof u&&o.length>0?Ee(u,o,s.scalarFallback):null}var He=function(e){if(!e)return!1;var t=e.type;return t===A.MAP_KEY||t===A.MAP_VALUE||t===A.SEQ_ITEM};function $e(e,t){if(!t)return null;t.error&&e.errors.push(t.error);var r=function(e,t){var r,n={before:[],after:[]},s=!1,o=!1,i=S(He(t.context.parent)?t.context.parent.props.concat(t.props):t.props);try{for(i.s();!(r=i.n()).done;){var a=r.value,c=a.start,u=a.end;switch(t.context.src[c]){case O.COMMENT:t.commentHasRequiredWhitespace(c)||e.push(new M(t,"Comments must be separated from other tokens by white space characters"));var l=t.header,h=t.valueRange;(h&&(c>h.start||l&&c>l.start)?n.after:n.before).push(t.context.src.slice(c+1,u));break;case O.ANCHOR:s&&e.push(new M(t,"A node can have at most one anchor")),s=!0;break;case O.TAG:o&&e.push(new M(t,"A node can have at most one tag")),o=!0}}}catch(e){i.e(e)}finally{i.f()}return{comments:n,hasAnchor:s,hasTag:o}}(e.errors,t),n=r.comments,s=r.hasAnchor,o=r.hasTag;if(s){var i=e.anchors,a=t.anchor,c=i.getNode(a);c&&(i.map[i.newName(a)]=c),i.map[a]=t}t.type===A.ALIAS&&(s||o)&&e.errors.push(new M(t,"An alias node must not specify any properties"));var u=function(e,t){var r=e.anchors,n=e.errors,s=e.schema;if(t.type===A.ALIAS){var o=t.rawValue,i=r.getNode(o);if(!i){var a="Aliased anchor not found: ".concat(o);return n.push(new j(t,a)),null}var c=new de(i);return r._cstAliases.push(c),c}var u=function(e,t){var r=t.tag,n=t.type,s=!1;if(r){var o=r.handle,i=r.suffix,a=r.verbatim;if(a){if("!"!==a&&"!!"!==a)return a;var c="Verbatim tags aren't resolved, so ".concat(a," is invalid.");e.errors.push(new M(t,c))}else if("!"!==o||i)try{return function(e,t){var r=t.tag,n=r.handle,s=r.suffix,o=e.tagPrefixes.find((function(e){return e.handle===n}));if(!o){var i=e.getDefaults().tagPrefixes;if(i&&(o=i.find((function(e){return e.handle===n}))),!o)throw new M(t,"The ".concat(n," tag handle is non-default and was not declared."))}if(!s)throw new M(t,"The ".concat(n," tag has no suffix."));if("!"===n&&"1.0"===(e.version||e.options.version)){if("^"===s[0])return e.warnings.push(new D(t,"YAML 1.0 ^ tag expansion is not supported")),s;if(/[:/]/.test(s)){var a=s.match(/^([a-z0-9-]+)\/(.*)/i);return a?"tag:".concat(a[1],".yaml.org,2002:").concat(a[2]):"tag:".concat(s)}}return o.prefix+decodeURIComponent(s)}(e,t)}catch(t){e.errors.push(t)}else s=!0}switch(n){case A.BLOCK_FOLDED:case A.BLOCK_LITERAL:case A.QUOTE_DOUBLE:case A.QUOTE_SINGLE:return T.STR;case A.FLOW_MAP:case A.MAP:return T.MAP;case A.FLOW_SEQ:case A.SEQ:return T.SEQ;case A.PLAIN:return s?T.STR:null;default:return null}}(e,t);if(u)return function(e,t,r){try{var n=qe(e,t,r);if(n)return r&&t.tag&&(n.tag=r),n}catch(r){return r.source||(r.source=t),e.errors.push(r),null}try{var s=function(e){switch(e.type){case A.FLOW_MAP:case A.MAP:return T.MAP;case A.FLOW_SEQ:case A.SEQ:return T.SEQ;default:return T.STR}}(t);if(!s)throw new Error("The tag ".concat(r," is unavailable"));var o="The tag ".concat(r," is unavailable, falling back to ").concat(s);e.warnings.push(new D(t,o));var i=qe(e,t,s);return i.tag=r,i}catch(r){var a=new j(t,r.message);return a.stack=r.stack,e.errors.push(a),null}}(e,t,u);if(t.type!==A.PLAIN){var l="Failed to resolve ".concat(t.type," node here");return n.push(new B(t,l)),null}try{return Ee(Ue(e,t),s.tags,s.tags.scalarFallback)}catch(e){return e.source||(e.source=t),n.push(e),null}}(e,t);if(u){u.range=[t.range.start,t.range.end],e.options.keepCstNodes&&(u.cstNode=t),e.options.keepNodeTypes&&(u.type=t.type);var l=n.before.join("\n");l&&(u.commentBefore=u.commentBefore?"".concat(u.commentBefore,"\n").concat(l):l);var h=n.after.join("\n");h&&(u.comment=u.comment?"".concat(u.comment,"\n").concat(h):h)}return t.resolved=u}function Fe(e,t){if(t.type!==A.MAP&&t.type!==A.FLOW_MAP){var r="A ".concat(t.type," node cannot be resolved as a mapping");return e.errors.push(new B(t,r)),null}var n=t.type===A.FLOW_MAP?function(e,t){for(var r=[],n=[],s=void 0,o=!1,i="{",a=0;a<t.items.length;++a){var c=t.items[a];if("string"==typeof c.char){var u=c.char,l=c.offset;if("?"===u&&void 0===s&&!o){o=!0,i=":";continue}if(":"===u){if(void 0===s&&(s=null),":"===i){i=",";continue}}else if(o&&(void 0===s&&","!==u&&(s=null),o=!1),void 0!==s&&(n.push(new he(s)),s=void 0,","===u)){i=":";continue}if("}"===u){if(a===t.items.length-1)continue}else if(u===i){i=":";continue}var h="Flow map contains an unexpected ".concat(u),f=new B(t,h);f.offset=l,e.errors.push(f)}else c.type===A.BLANK_LINE?r.push({afterKey:!!s,before:n.length}):c.type===A.COMMENT?(Me(e.errors,c),r.push({afterKey:!!s,before:n.length,comment:c.comment})):void 0===s?(","===i&&e.errors.push(new M(c,"Separator , missing in flow map")),s=$e(e,c)):(","!==i&&e.errors.push(new M(c,"Indicator : missing in flow map entry")),n.push(new he(s,$e(e,c))),s=void 0,o=!1)}return je(e.errors,t),void 0!==s&&n.push(new he(s)),{comments:r,items:n}}(e,t):function(e,t){for(var r=[],n=[],s=void 0,o=null,i=0;i<t.items.length;++i){var a=t.items[i];switch(a.type){case A.BLANK_LINE:r.push({afterKey:!!s,before:n.length});break;case A.COMMENT:r.push({afterKey:!!s,before:n.length,comment:a.comment});break;case A.MAP_KEY:void 0!==s&&n.push(new he(s)),a.error&&e.errors.push(a.error),s=$e(e,a.node),o=null;break;case A.MAP_VALUE:if(void 0===s&&(s=null),a.error&&e.errors.push(a.error),!a.context.atLineStart&&a.node&&a.node.type===A.MAP&&!a.node.context.atLineStart){e.errors.push(new M(a.node,"Nested mappings are not allowed in compact mappings"))}var c=a.node;if(!c&&a.props.length>0){(c=new U(A.PLAIN,[])).context={parent:a,src:a.context.src};var u=a.range.start+1;if(c.range={start:u,end:u},c.valueRange={start:u,end:u},"number"==typeof a.range.origStart){var l=a.range.origStart+1;c.range.origStart=c.range.origEnd=l,c.valueRange.origStart=c.valueRange.origEnd=l}}var h=new he(s,$e(e,c));ze(a,h),n.push(h),s&&"number"==typeof o&&a.range.start>o+1024&&e.errors.push(Be(t,s)),s=void 0,o=null;break;default:void 0!==s&&n.push(new he(s)),s=$e(e,a),o=a.range.start,a.error&&e.errors.push(a.error);e:for(var f=i+1;;++f){var d=t.items[f];switch(d&&d.type){case A.BLANK_LINE:case A.COMMENT:continue e;case A.MAP_VALUE:break e;default:e.errors.push(new M(a,"Implicit map keys need to be followed by map values"));break e}}if(a.valueRangeContainsNewline){e.errors.push(new M(a,"Implicit map keys need to be on a single line"))}}}return void 0!==s&&n.push(new he(s)),{comments:r,items:n}}(e,t),s=n.comments,o=n.items,i=new me;i.items=o,De(i,s);for(var a=!1,c=0;c<o.length;++c){var u=o[c].key;if(u instanceof ce&&(a=!0),e.schema.merge&&u&&"<<"===u.value){o[c]=new ye(o[c]);var l=o[c].value.items,h=null;l.some((function(e){if(e instanceof de){var t=e.source.type;return t!==A.MAP&&t!==A.FLOW_MAP&&(h="Merge nodes aliases can only point to maps")}return h="Merge nodes can only have Alias nodes as values"})),h&&e.errors.push(new M(t,h))}else for(var f=c+1;f<o.length;++f){var d=o[f].key;if(u===d||u&&d&&Object.prototype.hasOwnProperty.call(u,"value")&&u.value===d.value){var p='Map keys must be unique; "'.concat(u,'" is repeated');e.errors.push(new M(t,p));break}}}return a&&!e.options.mapAsMap&&e.warnings.push(new D(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.")),t.resolved=i,i}var We=function(e){var t=e.context,r=t.lineStart,n=t.node,s=t.src,o=e.props;if(0===o.length)return!1;var i=o[0].start;if(n&&i>n.valueRange.start)return!1;if(s[i]!==O.COMMENT)return!1;for(var a=r;a<i;++a)if("\n"===s[a])return!1;return!0};function ze(e,t){if(We(e)){var r=e.getPropValue(0,O.COMMENT,!0),n=!1,s=t.value.commentBefore;if(s&&s.startsWith(r))t.value.commentBefore=s.substr(r.length+1),n=!0;else{var o=t.value.comment;!e.node&&o&&o.startsWith(r)&&(t.value.comment=o.substr(r.length+1),n=!0)}n&&(t.comment=r)}}function Ve(e,t){if(t.type!==A.SEQ&&t.type!==A.FLOW_SEQ){var r="A ".concat(t.type," node cannot be resolved as a sequence");return e.errors.push(new B(t,r)),null}var n=t.type===A.FLOW_SEQ?function(e,t){for(var r=[],n=[],s=!1,o=void 0,i=null,a="[",c=null,u=0;u<t.items.length;++u){var l=t.items[u];if("string"==typeof l.char){var h=l.char,f=l.offset;if(":"===h||!s&&void 0===o||(s&&void 0===o&&(o=a?n.pop():null),n.push(new he(o)),s=!1,o=void 0,i=null),h===a)a=null;else if(a||"?"!==h){if("["!==a&&":"===h&&void 0===o){if(","===a){if((o=n.pop())instanceof he){var d=new M(t,"Chaining flow sequence pairs is invalid");d.offset=f,e.errors.push(d)}if(!s&&"number"==typeof i){var p=l.range?l.range.start:l.offset;p>i+1024&&e.errors.push(Be(t,o));for(var m=c.context.src,y=i;y<p;++y)if("\n"===m[y]){e.errors.push(new M(c,"Implicit keys of flow sequence pairs need to be on a single line"));break}}}else o=null;i=null,s=!1,a=null}else if("["===a||"]"!==h||u<t.items.length-1){var v="Flow sequence contains an unexpected ".concat(h),g=new B(t,v);g.offset=f,e.errors.push(g)}}else s=!0}else if(l.type===A.BLANK_LINE)r.push({before:n.length});else if(l.type===A.COMMENT)Me(e.errors,l),r.push({comment:l.comment,before:n.length});else{if(a){var b="Expected a ".concat(a," in flow sequence");e.errors.push(new M(l,b))}var w=$e(e,l);void 0===o?(n.push(w),c=l):(n.push(new he(o,w)),o=void 0),i=l.range.start,a=","}}return je(e.errors,t),void 0!==o&&n.push(new he(o)),{comments:r,items:n}}(e,t):function(e,t){for(var r=[],n=[],s=0;s<t.items.length;++s){var o=t.items[s];switch(o.type){case A.BLANK_LINE:r.push({before:n.length});break;case A.COMMENT:r.push({comment:o.comment,before:n.length});break;case A.SEQ_ITEM:if(o.error&&e.errors.push(o.error),n.push($e(e,o.node)),o.hasProps){e.errors.push(new M(o,"Sequence items cannot have tags or anchors before the - indicator"))}break;default:o.error&&e.errors.push(o.error),e.errors.push(new B(o,"Unexpected ".concat(o.type," node in sequence")))}}return{comments:r,items:n}}(e,t),s=n.comments,o=n.items,i=new le;return i.items=o,De(i,s),!e.options.mapAsMap&&o.some((function(e){return e instanceof he&&e.key instanceof ce}))&&e.warnings.push(new D(t,"Keys with collection values will be stringified as YAML due to JS Object restrictions. Use mapAsMap: true to avoid this.")),t.resolved=i,i}var Ge=r(23085).lW,Ke=r(34155),Je=r(25108),Qe={identify:function(e){return e instanceof Uint8Array},default:!1,tag:"tag:yaml.org,2002:binary",resolve:function(e,t){var r=Ue(e,t);if("function"==typeof Ge)return Ge.from(r,"base64");if("function"==typeof atob){for(var n=atob(r.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length),o=0;o<n.length;++o)s[o]=n.charCodeAt(o);return s}return e.errors.push(new j(t,"This environment does not support reading binary tags; either Buffer or atob is required")),null},options:ve,stringify:function(e,t,r,n){var s,o=e.comment,i=e.type,a=e.value;if("function"==typeof Ge)s=a instanceof Ge?a.toString("base64"):Ge.from(a.buffer).toString("base64");else{if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");for(var c="",u=0;u<a.length;++u)c+=String.fromCharCode(a[u]);s=btoa(c)}if(i||(i=ve.defaultType),i===A.QUOTE_DOUBLE)a=s;else{for(var l=ve.lineWidth,h=Math.ceil(s.length/l),f=new Array(h),d=0,p=0;d<h;++d,p+=l)f[d]=s.substr(p,l);a=f.join(i===A.BLOCK_LITERAL?"\n":" ")}return Le({comment:o,type:i,value:a},t,r,n)}};function Ye(e,t){for(var r=Ve(e,t),n=0;n<r.items.length;++n){var s=r.items[n];if(!(s instanceof he)){if(s instanceof me){if(s.items.length>1)throw new M(t,"Each pair must have its own sequence indicator");var o=s.items[0]||new he;s.commentBefore&&(o.commentBefore=o.commentBefore?"".concat(s.commentBefore,"\n").concat(o.commentBefore):s.commentBefore),s.comment&&(o.comment=o.comment?"".concat(s.comment,"\n").concat(o.comment):s.comment),s=o}r.items[n]=s instanceof he?s:new he(s)}}return r}function Xe(e,t,r){var n=new le(e);n.tag="tag:yaml.org,2002:pairs";var s,o=S(t);try{for(o.s();!(s=o.n()).done;){var i=s.value,a=void 0,c=void 0;if(Array.isArray(i)){if(2!==i.length)throw new TypeError("Expected [key, value] tuple: ".concat(i));a=i[0],c=i[1]}else if(i&&i instanceof Object){var u=Object.keys(i);if(1!==u.length)throw new TypeError("Expected { key: value } tuple: ".concat(i));c=i[a=u[0]]}else a=i;var l=e.createPair(a,c,r);n.items.push(l)}}catch(e){o.e(e)}finally{o.f()}return n}var Ze={default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Ye,createNode:Xe},et=function(e){c(r,e);var t=y(r);function r(){var e;return s(this,r),a(p(e=t.call(this)),"add",me.prototype.add.bind(p(e))),a(p(e),"delete",me.prototype.delete.bind(p(e))),a(p(e),"get",me.prototype.get.bind(p(e))),a(p(e),"has",me.prototype.has.bind(p(e))),a(p(e),"set",me.prototype.set.bind(p(e))),e.tag=r.tag,e}return i(r,[{key:"toJSON",value:function(e,t){var r=new Map;t&&t.onCreate&&t.onCreate(r);var n,s=S(this.items);try{for(s.s();!(n=s.n()).done;){var o=n.value,i=void 0,a=void 0;if(o instanceof he?(i=se(o.key,"",t),a=se(o.value,i,t)):i=se(o,"",t),r.has(i))throw new Error("Ordered maps must not include duplicate keys");r.set(i,a)}}catch(e){s.e(e)}finally{s.f()}return r}}]),r}(le);a(et,"tag","tag:yaml.org,2002:omap");var tt={identify:function(e){return e instanceof Map},nodeClass:et,default:!1,tag:"tag:yaml.org,2002:omap",resolve:function(e,t){var r,n=Ye(e,t),s=[],o=S(n.items);try{for(o.s();!(r=o.n()).done;){var i=r.value.key;if(i instanceof oe){if(s.includes(i.value))throw new M(t,"Ordered maps must not include duplicate keys");s.push(i.value)}}}catch(e){o.e(e)}finally{o.f()}return Object.assign(new et,n)},createNode:function(e,t,r){var n=Xe(e,t,r),s=new et;return s.items=n.items,s}},rt=function(e){c(r,e);var t=y(r);function r(){var e;return s(this,r),(e=t.call(this)).tag=r.tag,e}return i(r,[{key:"add",value:function(e){var t=e instanceof he?e:new he(e);pe(this.items,t.key)||this.items.push(t)}},{key:"get",value:function(e,t){var r=pe(this.items,e);return!t&&r instanceof he?r.key instanceof oe?r.key.value:r.key:r}},{key:"set",value:function(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(n(t)));var r=pe(this.items,e);r&&!t?this.items.splice(this.items.indexOf(r),1):!r&&t&&this.items.push(new he(e))}},{key:"toJSON",value:function(e,t){return v(u(r.prototype),"toJSON",this).call(this,e,t,Set)}},{key:"toString",value:function(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues())return v(u(r.prototype),"toString",this).call(this,e,t,n);throw new Error("Set items must all have null values")}}]),r}(me);a(rt,"tag","tag:yaml.org,2002:set");var nt={identify:function(e){return e instanceof Set},nodeClass:rt,default:!1,tag:"tag:yaml.org,2002:set",resolve:function(e,t){var r=Fe(e,t);if(!r.hasAllNullValues())throw new M(t,"Set items must all have null values");return Object.assign(new rt,r)},createNode:function(e,t,r){var n,s=new rt,o=S(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;s.items.push(e.createPair(i,null,r))}}catch(e){o.e(e)}finally{o.f()}return s}},st=function(e,t){var r=t.split(":").reduce((function(e,t){return 60*e+Number(t)}),0);return"-"===e?-r:r},ot=function(e){var t=e.value;if(isNaN(t)||!isFinite(t))return Ie(t);var r="";t<0&&(r="-",t=Math.abs(t));var n=[t%60];return t<60?n.unshift(0):(t=Math.round((t-n[0])/60),n.unshift(t%60),t>=60&&(t=Math.round((t-n[0])/60),n.unshift(t))),r+n.map((function(e){return e<10?"0"+String(e):String(e)})).join(":").replace(/000000\d*$/,"")},it={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+)$/,resolve:function(e,t,r){return st(t,r.replace(/_/g,""))},stringify:ot},at={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^([-+]?)([0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*)$/,resolve:function(e,t,r){return st(t,r.replace(/_/g,""))},stringify:ot},ct={identify:function(e){return e instanceof Date},default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^(?:([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?)$"),resolve:function(e,t,r,n,s,o,i,a,c){a&&(a=(a+"00").substr(1,3));var u=Date.UTC(t,r-1,n,s||0,o||0,i||0,a||0);if(c&&"Z"!==c){var l=st(c[0],c.slice(1));Math.abs(l)<30&&(l*=60),u-=6e4*l}return new Date(u)},stringify:function(e){return e.value.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")}};function ut(e){var t=void 0!==Ke&&Ke.env||{};return e?"undefined"!=typeof YAML_SILENCE_DEPRECATION_WARNINGS?!YAML_SILENCE_DEPRECATION_WARNINGS:!t.YAML_SILENCE_DEPRECATION_WARNINGS:"undefined"!=typeof YAML_SILENCE_WARNINGS?!YAML_SILENCE_WARNINGS:!t.YAML_SILENCE_WARNINGS}function lt(e,t){if(ut(!1)){var r=void 0!==Ke&&Ke.emitWarning;r?r(e,t):Je.warn(t?"".concat(t,": ").concat(e):e)}}var ht={},ft={createNode:function(e,t,r){var s=new me(e);if(t instanceof Map){var o,i=S(t);try{for(i.s();!(o=i.n()).done;){var a=g(o.value,2),c=a[0],u=a[1];s.items.push(e.createPair(c,u,r))}}catch(e){i.e(e)}finally{i.f()}}else if(t&&"object"===n(t))for(var l=0,h=Object.keys(t);l<h.length;l++){var f=h[l];s.items.push(e.createPair(f,t[f],r))}return"function"==typeof e.sortMapEntries&&s.items.sort(e.sortMapEntries),s},default:!0,nodeClass:me,tag:"tag:yaml.org,2002:map",resolve:Fe},dt={createNode:function(e,t,r){var n=new le(e);if(t&&t[Symbol.iterator]){var s,o=S(t);try{for(o.s();!(s=o.n()).done;){var i=s.value,a=e.createNode(i,r.wrapScalars,null,r);n.items.push(a)}}catch(e){o.e(e)}finally{o.f()}}return n},default:!0,nodeClass:le,tag:"tag:yaml.org,2002:seq",resolve:Ve},pt=[ft,dt,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:Ue,stringify:function(e,t,r,n){return Le(e,t=Object.assign({actualString:!0},t),r,n)},options:_e}],mt=function(e){return"bigint"==typeof e||Number.isInteger(e)},yt=function(e,t,r){return be.asBigInt?BigInt(e):parseInt(t,r)};function vt(e,t,r){var n=e.value;return mt(n)&&n>=0?r+n.toString(t):Ie(e)}var gt={identify:function(e){return null==e},createNode:function(e,t,r){return r.wrapScalars?new oe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:we,stringify:function(){return we.nullStr}},bt={identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:function(e){return"t"===e[0]||"T"===e[0]},options:ge,stringify:function(e){return e.value?ge.trueStr:ge.falseStr}},wt={identify:function(e){return mt(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o([0-7]+)$/,resolve:function(e,t){return yt(e,t,8)},options:be,stringify:function(e){return vt(e,8,"0o")}},_t={identify:mt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:function(e){return yt(e,e,10)},options:be,stringify:Ie},Et={identify:function(e){return mt(e)&&e>=0},default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x([0-9a-fA-F]+)$/,resolve:function(e,t){return yt(e,t,16)},options:be,stringify:function(e){return vt(e,16,"0x")}},kt={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ie},St={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e)},stringify:function(e){var t=e.value;return Number(t).toExponential()}},Ot={identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.([0-9]+)|[0-9]+\.([0-9]*))$/,resolve:function(e,t,r){var n=t||r,s=new oe(parseFloat(e));return n&&"0"===n[n.length-1]&&(s.minFractionDigits=n.length),s},stringify:Ie},At=pt.concat([gt,bt,wt,_t,Et,kt,St,Ot]),xt=function(e){return"bigint"==typeof e||Number.isInteger(e)},Tt=function(e){var t=e.value;return JSON.stringify(t)},Pt=[ft,dt,{identify:function(e){return"string"==typeof e},default:!0,tag:"tag:yaml.org,2002:str",resolve:Ue,stringify:Tt},{identify:function(e){return null==e},createNode:function(e,t,r){return r.wrapScalars?new oe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:function(){return null},stringify:Tt},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:function(e){return"true"===e},stringify:Tt},{identify:xt,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:function(e){return be.asBigInt?BigInt(e):parseInt(e,10)},stringify:function(e){var t=e.value;return xt(t)?t.toString():JSON.stringify(t)}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:function(e){return parseFloat(e)},stringify:Tt}];Pt.scalarFallback=function(e){throw new SyntaxError("Unresolved plain scalar ".concat(JSON.stringify(e)))};var Ct=function(e){return e.value?ge.trueStr:ge.falseStr},Rt=function(e){return"bigint"==typeof e||Number.isInteger(e)};function Nt(e,t,r){var n=t.replace(/_/g,"");if(be.asBigInt){switch(r){case 2:n="0b".concat(n);break;case 8:n="0o".concat(n);break;case 16:n="0x".concat(n)}var s=BigInt(n);return"-"===e?BigInt(-1)*s:s}var o=parseInt(n,r);return"-"===e?-1*o:o}function Lt(e,t,r){var n=e.value;if(Rt(n)){var s=n.toString(t);return n<0?"-"+r+s.substr(1):r+s}return Ie(e)}var It=pt.concat([{identify:function(e){return null==e},createNode:function(e,t,r){return r.wrapScalars?new oe(null):null},default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:function(){return null},options:we,stringify:function(){return we.nullStr}},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:function(){return!0},options:ge,stringify:Ct},{identify:function(e){return"boolean"==typeof e},default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:function(){return!1},options:ge,stringify:Ct},{identify:Rt,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^([-+]?)0b([0-1_]+)$/,resolve:function(e,t,r){return Nt(t,r,2)},stringify:function(e){return Lt(e,2,"0b")}},{identify:Rt,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^([-+]?)0([0-7_]+)$/,resolve:function(e,t,r){return Nt(t,r,8)},stringify:function(e){return Lt(e,8,"0")}},{identify:Rt,default:!0,tag:"tag:yaml.org,2002:int",test:/^([-+]?)([0-9][0-9_]*)$/,resolve:function(e,t,r){return Nt(t,r,10)},stringify:Ie},{identify:Rt,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^([-+]?)0x([0-9a-fA-F_]+)$/,resolve:function(e,t,r){return Nt(t,r,16)},stringify:function(e){return Lt(e,16,"0x")}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.inf|(\.nan))$/i,resolve:function(e,t){return t?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY},stringify:Ie},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?([0-9][0-9_]*)?(\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:function(e){return parseFloat(e.replace(/_/g,""))},stringify:function(e){var t=e.value;return Number(t).toExponential()}},{identify:function(e){return"number"==typeof e},default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.([0-9_]*)$/,resolve:function(e,t){var r=new oe(parseFloat(e.replace(/_/g,"")));if(t){var n=t.replace(/_/g,"");"0"===n[n.length-1]&&(r.minFractionDigits=n.length)}return r},stringify:Ie}],Qe,tt,Ze,nt,it,at,ct),jt={core:At,failsafe:pt,json:Pt,yaml11:It},Mt={binary:Qe,bool:bt,float:Ot,floatExp:St,floatNaN:kt,floatTime:at,int:_t,intHex:Et,intOct:wt,intTime:it,map:ft,null:gt,omap:tt,pairs:Ze,seq:dt,set:nt,timestamp:ct};var Bt=function(e,t){return e.key<t.key?-1:e.key>t.key?1:0},Dt=function(){function e(t){var r=t.customTags,n=t.merge,o=t.schema,i=t.sortMapEntries,a=t.tags;s(this,e),this.merge=!!n,this.name=o,this.sortMapEntries=!0===i?Bt:i||null,!r&&a&&function(e,t){if(!ht[e]&&ut(!0)){ht[e]=!0;var r="The option '".concat(e,"' will be removed in a future release");lt(r+=t?", use '".concat(t,"' instead."):".","DeprecationWarning")}}("tags","customTags"),this.tags=function(e,t,r,n){var s=e[n.replace(/\W/g,"")];if(!s){var o=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown schema "'.concat(n,'"; use one of ').concat(o))}if(Array.isArray(r)){var i,a=S(r);try{for(a.s();!(i=a.n()).done;){var c=i.value;s=s.concat(c)}}catch(e){a.e(e)}finally{a.f()}}else"function"==typeof r&&(s=r(s.slice()));for(var u=0;u<s.length;++u){var l=s[u];if("string"==typeof l){var h=t[l];if(!h){var f=Object.keys(t).map((function(e){return JSON.stringify(e)})).join(", ");throw new Error('Unknown custom tag "'.concat(l,'"; use one of ').concat(f))}s[u]=h}}return s}(jt,Mt,r||a,o)}return i(e,[{key:"createNode",value:function(t,r,s,o){var i={defaultPrefix:e.defaultPrefix,schema:this,wrapScalars:r};return function(e,t,r){if(e instanceof ne)return e;var s=r.defaultPrefix,o=r.onTagObj,i=r.prevObjects,a=r.schema,c=r.wrapScalars;t&&t.startsWith("!!")&&(t=s+t.slice(2));var u=function(e,t,r){if(t){var n=r.filter((function(e){return e.tag===t})),s=n.find((function(e){return!e.format}))||n[0];if(!s)throw new Error("Tag ".concat(t," not found"));return s}return r.find((function(t){return(t.identify&&t.identify(e)||t.class&&e instanceof t.class)&&!t.format}))}(e,t,a.tags);if(!u){if("function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!==n(e))return c?new oe(e):e;u=e instanceof Map?ft:e[Symbol.iterator]?dt:ft}o&&(o(u),delete r.onTagObj);var l={value:void 0,node:void 0};if(e&&"object"===n(e)&&i){var h=i.get(e);if(h){var f=new de(h);return r.aliasNodes.push(f),f}l.value=e,i.set(e,l)}return l.node=u.createNode?u.createNode(r.schema,e,r):c?new oe(e):e,t&&l.node instanceof ne&&(l.node.tag=t),l.node}(t,s,o?Object.assign(o,i):i)}},{key:"createPair",value:function(e,t,r){r||(r={wrapScalars:!0});var n=this.createNode(e,r.wrapScalars,null,r),s=this.createNode(t,r.wrapScalars,null,r);return new he(n,s)}}]),e}();a(Dt,"defaultPrefix",x),a(Dt,"defaultTags",T);var Ut={anchorPrefix:"a",customTags:null,indent:2,indentSeq:!0,keepCstNodes:!1,keepNodeTypes:!0,keepBlobsInJSON:!0,mapAsMap:!1,maxAliasCount:100,prettyErrors:!1,simpleKeys:!1,version:"1.2"},qt={get binary(){return ve},set binary(e){Object.assign(ve,e)},get bool(){return ge},set bool(e){Object.assign(ge,e)},get int(){return be},set int(e){Object.assign(be,e)},get null(){return we},set null(e){Object.assign(we,e)},get str(){return _e},set str(e){Object.assign(_e,e)}},Ht={"1.0":{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:x},{handle:"!!",prefix:"tag:private.yaml.org,2002:"}]},1.1:{schema:"yaml-1.1",merge:!0,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:x}]},1.2:{schema:"core",merge:!1,tagPrefixes:[{handle:"!",prefix:"!"},{handle:"!!",prefix:x}]}};function $t(e,t){if("1.0"===(e.version||e.options.version)){var r=t.match(/^tag:private\.yaml\.org,2002:([^:/]+)$/);if(r)return"!"+r[1];var n=t.match(/^tag:([a-zA-Z0-9-]+)\.yaml\.org,2002:(.*)/);return n?"!".concat(n[1],"/").concat(n[2]):"!".concat(t.replace(/^tag:/,""))}var s=e.tagPrefixes.find((function(e){return 0===t.indexOf(e.prefix)}));if(!s){var o=e.getDefaults().tagPrefixes;s=o&&o.find((function(e){return 0===t.indexOf(e.prefix)}))}if(!s)return"!"===t[0]?t:"!<".concat(t,">");var i=t.substr(s.prefix.length).replace(/[!,[\]{}]/g,(function(e){return{"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"}[e]}));return s.handle+i}function Ft(e,t,r,s){var o,i=t.doc,a=i.anchors,c=i.schema;if(!(e instanceof ne)){var u={aliasNodes:[],onTagObj:function(e){return o=e},prevObjects:new Map};e=c.createNode(e,!0,null,u);var l,h=S(u.aliasNodes);try{for(h.s();!(l=h.n()).done;){var f=l.value;f.source=f.source.node;var d=a.getName(f.source);d||(d=a.newName(),a.map[d]=f.source)}}catch(e){h.e(e)}finally{h.f()}}if(e instanceof he)return e.toString(t,r,s);o||(o=function(e,t){if(t instanceof de)return de;if(t.tag){var r=e.filter((function(e){return e.tag===t.tag}));if(r.length>0)return r.find((function(e){return e.format===t.format}))||r[0]}var s,o;if(t instanceof oe){o=t.value;var i=e.filter((function(e){return e.identify&&e.identify(o)||e.class&&o instanceof e.class}));s=i.find((function(e){return e.format===t.format}))||i.find((function(e){return!e.format}))}else o=t,s=e.find((function(e){return e.nodeClass&&o instanceof e.nodeClass}));if(!s){var a=o&&o.constructor?o.constructor.name:n(o);throw new Error("Tag not resolved for ".concat(a," value"))}return s}(c.tags,e));var p=function(e,t,r){var n=r.anchors,s=r.doc,o=[],i=s.anchors.getName(e);return i&&(n[i]=e,o.push("&".concat(i))),e.tag?o.push($t(s,e.tag)):t.default||o.push($t(s,t.tag)),o.join(" ")}(e,o,t);p.length>0&&(t.indentAtStart=(t.indentAtStart||0)+p.length+1);var m="function"==typeof o.stringify?o.stringify(e,t,r,s):e instanceof oe?Le(e,t,r,s):e.toString(t,r,s);return p?e instanceof oe||"{"===m[0]||"["===m[0]?"".concat(p," ").concat(m):"".concat(p,"\n").concat(t.indent).concat(m):m}var Wt=function(){function e(t){s(this,e),a(this,"map",Object.create(null)),this.prefix=t}return i(e,[{key:"createAlias",value:function(e,t){return this.setAnchor(e,t),new de(e)}},{key:"createMergePair",value:function(){for(var e=this,t=new ye,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.value.items=n.map((function(t){if(t instanceof de){if(t.source instanceof me)return t}else if(t instanceof me)return e.createAlias(t);throw new Error("Merge sources must be Map nodes or their Aliases")})),t}},{key:"getName",value:function(e){var t=this.map;return Object.keys(t).find((function(r){return t[r]===e}))}},{key:"getNames",value:function(){return Object.keys(this.map)}},{key:"getNode",value:function(e){return this.map[e]}},{key:"newName",value:function(e){e||(e=this.prefix);for(var t=Object.keys(this.map),r=1;;++r){var n="".concat(e).concat(r);if(!t.includes(n))return n}}},{key:"resolveNodes",value:function(){var e=this.map,t=this._cstAliases;Object.keys(e).forEach((function(t){e[t]=e[t].resolved})),t.forEach((function(e){e.source=e.source.resolved})),delete this._cstAliases}},{key:"setAnchor",value:function(t,r){if(null!=t&&!e.validAnchorNode(t))throw new Error("Anchors may only be set for Scalar, Seq and Map nodes");if(r&&/[\x00-\x19\s,[\]{}]/.test(r))throw new Error("Anchor names must not contain whitespace or control characters");var n=this.map,s=t&&Object.keys(n).find((function(e){return n[e]===t}));if(s){if(!r)return s;s!==r&&(delete n[s],n[r]=t)}else{if(!r){if(!t)return null;r=this.newName()}n[r]=t}return r}}],[{key:"validAnchorNode",value:function(e){return e instanceof oe||e instanceof le||e instanceof me}}]),e}(),zt=function e(t,r){if(t&&"object"===n(t)){var s=t.tag;t instanceof ce?(s&&(r[s]=!0),t.items.forEach((function(t){return e(t,r)}))):t instanceof he?(e(t.key,r),e(t.value,r)):t instanceof oe&&s&&(r[s]=!0)}return r},Vt=function(e){return Object.keys(zt(e,{}))};function Gt(e,t){var r=e.tagPrefixes,n=g(t.parameters,2),s=n[0],o=n[1];if(!s||!o)throw new M(t,"Insufficient parameters given for %TAG directive");if(r.some((function(e){return e.handle===s})))throw new M(t,"The %TAG directive must only be given at most once per handle in the same document.");return{handle:s,prefix:o}}function Kt(e,t){var r=g(t.parameters,1)[0];if("YAML:1.0"===t.name&&(r="1.0"),!r)throw new M(t,"Insufficient parameters given for %YAML directive");if(!Ht[r]){var n=e.version||e.options.version,s="Document will be parsed as YAML ".concat(n," rather than YAML ").concat(r);e.warnings.push(new D(t,s))}return r}function Jt(e){if(e instanceof ce)return!0;throw new Error("Expected a YAML collection as document contents")}var Qt=function(){function e(t){s(this,e),this.anchors=new Wt(t.anchorPrefix),this.commentBefore=null,this.comment=null,this.contents=null,this.directivesEndMarker=null,this.errors=[],this.options=t,this.schema=null,this.tagPrefixes=[],this.version=null,this.warnings=[]}return i(e,[{key:"add",value:function(e){return Jt(this.contents),this.contents.add(e)}},{key:"addIn",value:function(e,t){Jt(this.contents),this.contents.addIn(e,t)}},{key:"delete",value:function(e){return Jt(this.contents),this.contents.delete(e)}},{key:"deleteIn",value:function(e){return ae(e)?null!=this.contents&&(this.contents=null,!0):(Jt(this.contents),this.contents.deleteIn(e))}},{key:"getDefaults",value:function(){return e.defaults[this.version]||e.defaults[this.options.version]||{}}},{key:"get",value:function(e,t){return this.contents instanceof ce?this.contents.get(e,t):void 0}},{key:"getIn",value:function(e,t){return ae(e)?!t&&this.contents instanceof oe?this.contents.value:this.contents:this.contents instanceof ce?this.contents.getIn(e,t):void 0}},{key:"has",value:function(e){return this.contents instanceof ce&&this.contents.has(e)}},{key:"hasIn",value:function(e){return ae(e)?void 0!==this.contents:this.contents instanceof ce&&this.contents.hasIn(e)}},{key:"set",value:function(e,t){Jt(this.contents),this.contents.set(e,t)}},{key:"setIn",value:function(e,t){ae(e)?this.contents=t:(Jt(this.contents),this.contents.setIn(e,t))}},{key:"setSchema",value:function(e,t){if(e||t||!this.schema){"number"==typeof e&&(e=e.toFixed(1)),"1.0"===e||"1.1"===e||"1.2"===e?(this.version?this.version=e:this.options.version=e,delete this.options.schema):e&&"string"==typeof e&&(this.options.schema=e),Array.isArray(t)&&(this.options.customTags=t);var r=Object.assign({},this.getDefaults(),this.options);this.schema=new Dt(r)}}},{key:"parse",value:function(e,t){this.options.keepCstNodes&&(this.cstNode=e),this.options.keepNodeTypes&&(this.type="DOCUMENT");var r=e.directives,n=void 0===r?[]:r,s=e.contents,o=void 0===s?[]:s,i=e.directivesEndMarker,a=e.error,c=e.valueRange;if(a&&(a.source||(a.source=this),this.errors.push(a)),function(e,t,r){var n,s=[],o=!1,i=S(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,c=a.comment,u=a.name;switch(u){case"TAG":try{e.tagPrefixes.push(Gt(e,a))}catch(t){e.errors.push(t)}o=!0;break;case"YAML":case"YAML:1.0":e.version&&e.errors.push(new M(a,"The %YAML directive must only be given at most once per document."));try{e.version=Kt(e,a)}catch(t){e.errors.push(t)}o=!0;break;default:if(u){var l="YAML only supports %TAG and %YAML directives, and not %".concat(u);e.warnings.push(new D(a,l))}}c&&s.push(c)}}catch(e){i.e(e)}finally{i.f()}r&&!o&&"1.1"===(e.version||r.version||e.options.version)&&(e.tagPrefixes=r.tagPrefixes.map((function(e){return{handle:e.handle,prefix:e.prefix}})),e.version=r.version),e.commentBefore=s.join("\n")||null}(this,n,t),i&&(this.directivesEndMarker=!0),this.range=c?[c.start,c.end]:null,this.setSchema(),this.anchors._cstAliases=[],function(e,t){var r,n={before:[],after:[]},s=void 0,o=!1,i=S(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.valueRange){if(void 0!==s){e.errors.push(new B(a,"Document contains trailing content not separated by a ... or --- line"));break}var c=$e(e,a);o&&(c.spaceBefore=!0,o=!1),s=c}else null!==a.comment?(void 0===s?n.before:n.after).push(a.comment):a.type===A.BLANK_LINE&&(o=!0,void 0===s&&n.before.length>0&&!e.commentBefore&&(e.commentBefore=n.before.join("\n"),n.before=[]))}}catch(e){i.e(e)}finally{i.f()}if(e.contents=s||null,s){var u=n.before.join("\n");if(u){var l=s instanceof ce&&s.items[0]?s.items[0]:s;l.commentBefore=l.commentBefore?"".concat(u,"\n").concat(l.commentBefore):u}e.comment=n.after.join("\n")||null}else e.comment=n.before.concat(n.after).join("\n")||null}(this,o),this.anchors.resolveNodes(),this.options.prettyErrors){var u,l=S(this.errors);try{for(l.s();!(u=l.n()).done;){var h=u.value;h instanceof I&&h.makePretty()}}catch(e){l.e(e)}finally{l.f()}var f,d=S(this.warnings);try{for(d.s();!(f=d.n()).done;){var p=f.value;p instanceof I&&p.makePretty()}}catch(e){d.e(e)}finally{d.f()}}return this}},{key:"listNonDefaultTags",value:function(){return Vt(this.contents).filter((function(e){return 0!==e.indexOf(Dt.defaultPrefix)}))}},{key:"setTagPrefix",value:function(e,t){if("!"!==e[0]||"!"!==e[e.length-1])throw new Error("Handle must start and end with !");if(t){var r=this.tagPrefixes.find((function(t){return t.handle===e}));r?r.prefix=t:this.tagPrefixes.push({handle:e,prefix:t})}else this.tagPrefixes=this.tagPrefixes.filter((function(t){return t.handle!==e}))}},{key:"toJSON",value:function(e,t){var r=this,n=this.options,s=n.keepBlobsInJSON,o=n.mapAsMap,i=n.maxAliasCount,a=s&&("string"!=typeof e||!(this.contents instanceof oe)),c={doc:this,indentStep:"  ",keep:a,mapAsMap:a&&!!o,maxAliasCount:i,stringify:Ft},u=Object.keys(this.anchors.map);u.length>0&&(c.anchors=new Map(u.map((function(e){return[r.anchors.map[e],{alias:[],aliasCount:0,count:1}]}))));var l=se(this.contents,e,c);if("function"==typeof t&&c.anchors){var h,f=S(c.anchors.values());try{for(f.s();!(h=f.n()).done;){var d=h.value,p=d.count;t(d.res,p)}}catch(e){f.e(e)}finally{f.f()}}return l}},{key:"toString",value:function(){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");var e=this.options.indent;if(!Number.isInteger(e)||e<=0){var t=JSON.stringify(e);throw new Error('"indent" option must be a positive integer, not '.concat(t))}this.setSchema();var r=[],n=!1;if(this.version){var s="%YAML 1.2";"yaml-1.1"===this.schema.name&&("1.0"===this.version?s="%YAML:1.0":"1.1"===this.version&&(s="%YAML 1.1")),r.push(s),n=!0}var o=this.listNonDefaultTags();this.tagPrefixes.forEach((function(e){var t=e.handle,s=e.prefix;o.some((function(e){return 0===e.indexOf(s)}))&&(r.push("%TAG ".concat(t," ").concat(s)),n=!0)})),(n||this.directivesEndMarker)&&r.push("---"),this.commentBefore&&(!n&&this.directivesEndMarker||r.unshift(""),r.unshift(this.commentBefore.replace(/^/gm,"#")));var i={anchors:Object.create(null),doc:this,indent:"",indentStep:" ".repeat(e),stringify:Ft},a=!1,c=null;if(this.contents){this.contents instanceof ne&&(this.contents.spaceBefore&&(n||this.directivesEndMarker)&&r.push(""),this.contents.commentBefore&&r.push(this.contents.commentBefore.replace(/^/gm,"#")),i.forceBlockIndent=!!this.comment,c=this.contents.comment);var u=c?null:function(){return a=!0},l=Ft(this.contents,i,(function(){return c=null}),u);r.push(re(l,"",c))}else void 0!==this.contents&&r.push(Ft(this.contents,i));return this.comment&&(a&&!c||""===r[r.length-1]||r.push(""),r.push(this.comment.replace(/^/gm,"#"))),r.join("\n")+"\n"}}]),e}();a(Qt,"defaults",Ht);var Yt=function(e){c(r,e);var t=y(r);function r(e){return s(this,r),t.call(this,Object.assign({},Ut,e))}return r}(Qt);function Xt(e,t){var r=te(e),n=new Yt(t).parse(r[0]);return r.length>1&&n.errors.unshift(new M(r[1],"Source contains multiple documents; please use YAML.parseAllDocuments()")),n}var Zt={createNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;void 0===r&&"string"==typeof t&&(r=t,t=!0);var n=Object.assign({},Qt.defaults[Ut.version],Ut);return new Dt(n).createNode(e,t,r)},defaultOptions:Ut,Document:Yt,parse:function(e,t){var r=Xt(e,t);if(r.warnings.forEach((function(e){return lt(e)})),r.errors.length>0)throw r.errors[0];return r.toJSON()},parseAllDocuments:function(e,t){var r,n,s=[],o=S(te(e));try{for(o.s();!(n=o.n()).done;){var i=n.value,a=new Yt(t);a.parse(i,r),s.push(a),r=a}}catch(e){o.e(e)}finally{o.f()}return s},parseCST:te,parseDocument:Xt,scalarOptions:qt,stringify:function(e,t){var r=new Yt(t);return r.contents=e,String(r)}}}}]);